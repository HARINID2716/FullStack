function Q0(n,a){for(var s=0;s<a.length;s++){const i=a[s];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const u=Object.getOwnPropertyDescriptor(i,o);u&&Object.defineProperty(n,o,u.get?u:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=s(o);fetch(o.href,u)}})();function Gp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Kc={exports:{}},bl={};var kg;function X0(){if(kg)return bl;kg=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(i,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:n,type:i,key:d,ref:o!==void 0?o:null,props:u}}return bl.Fragment=a,bl.jsx=s,bl.jsxs=s,bl}var zg;function F0(){return zg||(zg=1,Kc.exports=X0()),Kc.exports}var h=F0(),Yc={exports:{}},Ae={};var Mg;function Z0(){if(Mg)return Ae;Mg=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function x(U){return U===null||typeof U!="object"?null:(U=S&&U[S]||U["@@iterator"],typeof U=="function"?U:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,E={};function C(U,I,ne){this.props=U,this.context=I,this.refs=E,this.updater=ne||j}C.prototype.isReactComponent={},C.prototype.setState=function(U,I){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,I,"setState")},C.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function D(){}D.prototype=C.prototype;function T(U,I,ne){this.props=U,this.context=I,this.refs=E,this.updater=ne||j}var V=T.prototype=new D;V.constructor=T,O(V,C.prototype),V.isPureReactComponent=!0;var Z=Array.isArray;function Y(){}var N={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function F(U,I,ne){var ie=ne.ref;return{$$typeof:n,type:U,key:I,ref:ie!==void 0?ie:null,props:ne}}function ce(U,I){return F(U.type,I,U.props)}function ae(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function z(U){var I={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ne){return I[ne]})}var de=/\/+/g;function we(U,I){return typeof U=="object"&&U!==null&&U.key!=null?z(""+U.key):I.toString(36)}function xe(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(Y,Y):(U.status="pending",U.then(function(I){U.status==="pending"&&(U.status="fulfilled",U.value=I)},function(I){U.status==="pending"&&(U.status="rejected",U.reason=I)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function P(U,I,ne,ie,ve){var Re=typeof U;(Re==="undefined"||Re==="boolean")&&(U=null);var Le=!1;if(U===null)Le=!0;else switch(Re){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(U.$$typeof){case n:case a:Le=!0;break;case b:return Le=U._init,P(Le(U._payload),I,ne,ie,ve)}}if(Le)return ve=ve(U),Le=ie===""?"."+we(U,0):ie,Z(ve)?(ne="",Le!=null&&(ne=Le.replace(de,"$&/")+"/"),P(ve,I,ne,"",function(Yn){return Yn})):ve!=null&&(ae(ve)&&(ve=ce(ve,ne+(ve.key==null||U&&U.key===ve.key?"":(""+ve.key).replace(de,"$&/")+"/")+Le)),I.push(ve)),1;Le=0;var mt=ie===""?".":ie+":";if(Z(U))for(var rt=0;rt<U.length;rt++)ie=U[rt],Re=mt+we(ie,rt),Le+=P(ie,I,ne,Re,ve);else if(rt=x(U),typeof rt=="function")for(U=rt.call(U),rt=0;!(ie=U.next()).done;)ie=ie.value,Re=mt+we(ie,rt++),Le+=P(ie,I,ne,Re,ve);else if(Re==="object"){if(typeof U.then=="function")return P(xe(U),I,ne,ie,ve);throw I=String(U),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return Le}function te(U,I,ne){if(U==null)return U;var ie=[],ve=0;return P(U,ie,"","",function(Re){return I.call(ne,Re,ve++)}),ie}function se(U){if(U._status===-1){var I=U._result;I=I(),I.then(function(ne){(U._status===0||U._status===-1)&&(U._status=1,U._result=ne)},function(ne){(U._status===0||U._status===-1)&&(U._status=2,U._result=ne)}),U._status===-1&&(U._status=0,U._result=I)}if(U._status===1)return U._result.default;throw U._result}var Ee=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Te={map:te,forEach:function(U,I,ne){te(U,function(){I.apply(this,arguments)},ne)},count:function(U){var I=0;return te(U,function(){I++}),I},toArray:function(U){return te(U,function(I){return I})||[]},only:function(U){if(!ae(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Ae.Activity=v,Ae.Children=Te,Ae.Component=C,Ae.Fragment=s,Ae.Profiler=o,Ae.PureComponent=T,Ae.StrictMode=i,Ae.Suspense=g,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(U){return N.H.useMemoCache(U)}},Ae.cache=function(U){return function(){return U.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(U,I,ne){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ie=O({},U.props),ve=U.key;if(I!=null)for(Re in I.key!==void 0&&(ve=""+I.key),I)!B.call(I,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&I.ref===void 0||(ie[Re]=I[Re]);var Re=arguments.length-2;if(Re===1)ie.children=ne;else if(1<Re){for(var Le=Array(Re),mt=0;mt<Re;mt++)Le[mt]=arguments[mt+2];ie.children=Le}return F(U.type,ve,ie)},Ae.createContext=function(U){return U={$$typeof:d,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:u,_context:U},U},Ae.createElement=function(U,I,ne){var ie,ve={},Re=null;if(I!=null)for(ie in I.key!==void 0&&(Re=""+I.key),I)B.call(I,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ve[ie]=I[ie]);var Le=arguments.length-2;if(Le===1)ve.children=ne;else if(1<Le){for(var mt=Array(Le),rt=0;rt<Le;rt++)mt[rt]=arguments[rt+2];ve.children=mt}if(U&&U.defaultProps)for(ie in Le=U.defaultProps,Le)ve[ie]===void 0&&(ve[ie]=Le[ie]);return F(U,Re,ve)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(U){return{$$typeof:m,render:U}},Ae.isValidElement=ae,Ae.lazy=function(U){return{$$typeof:b,_payload:{_status:-1,_result:U},_init:se}},Ae.memo=function(U,I){return{$$typeof:p,type:U,compare:I===void 0?null:I}},Ae.startTransition=function(U){var I=N.T,ne={};N.T=ne;try{var ie=U(),ve=N.S;ve!==null&&ve(ne,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Y,Ee)}catch(Re){Ee(Re)}finally{I!==null&&ne.types!==null&&(I.types=ne.types),N.T=I}},Ae.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ae.use=function(U){return N.H.use(U)},Ae.useActionState=function(U,I,ne){return N.H.useActionState(U,I,ne)},Ae.useCallback=function(U,I){return N.H.useCallback(U,I)},Ae.useContext=function(U){return N.H.useContext(U)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(U,I){return N.H.useDeferredValue(U,I)},Ae.useEffect=function(U,I){return N.H.useEffect(U,I)},Ae.useEffectEvent=function(U){return N.H.useEffectEvent(U)},Ae.useId=function(){return N.H.useId()},Ae.useImperativeHandle=function(U,I,ne){return N.H.useImperativeHandle(U,I,ne)},Ae.useInsertionEffect=function(U,I){return N.H.useInsertionEffect(U,I)},Ae.useLayoutEffect=function(U,I){return N.H.useLayoutEffect(U,I)},Ae.useMemo=function(U,I){return N.H.useMemo(U,I)},Ae.useOptimistic=function(U,I){return N.H.useOptimistic(U,I)},Ae.useReducer=function(U,I,ne){return N.H.useReducer(U,I,ne)},Ae.useRef=function(U){return N.H.useRef(U)},Ae.useState=function(U){return N.H.useState(U)},Ae.useSyncExternalStore=function(U,I,ne){return N.H.useSyncExternalStore(U,I,ne)},Ae.useTransition=function(){return N.H.useTransition()},Ae.version="19.2.3",Ae}var Lg;function Ud(){return Lg||(Lg=1,Yc.exports=Z0()),Yc.exports}var _=Ud();const W0=Gp(_),eb=Q0({__proto__:null,default:W0},[_]);var Ic={exports:{}},wl={},Jc={exports:{}},Qc={};var qg;function tb(){return qg||(qg=1,(function(n){function a(P,te){var se=P.length;P.push(te);e:for(;0<se;){var Ee=se-1>>>1,Te=P[Ee];if(0<o(Te,te))P[Ee]=te,P[se]=Te,se=Ee;else break e}}function s(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var te=P[0],se=P.pop();if(se!==te){P[0]=se;e:for(var Ee=0,Te=P.length,U=Te>>>1;Ee<U;){var I=2*(Ee+1)-1,ne=P[I],ie=I+1,ve=P[ie];if(0>o(ne,se))ie<Te&&0>o(ve,ne)?(P[Ee]=ve,P[ie]=se,Ee=ie):(P[Ee]=ne,P[I]=se,Ee=I);else if(ie<Te&&0>o(ve,se))P[Ee]=ve,P[ie]=se,Ee=ie;else break e}}return te}function o(P,te){var se=P.sortIndex-te.sortIndex;return se!==0?se:P.id-te.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();n.unstable_now=function(){return d.now()-m}}var g=[],p=[],b=1,v=null,S=3,x=!1,j=!1,O=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function V(P){for(var te=s(p);te!==null;){if(te.callback===null)i(p);else if(te.startTime<=P)i(p),te.sortIndex=te.expirationTime,a(g,te);else break;te=s(p)}}function Z(P){if(O=!1,V(P),!j)if(s(g)!==null)j=!0,Y||(Y=!0,z());else{var te=s(p);te!==null&&xe(Z,te.startTime-P)}}var Y=!1,N=-1,B=5,F=-1;function ce(){return E?!0:!(n.unstable_now()-F<B)}function ae(){if(E=!1,Y){var P=n.unstable_now();F=P;var te=!0;try{e:{j=!1,O&&(O=!1,D(N),N=-1),x=!0;var se=S;try{t:{for(V(P),v=s(g);v!==null&&!(v.expirationTime>P&&ce());){var Ee=v.callback;if(typeof Ee=="function"){v.callback=null,S=v.priorityLevel;var Te=Ee(v.expirationTime<=P);if(P=n.unstable_now(),typeof Te=="function"){v.callback=Te,V(P),te=!0;break t}v===s(g)&&i(g),V(P)}else i(g);v=s(g)}if(v!==null)te=!0;else{var U=s(p);U!==null&&xe(Z,U.startTime-P),te=!1}}break e}finally{v=null,S=se,x=!1}te=void 0}}finally{te?z():Y=!1}}}var z;if(typeof T=="function")z=function(){T(ae)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,we=de.port2;de.port1.onmessage=ae,z=function(){we.postMessage(null)}}else z=function(){C(ae,0)};function xe(P,te){N=C(function(){P(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(P){P.callback=null},n.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<P?Math.floor(1e3/P):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(P){switch(S){case 1:case 2:case 3:var te=3;break;default:te=S}var se=S;S=te;try{return P()}finally{S=se}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(P,te){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var se=S;S=P;try{return te()}finally{S=se}},n.unstable_scheduleCallback=function(P,te,se){var Ee=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ee+se:Ee):se=Ee,P){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=se+Te,P={id:b++,callback:te,priorityLevel:P,startTime:se,expirationTime:Te,sortIndex:-1},se>Ee?(P.sortIndex=se,a(p,P),s(g)===null&&P===s(p)&&(O?(D(N),N=-1):O=!0,xe(Z,se-Ee))):(P.sortIndex=Te,a(g,P),j||x||(j=!0,Y||(Y=!0,z()))),P},n.unstable_shouldYield=ce,n.unstable_wrapCallback=function(P){var te=S;return function(){var se=S;S=te;try{return P.apply(this,arguments)}finally{S=se}}}})(Qc)),Qc}var Bg;function ab(){return Bg||(Bg=1,Jc.exports=tb()),Jc.exports}var Xc={exports:{}},Bt={};var $g;function nb(){if($g)return Bt;$g=1;var n=Ud();function a(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:g,containerInfo:p,implementation:b}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Bt.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return u(g,p,null,b)},Bt.flushSync=function(g){var p=d.T,b=i.p;try{if(d.T=null,i.p=2,g)return g()}finally{d.T=p,i.p=b,i.d.f()}},Bt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(g,p))},Bt.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Bt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,v=m(b,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?i.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:x}):b==="script"&&i.d.X(g,{crossOrigin:v,integrity:S,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Bt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=m(p.as,p.crossOrigin);i.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(g)},Bt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,v=m(b,p.crossOrigin);i.d.L(g,b,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Bt.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=m(p.as,p.crossOrigin);i.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(g)},Bt.requestFormReset=function(g){i.d.r(g)},Bt.unstable_batchedUpdates=function(g,p){return g(p)},Bt.useFormState=function(g,p,b){return d.H.useFormState(g,p,b)},Bt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Bt.version="19.2.3",Bt}var Hg;function Kp(){if(Hg)return Xc.exports;Hg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),Xc.exports=nb(),Xc.exports}var Pg;function rb(){if(Pg)return wl;Pg=1;var n=ab(),a=Ud(),s=Kp();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(i(188))}function p(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(i(188));return t!==e?null:e}for(var r=e,l=t;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),e;if(f===l)return g(c),t;f=f.sibling}throw Error(i(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,w=c.child;w;){if(w===r){y=!0,r=c,l=f;break}if(w===l){y=!0,l=c,r=f;break}w=w.sibling}if(!y){for(w=f.child;w;){if(w===r){y=!0,r=f,l=c;break}if(w===l){y=!0,l=f,r=c;break}w=w.sibling}if(!y)throw Error(i(189))}}if(r.alternate!==l)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),T=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=ae&&e[ae]||e["@@iterator"],typeof e=="function"?e:null)}var de=Symbol.for("react.client.reference");function we(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===de?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case Z:return"Suspense";case Y:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case T:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case V:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return t=e.displayName||null,t!==null?t:we(e.type)||"Memo";case B:t=e._payload,e=e._init;try{return we(e(t))}catch{}}return null}var xe=Array.isArray,P=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Ee=[],Te=-1;function U(e){return{current:e}}function I(e){0>Te||(e.current=Ee[Te],Ee[Te]=null,Te--)}function ne(e,t){Te++,Ee[Te]=e.current,e.current=t}var ie=U(null),ve=U(null),Re=U(null),Le=U(null);function mt(e,t){switch(ne(Re,t),ne(ve,e),ne(ie,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ng(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ng(t),e=rg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(ie),ne(ie,e)}function rt(){I(ie),I(ve),I(Re)}function Yn(e){e.memoizedState!==null&&ne(Le,e);var t=ie.current,r=rg(t,e.type);t!==r&&(ne(ve,e),ne(ie,r))}function Rr(e){ve.current===e&&(I(ie),I(ve)),Le.current===e&&(I(Le),gl._currentValue=se)}var bt,Pa;function ka(e){if(bt===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);bt=t&&t[1]||"",Pa=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bt+e+Pa}var js=!1;function xa(e,t){if(!e||js)return"";js=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(K){var H=K}Reflect.construct(e,[],X)}else{try{X.call()}catch(K){H=K}e.call(X.prototype)}}else{try{throw Error()}catch(K){H=K}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],w=f[1];if(y&&w){var A=y.split(`
`),$=w.split(`
`);for(c=l=0;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;for(;c<$.length&&!$[c].includes("DetermineComponentFrameRoot");)c++;if(l===A.length||c===$.length)for(l=A.length-1,c=$.length-1;1<=l&&0<=c&&A[l]!==$[c];)c--;for(;1<=l&&0<=c;l--,c--)if(A[l]!==$[c]){if(l!==1||c!==1)do if(l--,c--,0>c||A[l]!==$[c]){var J=`
`+A[l].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=l&&0<=c);break}}}finally{js=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ka(r):""}function Uo(e,t){switch(e.tag){case 26:case 27:case 5:return ka(e.type);case 16:return ka("Lazy");case 13:return e.child!==t&&t!==null?ka("Suspense Fallback"):ka("Suspense");case 19:return ka("SuspenseList");case 0:case 15:return xa(e.type,!1);case 11:return xa(e.type.render,!1);case 1:return xa(e.type,!0);case 31:return ka("Activity");default:return""}}function Gl(e){try{var t="",r=null;do t+=Uo(e,r),r=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ar=Object.prototype.hasOwnProperty,Ns=n.unstable_scheduleCallback,Ts=n.unstable_cancelCallback,ko=n.unstable_shouldYield,zo=n.unstable_requestPaint,gt=n.unstable_now,In=n.unstable_getCurrentPriorityLevel,Rs=n.unstable_ImmediatePriority,Or=n.unstable_UserBlockingPriority,Pt=n.unstable_NormalPriority,_a=n.unstable_LowPriority,As=n.unstable_IdlePriority,Mo=n.log,Os=n.unstable_setDisableYieldValue,Jn=null,st=null;function Sa(e){if(typeof Mo=="function"&&Os(e),st&&typeof st.setStrictMode=="function")try{st.setStrictMode(Jn,e)}catch{}}var qt=Math.clz32?Math.clz32:Yl,Kl=Math.log,Lo=Math.LN2;function Yl(e){return e>>>=0,e===0?32:31-(Kl(e)/Lo|0)|0}var Va=256,Qn=262144,hn=4194304;function Ga(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xn(e,t,r){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var w=l&134217727;return w!==0?(l=w&~f,l!==0?c=Ga(l):(y&=w,y!==0?c=Ga(y):r||(r=w&~e,r!==0&&(c=Ga(r))))):(w=l&~f,w!==0?c=Ga(w):y!==0?c=Ga(y):r||(r=l&~e,r!==0&&(c=Ga(r)))),c===0?0:t!==0&&t!==c&&(t&f)===0&&(f=c&-c,r=t&-t,f>=r||f===32&&(r&4194048)!==0)?t:c}function Fn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Il(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zn(){var e=hn;return hn<<=1,(hn&62914560)===0&&(hn=4194304),e}function mn(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qo(e,t,r,l,c,f){var y=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var w=e.entanglements,A=e.expirationTimes,$=e.hiddenUpdates;for(r=y&~r;0<r;){var J=31-qt(r),X=1<<J;w[J]=0,A[J]=-1;var H=$[J];if(H!==null)for($[J]=null,J=0;J<H.length;J++){var K=H[J];K!==null&&(K.lane&=-536870913)}r&=~X}l!==0&&Jl(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~t))}function Jl(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-qt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function R(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var l=31-qt(r),c=1<<l;c&t|e[l]&t&&(e[l]|=t),r&=~c}}function L(e,t){var r=t&-t;return r=(r&42)!==0?1:G(r),(r&(e.suspendedLanes|t))!==0?0:r}function G(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ee(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function re(){var e=te.p;return e!==0?e:(e=window.event,e===void 0?32:Tg(e.type))}function ge(e,t){var r=te.p;try{return te.p=e,t()}finally{te.p=r}}var oe=Math.random().toString(36).slice(2),le="__reactFiber$"+oe,ue="__reactProps$"+oe,me="__reactContainer$"+oe,_e="__reactEvents$"+oe,ye="__reactListeners$"+oe,Ve="__reactHandles$"+oe,qe="__reactResources$"+oe,lt="__reactMarker$"+oe;function ot(e){delete e[le],delete e[ue],delete e[_e],delete e[ye],delete e[Ve]}function ut(e){var t=e[le];if(t)return t;for(var r=e.parentNode;r;){if(t=r[me]||r[le]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=dg(e);e!==null;){if(r=e[le])return r;e=dg(e)}return t}e=r,r=e.parentNode}return null}function Be(e){if(e=e[le]||e[me]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Tt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Vt(e){var t=e[qe];return t||(t=e[qe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function at(e){e[lt]=!0}var Ea=new Set,Xt={};function ja(e,t){ua(e,t),ua(e+"Capture",t)}function ua(e,t){for(Xt[e]=t,e=0;e<t.length;e++)Ea.add(t[e])}var Ka=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wn={},er={};function $e(e){return Ar.call(er,e)?!0:Ar.call(Wn,e)?!1:Ka.test(e)?er[e]=!0:(Wn[e]=!0,!1)}function pt(e,t,r){if($e(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Na(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function Ot(e,t,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+l)}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tr(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ql(e,t,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(y){r=""+y,f.call(this,y)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cs(e){if(!e._valueTracker){var t=tr(e)?"checked":"value";e._valueTracker=Ql(e,t,""+e[t])}}function Qd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),l="";return e&&(l=tr(e)?e.checked?"true":"false":e.value),e=l,e!==r?(t.setValue(e),!0):!1}function Xl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Vy=/[\n"\\]/g;function ca(e){return e.replace(Vy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Bo(e,t,r,l,c,f,y,w){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+He(t)):e.value!==""+He(t)&&(e.value=""+He(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?$o(e,y,He(t)):r!=null?$o(e,y,He(r)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+He(w):e.removeAttribute("name")}function Xd(e,t,r,l,c,f,y,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){Cs(e);return}r=r!=null?""+He(r):"",t=t!=null?""+He(t):r,w||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=w?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Cs(e)}function $o(e,t,r){t==="number"&&Xl(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Cr(e,t,r,l){if(e=e.options,t){t={};for(var c=0;c<r.length;c++)t["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=t.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&l&&(e[r].defaultSelected=!0)}else{for(r=""+He(r),t=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Fd(e,t,r){if(t!=null&&(t=""+He(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+He(r):""}function Zd(e,t,r,l){if(t==null){if(l!=null){if(r!=null)throw Error(i(92));if(xe(l)){if(1<l.length)throw Error(i(93));l=l[0]}r=l}r==null&&(r=""),t=r}r=He(t),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),Cs(e)}function Dr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Gy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wd(e,t,r){var l=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,r):typeof r!="number"||r===0||Gy.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function ef(e,t,r){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&r[c]!==l&&Wd(e,c,l)}else for(var f in t)t.hasOwnProperty(f)&&Wd(e,f,t[f])}function Ho(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ky=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fl(e){return Yy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ya(){}var Po=null;function Vo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ur=null,kr=null;function tf(e){var t=Be(e);if(t&&(e=t.stateNode)){var r=e[ue]||null;e:switch(e=t.stateNode,t.type){case"input":if(Bo(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ca(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var l=r[t];if(l!==e&&l.form===e.form){var c=l[ue]||null;if(!c)throw Error(i(90));Bo(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<r.length;t++)l=r[t],l.form===e.form&&Qd(l)}break e;case"textarea":Fd(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&Cr(e,!!r.multiple,t,!1)}}}var Go=!1;function af(e,t,r){if(Go)return e(t,r);Go=!0;try{var l=e(t);return l}finally{if(Go=!1,(Ur!==null||kr!==null)&&(qi(),Ur&&(t=Ur,e=kr,kr=Ur=null,tf(t),e)))for(t=0;t<e.length;t++)tf(e[t])}}function Ds(e,t){var r=e.stateNode;if(r===null)return null;var l=r[ue]||null;if(l===null)return null;r=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,t,typeof r));return r}var Ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ko=!1;if(Ia)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){Ko=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{Ko=!1}var pn=null,Yo=null,Zl=null;function nf(){if(Zl)return Zl;var e,t=Yo,r=t.length,l,c="value"in pn?pn.value:pn.textContent,f=c.length;for(e=0;e<r&&t[e]===c[e];e++);var y=r-e;for(l=1;l<=y&&t[r-l]===c[f-l];l++);return Zl=c.slice(e,1<l?1-l:void 0)}function Wl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ei(){return!0}function rf(){return!1}function Gt(e){function t(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(r=e[w],this[w]=r?r(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ei:rf,this.isPropagationStopped=rf,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ei)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ei)},persist:function(){},isPersistent:ei}),t}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ti=Gt(ar),ks=v({},ar,{view:0,detail:0}),Iy=Gt(ks),Io,Jo,zs,ai=v({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zs&&(zs&&e.type==="mousemove"?(Io=e.screenX-zs.screenX,Jo=e.screenY-zs.screenY):Jo=Io=0,zs=e),Io)},movementY:function(e){return"movementY"in e?e.movementY:Jo}}),sf=Gt(ai),Jy=v({},ai,{dataTransfer:0}),Qy=Gt(Jy),Xy=v({},ks,{relatedTarget:0}),Qo=Gt(Xy),Fy=v({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Zy=Gt(Fy),Wy=v({},ar,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ev=Gt(Wy),tv=v({},ar,{data:0}),lf=Gt(tv),av={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rv[e])?!!t[e]:!1}function Xo(){return sv}var lv=v({},ks,{key:function(e){if(e.key){var t=av[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xo,charCode:function(e){return e.type==="keypress"?Wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iv=Gt(lv),ov=v({},ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),of=Gt(ov),uv=v({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xo}),cv=Gt(uv),dv=v({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),fv=Gt(dv),hv=v({},ai,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mv=Gt(hv),gv=v({},ar,{newState:0,oldState:0}),pv=Gt(gv),yv=[9,13,27,32],Fo=Ia&&"CompositionEvent"in window,Ms=null;Ia&&"documentMode"in document&&(Ms=document.documentMode);var vv=Ia&&"TextEvent"in window&&!Ms,uf=Ia&&(!Fo||Ms&&8<Ms&&11>=Ms),cf=" ",df=!1;function ff(e,t){switch(e){case"keyup":return yv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zr=!1;function bv(e,t){switch(e){case"compositionend":return hf(t);case"keypress":return t.which!==32?null:(df=!0,cf);case"textInput":return e=t.data,e===cf&&df?null:e;default:return null}}function wv(e,t){if(zr)return e==="compositionend"||!Fo&&ff(e,t)?(e=nf(),Zl=Yo=pn=null,zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uf&&t.locale!=="ko"?null:t.data;default:return null}}var xv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xv[e.type]:t==="textarea"}function gf(e,t,r,l){Ur?kr?kr.push(l):kr=[l]:Ur=l,t=Ki(t,"onChange"),0<t.length&&(r=new ti("onChange","change",null,r,l),e.push({event:r,listeners:t}))}var Ls=null,qs=null;function _v(e){Fm(e,0)}function ni(e){var t=Tt(e);if(Qd(t))return e}function pf(e,t){if(e==="change")return t}var yf=!1;if(Ia){var Zo;if(Ia){var Wo="oninput"in document;if(!Wo){var vf=document.createElement("div");vf.setAttribute("oninput","return;"),Wo=typeof vf.oninput=="function"}Zo=Wo}else Zo=!1;yf=Zo&&(!document.documentMode||9<document.documentMode)}function bf(){Ls&&(Ls.detachEvent("onpropertychange",wf),qs=Ls=null)}function wf(e){if(e.propertyName==="value"&&ni(qs)){var t=[];gf(t,qs,e,Vo(e)),af(_v,t)}}function Sv(e,t,r){e==="focusin"?(bf(),Ls=t,qs=r,Ls.attachEvent("onpropertychange",wf)):e==="focusout"&&bf()}function Ev(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ni(qs)}function jv(e,t){if(e==="click")return ni(t)}function Nv(e,t){if(e==="input"||e==="change")return ni(t)}function Tv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:Tv;function Bs(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),l=Object.keys(t);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Ar.call(t,c)||!Ft(e[c],t[c]))return!1}return!0}function xf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _f(e,t){var r=xf(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=t&&l>=t)return{node:r,offset:t-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xf(r)}}function Sf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ef(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Xl(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Xl(e.document)}return t}function eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Rv=Ia&&"documentMode"in document&&11>=document.documentMode,Mr=null,tu=null,$s=null,au=!1;function jf(e,t,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;au||Mr==null||Mr!==Xl(l)||(l=Mr,"selectionStart"in l&&eu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$s&&Bs($s,l)||($s=l,l=Ki(tu,"onSelect"),0<l.length&&(t=new ti("onSelect","select",null,t,r),e.push({event:t,listeners:l}),t.target=Mr)))}function nr(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Lr={animationend:nr("Animation","AnimationEnd"),animationiteration:nr("Animation","AnimationIteration"),animationstart:nr("Animation","AnimationStart"),transitionrun:nr("Transition","TransitionRun"),transitionstart:nr("Transition","TransitionStart"),transitioncancel:nr("Transition","TransitionCancel"),transitionend:nr("Transition","TransitionEnd")},nu={},Nf={};Ia&&(Nf=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function rr(e){if(nu[e])return nu[e];if(!Lr[e])return e;var t=Lr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Nf)return nu[e]=t[r];return e}var Tf=rr("animationend"),Rf=rr("animationiteration"),Af=rr("animationstart"),Av=rr("transitionrun"),Ov=rr("transitionstart"),Cv=rr("transitioncancel"),Of=rr("transitionend"),Cf=new Map,ru="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ru.push("scrollEnd");function Ta(e,t){Cf.set(e,t),ja(t,[e])}var ri=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},da=[],qr=0,su=0;function si(){for(var e=qr,t=su=qr=0;t<e;){var r=da[t];da[t++]=null;var l=da[t];da[t++]=null;var c=da[t];da[t++]=null;var f=da[t];if(da[t++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Df(r,c,f)}}function li(e,t,r,l){da[qr++]=e,da[qr++]=t,da[qr++]=r,da[qr++]=l,su|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function lu(e,t,r,l){return li(e,t,r,l),ii(e)}function sr(e,t){return li(e,null,null,t),ii(e)}function Df(e,t,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=e.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&t!==null&&(c=31-qt(r),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=r|536870912),f):null}function ii(e){if(50<ol)throw ol=0,gc=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Br={};function Dv(e,t,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(e,t,r,l){return new Dv(e,t,r,l)}function iu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ja(e,t){var r=e.alternate;return r===null?(r=Zt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Uf(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function oi(e,t,r,l,c,f){var y=0;if(l=e,typeof e=="function")iu(e)&&(y=1);else if(typeof e=="string")y=L0(e,r,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=Zt(31,r,t,c),e.elementType=F,e.lanes=f,e;case O:return lr(r.children,c,f,t);case E:y=8,c|=24;break;case C:return e=Zt(12,r,t,c|2),e.elementType=C,e.lanes=f,e;case Z:return e=Zt(13,r,t,c),e.elementType=Z,e.lanes=f,e;case Y:return e=Zt(19,r,t,c),e.elementType=Y,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:y=10;break e;case D:y=9;break e;case V:y=11;break e;case N:y=14;break e;case B:y=16,l=null;break e}y=29,r=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=Zt(y,r,t,c),t.elementType=e,t.type=l,t.lanes=f,t}function lr(e,t,r,l){return e=Zt(7,e,l,t),e.lanes=r,e}function ou(e,t,r){return e=Zt(6,e,null,t),e.lanes=r,e}function kf(e){var t=Zt(18,null,null,0);return t.stateNode=e,t}function uu(e,t,r){return t=Zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var zf=new WeakMap;function fa(e,t){if(typeof e=="object"&&e!==null){var r=zf.get(e);return r!==void 0?r:(t={value:e,source:t,stack:Gl(t)},zf.set(e,t),t)}return{value:e,source:t,stack:Gl(t)}}var $r=[],Hr=0,ui=null,Hs=0,ha=[],ma=0,yn=null,za=1,Ma="";function Qa(e,t){$r[Hr++]=Hs,$r[Hr++]=ui,ui=e,Hs=t}function Mf(e,t,r){ha[ma++]=za,ha[ma++]=Ma,ha[ma++]=yn,yn=e;var l=za;e=Ma;var c=32-qt(l)-1;l&=~(1<<c),r+=1;var f=32-qt(t)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,za=1<<32-qt(t)+c|r<<c|l,Ma=f+e}else za=1<<f|r<<c|l,Ma=e}function cu(e){e.return!==null&&(Qa(e,1),Mf(e,1,0))}function du(e){for(;e===ui;)ui=$r[--Hr],$r[Hr]=null,Hs=$r[--Hr],$r[Hr]=null;for(;e===yn;)yn=ha[--ma],ha[ma]=null,Ma=ha[--ma],ha[ma]=null,za=ha[--ma],ha[ma]=null}function Lf(e,t){ha[ma++]=za,ha[ma++]=Ma,ha[ma++]=yn,za=t.id,Ma=t.overflow,yn=e}var Ct=null,et=null,Pe=!1,vn=null,ga=!1,fu=Error(i(519));function bn(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ps(fa(t,e)),fu}function qf(e){var t=e.stateNode,r=e.type,l=e.memoizedProps;switch(t[le]=e,t[ue]=l,r){case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":case"embed":ke("load",t);break;case"video":case"audio":for(r=0;r<cl.length;r++)ke(cl[r],t);break;case"source":ke("error",t);break;case"img":case"image":case"link":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"input":ke("invalid",t),Xd(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",t);break;case"textarea":ke("invalid",t),Zd(t,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||l.suppressHydrationWarning===!0||tg(t.textContent,r)?(l.popover!=null&&(ke("beforetoggle",t),ke("toggle",t)),l.onScroll!=null&&ke("scroll",t),l.onScrollEnd!=null&&ke("scrollend",t),l.onClick!=null&&(t.onclick=Ya),t=!0):t=!1,t||bn(e,!0)}function Bf(e){for(Ct=e.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:ga=!1;return;case 27:case 3:ga=!0;return;default:Ct=Ct.return}}function Pr(e){if(e!==Ct)return!1;if(!Pe)return Bf(e),Pe=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Oc(e.type,e.memoizedProps)),r=!r),r&&et&&bn(e),Bf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));et=cg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));et=cg(e)}else t===27?(t=et,Un(e.type)?(e=zc,zc=null,et=e):et=t):et=Ct?ya(e.stateNode.nextSibling):null;return!0}function ir(){et=Ct=null,Pe=!1}function hu(){var e=vn;return e!==null&&(Jt===null?Jt=e:Jt.push.apply(Jt,e),vn=null),e}function Ps(e){vn===null?vn=[e]:vn.push(e)}var mu=U(null),or=null,Xa=null;function wn(e,t,r){ne(mu,t._currentValue),t._currentValue=r}function Fa(e){e._currentValue=mu.current,I(mu)}function gu(e,t,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===r)break;e=e.return}}function pu(e,t,r,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=c;for(var A=0;A<t.length;A++)if(w.context===t[A]){f.lanes|=r,w=f.alternate,w!==null&&(w.lanes|=r),gu(f.return,r,e),l||(y=null);break e}f=w.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(i(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),gu(y,r,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Vr(e,t,r,l){e=null;for(var c=t,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var w=c.type;Ft(c.pendingProps.value,y.value)||(e!==null?e.push(w):e=[w])}}else if(c===Le.current){if(y=c.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(gl):e=[gl])}c=c.return}e!==null&&pu(t,e,r,l),t.flags|=262144}function ci(e){for(e=e.firstContext;e!==null;){if(!Ft(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ur(e){or=e,Xa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Dt(e){return $f(or,e)}function di(e,t){return or===null&&ur(e),$f(e,t)}function $f(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},Xa===null){if(e===null)throw Error(i(308));Xa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Xa=Xa.next=t;return r}var Uv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},kv=n.unstable_scheduleCallback,zv=n.unstable_NormalPriority,wt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yu(){return{controller:new Uv,data:new Map,refCount:0}}function Vs(e){e.refCount--,e.refCount===0&&kv(zv,function(){e.controller.abort()})}var Gs=null,vu=0,Gr=0,Kr=null;function Mv(e,t){if(Gs===null){var r=Gs=[];vu=0,Gr=xc(),Kr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return vu++,t.then(Hf,Hf),t}function Hf(){if(--vu===0&&Gs!==null){Kr!==null&&(Kr.status="fulfilled");var e=Gs;Gs=null,Gr=0,Kr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Lv(e,t){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<r.length;c++)(0,r[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Pf=P.S;P.S=function(e,t){jm=gt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Mv(e,t),Pf!==null&&Pf(e,t)};var cr=U(null);function bu(){var e=cr.current;return e!==null?e:Ze.pooledCache}function fi(e,t){t===null?ne(cr,cr.current):ne(cr,t.pool)}function Vf(){var e=bu();return e===null?null:{parent:wt._currentValue,pool:e}}var Yr=Error(i(460)),wu=Error(i(474)),hi=Error(i(542)),mi={then:function(){}};function Gf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Kf(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(Ya,Ya),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,If(e),e;default:if(typeof t.status=="string")t.then(Ya,Ya);else{if(e=Ze,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,If(e),e}throw fr=t,Yr}}function dr(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(fr=r,Yr):r}}var fr=null;function Yf(){if(fr===null)throw Error(i(459));var e=fr;return fr=null,e}function If(e){if(e===Yr||e===hi)throw Error(i(483))}var Ir=null,Ks=0;function gi(e){var t=Ks;return Ks+=1,Ir===null&&(Ir=[]),Kf(Ir,e,t)}function Ys(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function pi(e,t){throw t.$$typeof===S?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Jf(e){function t(M,k){if(e){var q=M.deletions;q===null?(M.deletions=[k],M.flags|=16):q.push(k)}}function r(M,k){if(!e)return null;for(;k!==null;)t(M,k),k=k.sibling;return null}function l(M){for(var k=new Map;M!==null;)M.key!==null?k.set(M.key,M):k.set(M.index,M),M=M.sibling;return k}function c(M,k){return M=Ja(M,k),M.index=0,M.sibling=null,M}function f(M,k,q){return M.index=q,e?(q=M.alternate,q!==null?(q=q.index,q<k?(M.flags|=67108866,k):q):(M.flags|=67108866,k)):(M.flags|=1048576,k)}function y(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function w(M,k,q,Q){return k===null||k.tag!==6?(k=ou(q,M.mode,Q),k.return=M,k):(k=c(k,q),k.return=M,k)}function A(M,k,q,Q){var be=q.type;return be===O?J(M,k,q.props.children,Q,q.key):k!==null&&(k.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===B&&dr(be)===k.type)?(k=c(k,q.props),Ys(k,q),k.return=M,k):(k=oi(q.type,q.key,q.props,null,M.mode,Q),Ys(k,q),k.return=M,k)}function $(M,k,q,Q){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=uu(q,M.mode,Q),k.return=M,k):(k=c(k,q.children||[]),k.return=M,k)}function J(M,k,q,Q,be){return k===null||k.tag!==7?(k=lr(q,M.mode,Q,be),k.return=M,k):(k=c(k,q),k.return=M,k)}function X(M,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=ou(""+k,M.mode,q),k.return=M,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case x:return q=oi(k.type,k.key,k.props,null,M.mode,q),Ys(q,k),q.return=M,q;case j:return k=uu(k,M.mode,q),k.return=M,k;case B:return k=dr(k),X(M,k,q)}if(xe(k)||z(k))return k=lr(k,M.mode,q,null),k.return=M,k;if(typeof k.then=="function")return X(M,gi(k),q);if(k.$$typeof===T)return X(M,di(M,k),q);pi(M,k)}return null}function H(M,k,q,Q){var be=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return be!==null?null:w(M,k,""+q,Q);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case x:return q.key===be?A(M,k,q,Q):null;case j:return q.key===be?$(M,k,q,Q):null;case B:return q=dr(q),H(M,k,q,Q)}if(xe(q)||z(q))return be!==null?null:J(M,k,q,Q,null);if(typeof q.then=="function")return H(M,k,gi(q),Q);if(q.$$typeof===T)return H(M,k,di(M,q),Q);pi(M,q)}return null}function K(M,k,q,Q,be){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(q)||null,w(k,M,""+Q,be);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:return M=M.get(Q.key===null?q:Q.key)||null,A(k,M,Q,be);case j:return M=M.get(Q.key===null?q:Q.key)||null,$(k,M,Q,be);case B:return Q=dr(Q),K(M,k,q,Q,be)}if(xe(Q)||z(Q))return M=M.get(q)||null,J(k,M,Q,be,null);if(typeof Q.then=="function")return K(M,k,q,gi(Q),be);if(Q.$$typeof===T)return K(M,k,q,di(k,Q),be);pi(k,Q)}return null}function fe(M,k,q,Q){for(var be=null,Ge=null,he=k,Ce=k=0,Me=null;he!==null&&Ce<q.length;Ce++){he.index>Ce?(Me=he,he=null):Me=he.sibling;var Ke=H(M,he,q[Ce],Q);if(Ke===null){he===null&&(he=Me);break}e&&he&&Ke.alternate===null&&t(M,he),k=f(Ke,k,Ce),Ge===null?be=Ke:Ge.sibling=Ke,Ge=Ke,he=Me}if(Ce===q.length)return r(M,he),Pe&&Qa(M,Ce),be;if(he===null){for(;Ce<q.length;Ce++)he=X(M,q[Ce],Q),he!==null&&(k=f(he,k,Ce),Ge===null?be=he:Ge.sibling=he,Ge=he);return Pe&&Qa(M,Ce),be}for(he=l(he);Ce<q.length;Ce++)Me=K(he,M,Ce,q[Ce],Q),Me!==null&&(e&&Me.alternate!==null&&he.delete(Me.key===null?Ce:Me.key),k=f(Me,k,Ce),Ge===null?be=Me:Ge.sibling=Me,Ge=Me);return e&&he.forEach(function(qn){return t(M,qn)}),Pe&&Qa(M,Ce),be}function Se(M,k,q,Q){if(q==null)throw Error(i(151));for(var be=null,Ge=null,he=k,Ce=k=0,Me=null,Ke=q.next();he!==null&&!Ke.done;Ce++,Ke=q.next()){he.index>Ce?(Me=he,he=null):Me=he.sibling;var qn=H(M,he,Ke.value,Q);if(qn===null){he===null&&(he=Me);break}e&&he&&qn.alternate===null&&t(M,he),k=f(qn,k,Ce),Ge===null?be=qn:Ge.sibling=qn,Ge=qn,he=Me}if(Ke.done)return r(M,he),Pe&&Qa(M,Ce),be;if(he===null){for(;!Ke.done;Ce++,Ke=q.next())Ke=X(M,Ke.value,Q),Ke!==null&&(k=f(Ke,k,Ce),Ge===null?be=Ke:Ge.sibling=Ke,Ge=Ke);return Pe&&Qa(M,Ce),be}for(he=l(he);!Ke.done;Ce++,Ke=q.next())Ke=K(he,M,Ce,Ke.value,Q),Ke!==null&&(e&&Ke.alternate!==null&&he.delete(Ke.key===null?Ce:Ke.key),k=f(Ke,k,Ce),Ge===null?be=Ke:Ge.sibling=Ke,Ge=Ke);return e&&he.forEach(function(J0){return t(M,J0)}),Pe&&Qa(M,Ce),be}function Fe(M,k,q,Q){if(typeof q=="object"&&q!==null&&q.type===O&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case x:e:{for(var be=q.key;k!==null;){if(k.key===be){if(be=q.type,be===O){if(k.tag===7){r(M,k.sibling),Q=c(k,q.props.children),Q.return=M,M=Q;break e}}else if(k.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===B&&dr(be)===k.type){r(M,k.sibling),Q=c(k,q.props),Ys(Q,q),Q.return=M,M=Q;break e}r(M,k);break}else t(M,k);k=k.sibling}q.type===O?(Q=lr(q.props.children,M.mode,Q,q.key),Q.return=M,M=Q):(Q=oi(q.type,q.key,q.props,null,M.mode,Q),Ys(Q,q),Q.return=M,M=Q)}return y(M);case j:e:{for(be=q.key;k!==null;){if(k.key===be)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){r(M,k.sibling),Q=c(k,q.children||[]),Q.return=M,M=Q;break e}else{r(M,k);break}else t(M,k);k=k.sibling}Q=uu(q,M.mode,Q),Q.return=M,M=Q}return y(M);case B:return q=dr(q),Fe(M,k,q,Q)}if(xe(q))return fe(M,k,q,Q);if(z(q)){if(be=z(q),typeof be!="function")throw Error(i(150));return q=be.call(q),Se(M,k,q,Q)}if(typeof q.then=="function")return Fe(M,k,gi(q),Q);if(q.$$typeof===T)return Fe(M,k,di(M,q),Q);pi(M,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(r(M,k.sibling),Q=c(k,q),Q.return=M,M=Q):(r(M,k),Q=ou(q,M.mode,Q),Q.return=M,M=Q),y(M)):r(M,k)}return function(M,k,q,Q){try{Ks=0;var be=Fe(M,k,q,Q);return Ir=null,be}catch(he){if(he===Yr||he===hi)throw he;var Ge=Zt(29,he,null,M.mode);return Ge.lanes=Q,Ge.return=M,Ge}}}var hr=Jf(!0),Qf=Jf(!1),xn=!1;function xu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _u(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _n(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Sn(e,t,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=ii(e),Df(e,null,r),t}return li(e,l,t,r),ii(e)}function Is(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,R(e,r)}}function Su(e,t){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=t:f=f.next=t}else c=f=t;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Eu=!1;function Js(){if(Eu){var e=Kr;if(e!==null)throw e}}function Qs(e,t,r,l){Eu=!1;var c=e.updateQueue;xn=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var A=w,$=A.next;A.next=null,y===null?f=$:y.next=$,y=A;var J=e.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==y&&(w===null?J.firstBaseUpdate=$:w.next=$,J.lastBaseUpdate=A))}if(f!==null){var X=c.baseState;y=0,J=$=A=null,w=f;do{var H=w.lane&-536870913,K=H!==w.lane;if(K?(ze&H)===H:(l&H)===H){H!==0&&H===Gr&&(Eu=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var fe=e,Se=w;H=t;var Fe=r;switch(Se.tag){case 1:if(fe=Se.payload,typeof fe=="function"){X=fe.call(Fe,X,H);break e}X=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Se.payload,H=typeof fe=="function"?fe.call(Fe,X,H):fe,H==null)break e;X=v({},X,H);break e;case 2:xn=!0}}H=w.callback,H!==null&&(e.flags|=64,K&&(e.flags|=8192),K=c.callbacks,K===null?c.callbacks=[H]:K.push(H))}else K={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?($=J=K,A=X):J=J.next=K,y|=H;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;K=w,w=K.next,K.next=null,c.lastBaseUpdate=K,c.shared.pending=null}}while(!0);J===null&&(A=X),c.baseState=A,c.firstBaseUpdate=$,c.lastBaseUpdate=J,f===null&&(c.shared.lanes=0),Rn|=y,e.lanes=y,e.memoizedState=X}}function Xf(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Ff(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Xf(r[e],t)}var Jr=U(null),yi=U(0);function Zf(e,t){e=ln,ne(yi,e),ne(Jr,t),ln=e|t.baseLanes}function ju(){ne(yi,ln),ne(Jr,Jr.current)}function Nu(){ln=yi.current,I(Jr),I(yi)}var Wt=U(null),pa=null;function En(e){var t=e.alternate;ne(yt,yt.current&1),ne(Wt,e),pa===null&&(t===null||Jr.current!==null||t.memoizedState!==null)&&(pa=e)}function Tu(e){ne(yt,yt.current),ne(Wt,e),pa===null&&(pa=e)}function Wf(e){e.tag===22?(ne(yt,yt.current),ne(Wt,e),pa===null&&(pa=e)):jn()}function jn(){ne(yt,yt.current),ne(Wt,Wt.current)}function ea(e){I(Wt),pa===e&&(pa=null),I(yt)}var yt=U(0);function vi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Uc(r)||kc(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Za=0,Oe=null,Qe=null,xt=null,bi=!1,Qr=!1,mr=!1,wi=0,Xs=0,Xr=null,qv=0;function ct(){throw Error(i(321))}function Ru(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ft(e[r],t[r]))return!1;return!0}function Au(e,t,r,l,c,f){return Za=f,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=e===null||e.memoizedState===null?Mh:Gu,mr=!1,f=r(l,c),mr=!1,Qr&&(f=th(t,r,l,c)),eh(e),f}function eh(e){P.H=Ws;var t=Qe!==null&&Qe.next!==null;if(Za=0,xt=Qe=Oe=null,bi=!1,Xs=0,Xr=null,t)throw Error(i(300));e===null||_t||(e=e.dependencies,e!==null&&ci(e)&&(_t=!0))}function th(e,t,r,l){Oe=e;var c=0;do{if(Qr&&(Xr=null),Xs=0,Qr=!1,25<=c)throw Error(i(301));if(c+=1,xt=Qe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}P.H=Lh,f=t(r,l)}while(Qr);return f}function Bv(){var e=P.H,t=e.useState()[0];return t=typeof t.then=="function"?Fs(t):t,e=e.useState()[0],(Qe!==null?Qe.memoizedState:null)!==e&&(Oe.flags|=1024),t}function Ou(){var e=wi!==0;return wi=0,e}function Cu(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Du(e){if(bi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}bi=!1}Za=0,xt=Qe=Oe=null,Qr=!1,Xs=wi=0,Xr=null}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Oe.memoizedState=xt=e:xt=xt.next=e,xt}function vt(){if(Qe===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=xt===null?Oe.memoizedState:xt.next;if(t!==null)xt=t,Qe=e;else{if(e===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},xt===null?Oe.memoizedState=xt=e:xt=xt.next=e}return xt}function xi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fs(e){var t=Xs;return Xs+=1,Xr===null&&(Xr=[]),e=Kf(Xr,e,t),t=Oe,(xt===null?t.memoizedState:xt.next)===null&&(t=t.alternate,P.H=t===null||t.memoizedState===null?Mh:Gu),e}function _i(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fs(e);if(e.$$typeof===T)return Dt(e)}throw Error(i(438,String(e)))}function Uu(e){var t=null,r=Oe.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=xi(),Oe.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),l=0;l<e;l++)r[l]=ce;return t.index++,r}function Wa(e,t){return typeof t=="function"?t(e):t}function Si(e){var t=vt();return ku(t,Qe,e)}function ku(e,t,r){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}t.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{t=c.next;var w=y=null,A=null,$=t,J=!1;do{var X=$.lane&-536870913;if(X!==$.lane?(ze&X)===X:(Za&X)===X){var H=$.revertLane;if(H===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),X===Gr&&(J=!0);else if((Za&H)===H){$=$.next,H===Gr&&(J=!0);continue}else X={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},A===null?(w=A=X,y=f):A=A.next=X,Oe.lanes|=H,Rn|=H;X=$.action,mr&&r(f,X),f=$.hasEagerState?$.eagerState:r(f,X)}else H={lane:X,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},A===null?(w=A=H,y=f):A=A.next=H,Oe.lanes|=X,Rn|=X;$=$.next}while($!==null&&$!==t);if(A===null?y=f:A.next=w,!Ft(f,e.memoizedState)&&(_t=!0,J&&(r=Kr,r!==null)))throw r;e.memoizedState=f,e.baseState=y,e.baseQueue=A,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function zu(e){var t=vt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var l=r.dispatch,c=r.pending,f=t.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=e(f,y.action),y=y.next;while(y!==c);Ft(f,t.memoizedState)||(_t=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,l]}function ah(e,t,r){var l=Oe,c=vt(),f=Pe;if(f){if(r===void 0)throw Error(i(407));r=r()}else r=t();var y=!Ft((Qe||c).memoizedState,r);if(y&&(c.memoizedState=r,_t=!0),c=c.queue,qu(sh.bind(null,l,c,e),[e]),c.getSnapshot!==t||y||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,Fr(9,{destroy:void 0},rh.bind(null,l,c,r,t),null),Ze===null)throw Error(i(349));f||(Za&127)!==0||nh(l,t,r)}return r}function nh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Oe.updateQueue,t===null?(t=xi(),Oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function rh(e,t,r,l){t.value=r,t.getSnapshot=l,lh(t)&&ih(e)}function sh(e,t,r){return r(function(){lh(t)&&ih(e)})}function lh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ft(e,r)}catch{return!0}}function ih(e){var t=sr(e,2);t!==null&&Qt(t,e,2)}function Mu(e){var t=Ht();if(typeof e=="function"){var r=e;if(e=r(),mr){Sa(!0);try{r()}finally{Sa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:e},t}function oh(e,t,r,l){return e.baseState=r,ku(e,Qe,typeof l=="function"?l:Wa)}function $v(e,t,r,l,c){if(Ni(e))throw Error(i(485));if(e=t.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};P.T!==null?r(!0):f.isTransition=!1,l(f),r=t.pending,r===null?(f.next=t.pending=f,uh(t,f)):(f.next=r.next,t.pending=r.next=f)}}function uh(e,t){var r=t.action,l=t.payload,c=e.state;if(t.isTransition){var f=P.T,y={};P.T=y;try{var w=r(c,l),A=P.S;A!==null&&A(y,w),ch(e,t,w)}catch($){Lu(e,t,$)}finally{f!==null&&y.types!==null&&(f.types=y.types),P.T=f}}else try{f=r(c,l),ch(e,t,f)}catch($){Lu(e,t,$)}}function ch(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){dh(e,t,l)},function(l){return Lu(e,t,l)}):dh(e,t,r)}function dh(e,t,r){t.status="fulfilled",t.value=r,fh(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,uh(e,r)))}function Lu(e,t,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=r,fh(t),t=t.next;while(t!==l)}e.action=null}function fh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function hh(e,t){return t}function mh(e,t){if(Pe){var r=Ze.formState;if(r!==null){e:{var l=Oe;if(Pe){if(et){t:{for(var c=et,f=ga;c.nodeType!==8;){if(!f){c=null;break t}if(c=ya(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){et=ya(c.nextSibling),l=c.data==="F!";break e}}bn(l)}l=!1}l&&(t=r[0])}}return r=Ht(),r.memoizedState=r.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hh,lastRenderedState:t},r.queue=l,r=Uh.bind(null,Oe,l),l.dispatch=r,l=Mu(!1),f=Vu.bind(null,Oe,!1,l.queue),l=Ht(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,r=$v.bind(null,Oe,c,f,r),c.dispatch=r,l.memoizedState=e,[t,r,!1]}function gh(e){var t=vt();return ph(t,Qe,e)}function ph(e,t,r){if(t=ku(e,t,hh)[0],e=Si(Wa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Fs(t)}catch(y){throw y===Yr?hi:y}else l=t;t=vt();var c=t.queue,f=c.dispatch;return r!==t.memoizedState&&(Oe.flags|=2048,Fr(9,{destroy:void 0},Hv.bind(null,c,r),null)),[l,f,e]}function Hv(e,t){e.action=t}function yh(e){var t=vt(),r=Qe;if(r!==null)return ph(t,r,e);vt(),t=t.memoizedState,r=vt();var l=r.queue.dispatch;return r.memoizedState=e,[t,l,!1]}function Fr(e,t,r,l){return e={tag:e,create:r,deps:l,inst:t,next:null},t=Oe.updateQueue,t===null&&(t=xi(),Oe.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,t.lastEffect=e),e}function vh(){return vt().memoizedState}function Ei(e,t,r,l){var c=Ht();Oe.flags|=e,c.memoizedState=Fr(1|t,{destroy:void 0},r,l===void 0?null:l)}function ji(e,t,r,l){var c=vt();l=l===void 0?null:l;var f=c.memoizedState.inst;Qe!==null&&l!==null&&Ru(l,Qe.memoizedState.deps)?c.memoizedState=Fr(t,f,r,l):(Oe.flags|=e,c.memoizedState=Fr(1|t,f,r,l))}function bh(e,t){Ei(8390656,8,e,t)}function qu(e,t){ji(2048,8,e,t)}function Pv(e){Oe.flags|=4;var t=Oe.updateQueue;if(t===null)t=xi(),Oe.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function wh(e){var t=vt().memoizedState;return Pv({ref:t,nextImpl:e}),function(){if((Ye&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function xh(e,t){return ji(4,2,e,t)}function _h(e,t){return ji(4,4,e,t)}function Sh(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Eh(e,t,r){r=r!=null?r.concat([e]):null,ji(4,4,Sh.bind(null,t,e),r)}function Bu(){}function jh(e,t){var r=vt();t=t===void 0?null:t;var l=r.memoizedState;return t!==null&&Ru(t,l[1])?l[0]:(r.memoizedState=[e,t],e)}function Nh(e,t){var r=vt();t=t===void 0?null:t;var l=r.memoizedState;if(t!==null&&Ru(t,l[1]))return l[0];if(l=e(),mr){Sa(!0);try{e()}finally{Sa(!1)}}return r.memoizedState=[l,t],l}function $u(e,t,r){return r===void 0||(Za&1073741824)!==0&&(ze&261930)===0?e.memoizedState=t:(e.memoizedState=r,e=Tm(),Oe.lanes|=e,Rn|=e,r)}function Th(e,t,r,l){return Ft(r,t)?r:Jr.current!==null?(e=$u(e,r,l),Ft(e,t)||(_t=!0),e):(Za&42)===0||(Za&1073741824)!==0&&(ze&261930)===0?(_t=!0,e.memoizedState=r):(e=Tm(),Oe.lanes|=e,Rn|=e,t)}function Rh(e,t,r,l,c){var f=te.p;te.p=f!==0&&8>f?f:8;var y=P.T,w={};P.T=w,Vu(e,!1,t,r);try{var A=c(),$=P.S;if($!==null&&$(w,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var J=Lv(A,l);Zs(e,t,J,na(e))}else Zs(e,t,l,na(e))}catch(X){Zs(e,t,{then:function(){},status:"rejected",reason:X},na())}finally{te.p=f,y!==null&&w.types!==null&&(y.types=w.types),P.T=y}}function Vv(){}function Hu(e,t,r,l){if(e.tag!==5)throw Error(i(476));var c=Ah(e).queue;Rh(e,c,t,se,r===null?Vv:function(){return Oh(e),r(l)})}function Ah(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:se},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Oh(e){var t=Ah(e);t.next===null&&(t=e.alternate.memoizedState),Zs(e,t.next.queue,{},na())}function Pu(){return Dt(gl)}function Ch(){return vt().memoizedState}function Dh(){return vt().memoizedState}function Gv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=na();e=_n(r);var l=Sn(t,e,r);l!==null&&(Qt(l,t,r),Is(l,t,r)),t={cache:yu()},e.payload=t;return}t=t.return}}function Kv(e,t,r){var l=na();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ni(e)?kh(t,r):(r=lu(e,t,r,l),r!==null&&(Qt(r,e,l),zh(r,t,l)))}function Uh(e,t,r){var l=na();Zs(e,t,r,l)}function Zs(e,t,r,l){var c={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ni(e))kh(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var y=t.lastRenderedState,w=f(y,r);if(c.hasEagerState=!0,c.eagerState=w,Ft(w,y))return li(e,t,c,0),Ze===null&&si(),!1}catch{}if(r=lu(e,t,c,l),r!==null)return Qt(r,e,l),zh(r,t,l),!0}return!1}function Vu(e,t,r,l){if(l={lane:2,revertLane:xc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ni(e)){if(t)throw Error(i(479))}else t=lu(e,r,l,2),t!==null&&Qt(t,e,2)}function Ni(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function kh(e,t){Qr=bi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function zh(e,t,r){if((r&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,R(e,r)}}var Ws={readContext:Dt,use:_i,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};Ws.useEffectEvent=ct;var Mh={readContext:Dt,use:_i,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:bh,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,Ei(4194308,4,Sh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ei(4194308,4,e,t)},useInsertionEffect:function(e,t){Ei(4,2,e,t)},useMemo:function(e,t){var r=Ht();t=t===void 0?null:t;var l=e();if(mr){Sa(!0);try{e()}finally{Sa(!1)}}return r.memoizedState=[l,t],l},useReducer:function(e,t,r){var l=Ht();if(r!==void 0){var c=r(t);if(mr){Sa(!0);try{r(t)}finally{Sa(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=Kv.bind(null,Oe,e),[l.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:function(e){e=Mu(e);var t=e.queue,r=Uh.bind(null,Oe,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:Bu,useDeferredValue:function(e,t){var r=Ht();return $u(r,e,t)},useTransition:function(){var e=Mu(!1);return e=Rh.bind(null,Oe,e.queue,!0,!1),Ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var l=Oe,c=Ht();if(Pe){if(r===void 0)throw Error(i(407));r=r()}else{if(r=t(),Ze===null)throw Error(i(349));(ze&127)!==0||nh(l,t,r)}c.memoizedState=r;var f={value:r,getSnapshot:t};return c.queue=f,bh(sh.bind(null,l,f,e),[e]),l.flags|=2048,Fr(9,{destroy:void 0},rh.bind(null,l,f,r,t),null),r},useId:function(){var e=Ht(),t=Ze.identifierPrefix;if(Pe){var r=Ma,l=za;r=(l&~(1<<32-qt(l)-1)).toString(32)+r,t="_"+t+"R_"+r,r=wi++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=qv++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Pu,useFormState:mh,useActionState:mh,useOptimistic:function(e){var t=Ht();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Vu.bind(null,Oe,!0,r),r.dispatch=t,[e,t]},useMemoCache:Uu,useCacheRefresh:function(){return Ht().memoizedState=Gv.bind(null,Oe)},useEffectEvent:function(e){var t=Ht(),r={impl:e};return t.memoizedState=r,function(){if((Ye&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},Gu={readContext:Dt,use:_i,useCallback:jh,useContext:Dt,useEffect:qu,useImperativeHandle:Eh,useInsertionEffect:xh,useLayoutEffect:_h,useMemo:Nh,useReducer:Si,useRef:vh,useState:function(){return Si(Wa)},useDebugValue:Bu,useDeferredValue:function(e,t){var r=vt();return Th(r,Qe.memoizedState,e,t)},useTransition:function(){var e=Si(Wa)[0],t=vt().memoizedState;return[typeof e=="boolean"?e:Fs(e),t]},useSyncExternalStore:ah,useId:Ch,useHostTransitionStatus:Pu,useFormState:gh,useActionState:gh,useOptimistic:function(e,t){var r=vt();return oh(r,Qe,e,t)},useMemoCache:Uu,useCacheRefresh:Dh};Gu.useEffectEvent=wh;var Lh={readContext:Dt,use:_i,useCallback:jh,useContext:Dt,useEffect:qu,useImperativeHandle:Eh,useInsertionEffect:xh,useLayoutEffect:_h,useMemo:Nh,useReducer:zu,useRef:vh,useState:function(){return zu(Wa)},useDebugValue:Bu,useDeferredValue:function(e,t){var r=vt();return Qe===null?$u(r,e,t):Th(r,Qe.memoizedState,e,t)},useTransition:function(){var e=zu(Wa)[0],t=vt().memoizedState;return[typeof e=="boolean"?e:Fs(e),t]},useSyncExternalStore:ah,useId:Ch,useHostTransitionStatus:Pu,useFormState:yh,useActionState:yh,useOptimistic:function(e,t){var r=vt();return Qe!==null?oh(r,Qe,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Uu,useCacheRefresh:Dh};Lh.useEffectEvent=wh;function Ku(e,t,r,l){t=e.memoizedState,r=r(l,t),r=r==null?t:v({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Yu={enqueueSetState:function(e,t,r){e=e._reactInternals;var l=na(),c=_n(l);c.payload=t,r!=null&&(c.callback=r),t=Sn(e,c,l),t!==null&&(Qt(t,e,l),Is(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var l=na(),c=_n(l);c.tag=1,c.payload=t,r!=null&&(c.callback=r),t=Sn(e,c,l),t!==null&&(Qt(t,e,l),Is(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=na(),l=_n(r);l.tag=2,t!=null&&(l.callback=t),t=Sn(e,l,r),t!==null&&(Qt(t,e,r),Is(t,e,r))}};function qh(e,t,r,l,c,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,y):t.prototype&&t.prototype.isPureReactComponent?!Bs(r,l)||!Bs(c,f):!0}function Bh(e,t,r,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,l),t.state!==e&&Yu.enqueueReplaceState(t,t.state,null)}function gr(e,t){var r=t;if("ref"in t){r={};for(var l in t)l!=="ref"&&(r[l]=t[l])}if(e=e.defaultProps){r===t&&(r=v({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}function $h(e){ri(e)}function Hh(e){console.error(e)}function Ph(e){ri(e)}function Ti(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Vh(e,t,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Iu(e,t,r){return r=_n(r),r.tag=3,r.payload={element:null},r.callback=function(){Ti(e,t)},r}function Gh(e){return e=_n(e),e.tag=3,e}function Kh(e,t,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){Vh(t,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Vh(t,r,l),typeof c!="function"&&(An===null?An=new Set([this]):An.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Yv(e,t,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=r.alternate,t!==null&&Vr(t,r,c,!0),r=Wt.current,r!==null){switch(r.tag){case 31:case 13:return pa===null?Bi():r.alternate===null&&dt===0&&(dt=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===mi?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([l]):t.add(l),vc(e,l,c)),!1;case 22:return r.flags|=65536,l===mi?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([l]):r.add(l)),vc(e,l,c)),!1}throw Error(i(435,r.tag))}return vc(e,l,c),Bi(),!1}if(Pe)return t=Wt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==fu&&(e=Error(i(422),{cause:l}),Ps(fa(e,r)))):(l!==fu&&(t=Error(i(423),{cause:l}),Ps(fa(t,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=fa(l,r),c=Iu(e.stateNode,l,c),Su(e,c),dt!==4&&(dt=2)),!1;var f=Error(i(520),{cause:l});if(f=fa(f,r),il===null?il=[f]:il.push(f),dt!==4&&(dt=2),t===null)return!0;l=fa(l,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=Iu(r.stateNode,l,e),Su(r,e),!1;case 1:if(t=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(An===null||!An.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Gh(c),Kh(c,e,r,l),Su(r,c),!1}r=r.return}while(r!==null);return!1}var Ju=Error(i(461)),_t=!1;function Ut(e,t,r,l){t.child=e===null?Qf(t,null,r,l):hr(t,e.child,r,l)}function Yh(e,t,r,l,c){r=r.render;var f=t.ref;if("ref"in l){var y={};for(var w in l)w!=="ref"&&(y[w]=l[w])}else y=l;return ur(t),l=Au(e,t,r,y,f,c),w=Ou(),e!==null&&!_t?(Cu(e,t,c),en(e,t,c)):(Pe&&w&&cu(t),t.flags|=1,Ut(e,t,l,c),t.child)}function Ih(e,t,r,l,c){if(e===null){var f=r.type;return typeof f=="function"&&!iu(f)&&f.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=f,Jh(e,t,f,l,c)):(e=oi(r.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!ac(e,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Bs,r(y,l)&&e.ref===t.ref)return en(e,t,c)}return t.flags|=1,e=Ja(f,l),e.ref=t.ref,e.return=t,t.child=e}function Jh(e,t,r,l,c){if(e!==null){var f=e.memoizedProps;if(Bs(f,l)&&e.ref===t.ref)if(_t=!1,t.pendingProps=l=f,ac(e,c))(e.flags&131072)!==0&&(_t=!0);else return t.lanes=e.lanes,en(e,t,c)}return Qu(e,t,r,l,c)}function Qh(e,t,r,l){var c=l.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,t.child=null;return Xh(e,t,f,r,l)}if((r&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&fi(t,f!==null?f.cachePool:null),f!==null?Zf(t,f):ju(),Wf(t);else return l=t.lanes=536870912,Xh(e,t,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(fi(t,f.cachePool),Zf(t,f),jn(),t.memoizedState=null):(e!==null&&fi(t,null),ju(),jn());return Ut(e,t,c,r),t.child}function el(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Xh(e,t,r,l,c){var f=bu();return f=f===null?null:{parent:wt._currentValue,pool:f},t.memoizedState={baseLanes:r,cachePool:f},e!==null&&fi(t,null),ju(),Wf(t),e!==null&&Vr(e,t,l,!0),t.childLanes=c,null}function Ri(e,t){return t=Oi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Fh(e,t,r){return hr(t,e.child,null,r),e=Ri(t,t.pendingProps),e.flags|=2,ea(t),t.memoizedState=null,e}function Iv(e,t,r){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Pe){if(l.mode==="hidden")return e=Ri(t,l),t.lanes=536870912,el(null,e);if(Tu(t),(e=et)?(e=ug(e,ga),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:yn!==null?{id:za,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},r=kf(e),r.return=t,t.child=r,Ct=t,et=null)):e=null,e===null)throw bn(t);return t.lanes=536870912,null}return Ri(t,l)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(Tu(t),c)if(t.flags&256)t.flags&=-257,t=Fh(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(_t||Vr(e,t,r,!1),c=(r&e.childLanes)!==0,_t||c){if(l=Ze,l!==null&&(y=L(l,r),y!==0&&y!==f.retryLane))throw f.retryLane=y,sr(e,y),Qt(l,e,y),Ju;Bi(),t=Fh(e,t,r)}else e=f.treeContext,et=ya(y.nextSibling),Ct=t,Pe=!0,vn=null,ga=!1,e!==null&&Lf(t,e),t=Ri(t,l),t.flags|=4096;return t}return e=Ja(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ai(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function Qu(e,t,r,l,c){return ur(t),r=Au(e,t,r,l,void 0,c),l=Ou(),e!==null&&!_t?(Cu(e,t,c),en(e,t,c)):(Pe&&l&&cu(t),t.flags|=1,Ut(e,t,r,c),t.child)}function Zh(e,t,r,l,c,f){return ur(t),t.updateQueue=null,r=th(t,l,r,c),eh(e),l=Ou(),e!==null&&!_t?(Cu(e,t,f),en(e,t,f)):(Pe&&l&&cu(t),t.flags|=1,Ut(e,t,r,f),t.child)}function Wh(e,t,r,l,c){if(ur(t),t.stateNode===null){var f=Br,y=r.contextType;typeof y=="object"&&y!==null&&(f=Dt(y)),f=new r(l,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Yu,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=l,f.state=t.memoizedState,f.refs={},xu(t),y=r.contextType,f.context=typeof y=="object"&&y!==null?Dt(y):Br,f.state=t.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Ku(t,r,y,l),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Yu.enqueueReplaceState(f,f.state,null),Qs(t,l,f,c),Js(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){f=t.stateNode;var w=t.memoizedProps,A=gr(r,w);f.props=A;var $=f.context,J=r.contextType;y=Br,typeof J=="object"&&J!==null&&(y=Dt(J));var X=r.getDerivedStateFromProps;J=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=t.pendingProps!==w,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||$!==y)&&Bh(t,f,l,y),xn=!1;var H=t.memoizedState;f.state=H,Qs(t,l,f,c),Js(),$=t.memoizedState,w||H!==$||xn?(typeof X=="function"&&(Ku(t,r,X,l),$=t.memoizedState),(A=xn||qh(t,r,A,l,H,$,y))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=$),f.props=l,f.state=$,f.context=y,l=A):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{f=t.stateNode,_u(e,t),y=t.memoizedProps,J=gr(r,y),f.props=J,X=t.pendingProps,H=f.context,$=r.contextType,A=Br,typeof $=="object"&&$!==null&&(A=Dt($)),w=r.getDerivedStateFromProps,($=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||H!==A)&&Bh(t,f,l,A),xn=!1,H=t.memoizedState,f.state=H,Qs(t,l,f,c),Js();var K=t.memoizedState;y!==X||H!==K||xn||e!==null&&e.dependencies!==null&&ci(e.dependencies)?(typeof w=="function"&&(Ku(t,r,w,l),K=t.memoizedState),(J=xn||qh(t,r,J,l,H,K,A)||e!==null&&e.dependencies!==null&&ci(e.dependencies))?($||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,K,A),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,K,A)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=K),f.props=l,f.state=K,f.context=A,l=J):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),l=!1)}return f=l,Ai(e,t),l=(t.flags&128)!==0,f||l?(f=t.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&l?(t.child=hr(t,e.child,null,c),t.child=hr(t,null,r,c)):Ut(e,t,r,c),t.memoizedState=f.state,e=t.child):e=en(e,t,c),e}function em(e,t,r,l){return ir(),t.flags|=256,Ut(e,t,r,l),t.child}var Xu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fu(e){return{baseLanes:e,cachePool:Vf()}}function Zu(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=aa),e}function tm(e,t,r){var l=t.pendingProps,c=!1,f=(t.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(yt.current&2)!==0),y&&(c=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(Pe){if(c?En(t):jn(),(e=et)?(e=ug(e,ga),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:yn!==null?{id:za,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},r=kf(e),r.return=t,t.child=r,Ct=t,et=null)):e=null,e===null)throw bn(t);return kc(e)?t.lanes=32:t.lanes=536870912,null}var w=l.children;return l=l.fallback,c?(jn(),c=t.mode,w=Oi({mode:"hidden",children:w},c),l=lr(l,c,r,null),w.return=t,l.return=t,w.sibling=l,t.child=w,l=t.child,l.memoizedState=Fu(r),l.childLanes=Zu(e,y,r),t.memoizedState=Xu,el(null,l)):(En(t),Wu(t,w))}var A=e.memoizedState;if(A!==null&&(w=A.dehydrated,w!==null)){if(f)t.flags&256?(En(t),t.flags&=-257,t=ec(e,t,r)):t.memoizedState!==null?(jn(),t.child=e.child,t.flags|=128,t=null):(jn(),w=l.fallback,c=t.mode,l=Oi({mode:"visible",children:l.children},c),w=lr(w,c,r,null),w.flags|=2,l.return=t,w.return=t,l.sibling=w,t.child=l,hr(t,e.child,null,r),l=t.child,l.memoizedState=Fu(r),l.childLanes=Zu(e,y,r),t.memoizedState=Xu,t=el(null,l));else if(En(t),kc(w)){if(y=w.nextSibling&&w.nextSibling.dataset,y)var $=y.dgst;y=$,l=Error(i(419)),l.stack="",l.digest=y,Ps({value:l,source:null,stack:null}),t=ec(e,t,r)}else if(_t||Vr(e,t,r,!1),y=(r&e.childLanes)!==0,_t||y){if(y=Ze,y!==null&&(l=L(y,r),l!==0&&l!==A.retryLane))throw A.retryLane=l,sr(e,l),Qt(y,e,l),Ju;Uc(w)||Bi(),t=ec(e,t,r)}else Uc(w)?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,et=ya(w.nextSibling),Ct=t,Pe=!0,vn=null,ga=!1,e!==null&&Lf(t,e),t=Wu(t,l.children),t.flags|=4096);return t}return c?(jn(),w=l.fallback,c=t.mode,A=e.child,$=A.sibling,l=Ja(A,{mode:"hidden",children:l.children}),l.subtreeFlags=A.subtreeFlags&65011712,$!==null?w=Ja($,w):(w=lr(w,c,r,null),w.flags|=2),w.return=t,l.return=t,l.sibling=w,t.child=l,el(null,l),l=t.child,w=e.child.memoizedState,w===null?w=Fu(r):(c=w.cachePool,c!==null?(A=wt._currentValue,c=c.parent!==A?{parent:A,pool:A}:c):c=Vf(),w={baseLanes:w.baseLanes|r,cachePool:c}),l.memoizedState=w,l.childLanes=Zu(e,y,r),t.memoizedState=Xu,el(e.child,l)):(En(t),r=e.child,e=r.sibling,r=Ja(r,{mode:"visible",children:l.children}),r.return=t,r.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=r,t.memoizedState=null,r)}function Wu(e,t){return t=Oi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Oi(e,t){return e=Zt(22,e,null,t),e.lanes=0,e}function ec(e,t,r){return hr(t,e.child,null,r),e=Wu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function am(e,t,r){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),gu(e.return,t,r)}function tc(e,t,r,l,c,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c,treeForkCount:f}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=r,y.tailMode=c,y.treeForkCount=f)}function nm(e,t,r){var l=t.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var y=yt.current,w=(y&2)!==0;if(w?(y=y&1|2,t.flags|=128):y&=1,ne(yt,y),Ut(e,t,l,r),l=Pe?Hs:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&am(e,r,t);else if(e.tag===19)am(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(r=t.child,c=null;r!==null;)e=r.alternate,e!==null&&vi(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=t.child,t.child=null):(c=r.sibling,r.sibling=null),tc(t,!1,c,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&vi(e)===null){t.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}tc(t,!0,r,null,f,l);break;case"together":tc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function en(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Rn|=t.lanes,(r&t.childLanes)===0)if(e!==null){if(Vr(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,r=Ja(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ja(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ac(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ci(e)))}function Jv(e,t,r){switch(t.tag){case 3:mt(t,t.stateNode.containerInfo),wn(t,wt,e.memoizedState.cache),ir();break;case 27:case 5:Yn(t);break;case 4:mt(t,t.stateNode.containerInfo);break;case 10:wn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Tu(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(En(t),t.flags|=128,null):(r&t.child.childLanes)!==0?tm(e,t,r):(En(t),e=en(e,t,r),e!==null?e.sibling:null);En(t);break;case 19:var c=(e.flags&128)!==0;if(l=(r&t.childLanes)!==0,l||(Vr(e,t,r,!1),l=(r&t.childLanes)!==0),c){if(l)return nm(e,t,r);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ne(yt,yt.current),l)break;return null;case 22:return t.lanes=0,Qh(e,t,r,t.pendingProps);case 24:wn(t,wt,e.memoizedState.cache)}return en(e,t,r)}function rm(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)_t=!0;else{if(!ac(e,r)&&(t.flags&128)===0)return _t=!1,Jv(e,t,r);_t=(e.flags&131072)!==0}else _t=!1,Pe&&(t.flags&1048576)!==0&&Mf(t,Hs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=dr(t.elementType),t.type=e,typeof e=="function")iu(e)?(l=gr(e,l),t.tag=1,t=Wh(null,t,e,l,r)):(t.tag=0,t=Qu(null,t,e,l,r));else{if(e!=null){var c=e.$$typeof;if(c===V){t.tag=11,t=Yh(null,t,e,l,r);break e}else if(c===N){t.tag=14,t=Ih(null,t,e,l,r);break e}}throw t=we(e)||e,Error(i(306,t,""))}}return t;case 0:return Qu(e,t,t.type,t.pendingProps,r);case 1:return l=t.type,c=gr(l,t.pendingProps),Wh(e,t,l,c,r);case 3:e:{if(mt(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var f=t.memoizedState;c=f.element,_u(e,t),Qs(t,l,null,r);var y=t.memoizedState;if(l=y.cache,wn(t,wt,l),l!==f.cache&&pu(t,[wt],r,!0),Js(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=em(e,t,l,r);break e}else if(l!==c){c=fa(Error(i(424)),t),Ps(c),t=em(e,t,l,r);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,et=ya(e.firstChild),Ct=t,Pe=!0,vn=null,ga=!0,r=Qf(t,null,l,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ir(),l===c){t=en(e,t,r);break e}Ut(e,t,l,r)}t=t.child}return t;case 26:return Ai(e,t),e===null?(r=gg(t.type,null,t.pendingProps,null))?t.memoizedState=r:Pe||(r=t.type,e=t.pendingProps,l=Yi(Re.current).createElement(r),l[le]=t,l[ue]=e,kt(l,r,e),at(l),t.stateNode=l):t.memoizedState=gg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Yn(t),e===null&&Pe&&(l=t.stateNode=fg(t.type,t.pendingProps,Re.current),Ct=t,ga=!0,c=et,Un(t.type)?(zc=c,et=ya(l.firstChild)):et=c),Ut(e,t,t.pendingProps.children,r),Ai(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Pe&&((c=l=et)&&(l=E0(l,t.type,t.pendingProps,ga),l!==null?(t.stateNode=l,Ct=t,et=ya(l.firstChild),ga=!1,c=!0):c=!1),c||bn(t)),Yn(t),c=t.type,f=t.pendingProps,y=e!==null?e.memoizedProps:null,l=f.children,Oc(c,f)?l=null:y!==null&&Oc(c,y)&&(t.flags|=32),t.memoizedState!==null&&(c=Au(e,t,Bv,null,null,r),gl._currentValue=c),Ai(e,t),Ut(e,t,l,r),t.child;case 6:return e===null&&Pe&&((e=r=et)&&(r=j0(r,t.pendingProps,ga),r!==null?(t.stateNode=r,Ct=t,et=null,e=!0):e=!1),e||bn(t)),null;case 13:return tm(e,t,r);case 4:return mt(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=hr(t,null,l,r):Ut(e,t,l,r),t.child;case 11:return Yh(e,t,t.type,t.pendingProps,r);case 7:return Ut(e,t,t.pendingProps,r),t.child;case 8:return Ut(e,t,t.pendingProps.children,r),t.child;case 12:return Ut(e,t,t.pendingProps.children,r),t.child;case 10:return l=t.pendingProps,wn(t,t.type,l.value),Ut(e,t,l.children,r),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,ur(t),c=Dt(c),l=l(c),t.flags|=1,Ut(e,t,l,r),t.child;case 14:return Ih(e,t,t.type,t.pendingProps,r);case 15:return Jh(e,t,t.type,t.pendingProps,r);case 19:return nm(e,t,r);case 31:return Iv(e,t,r);case 22:return Qh(e,t,r,t.pendingProps);case 24:return ur(t),l=Dt(wt),e===null?(c=bu(),c===null&&(c=Ze,f=yu(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),t.memoizedState={parent:l,cache:c},xu(t),wn(t,wt,c)):((e.lanes&r)!==0&&(_u(e,t),Qs(t,null,null,r),Js()),c=e.memoizedState,f=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),wn(t,wt,l)):(l=f.cache,wn(t,wt,l),l!==c.cache&&pu(t,[wt],r,!0))),Ut(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function tn(e){e.flags|=4}function nc(e,t,r,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Cm())e.flags|=8192;else throw fr=mi,wu}else e.flags&=-16777217}function sm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!wg(t))if(Cm())e.flags|=8192;else throw fr=mi,wu}function Ci(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Zn():536870912,e.lanes|=t,ts|=t)}function tl(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(t)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=r,t}function Qv(e,t,r){var l=t.pendingProps;switch(du(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return tt(t),null;case 3:return r=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Fa(wt),rt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Pr(t)?tn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,hu())),tt(t),null;case 26:var c=t.type,f=t.memoizedState;return e===null?(tn(t),f!==null?(tt(t),sm(t,f)):(tt(t),nc(t,c,null,l,r))):f?f!==e.memoizedState?(tn(t),tt(t),sm(t,f)):(tt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&tn(t),tt(t),nc(t,c,e,l,r)),null;case 27:if(Rr(t),r=Re.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&tn(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return tt(t),null}e=ie.current,Pr(t)?qf(t):(e=fg(c,l,r),t.stateNode=e,tn(t))}return tt(t),null;case 5:if(Rr(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&tn(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return tt(t),null}if(f=ie.current,Pr(t))qf(t);else{var y=Yi(Re.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(c,{is:l.is}):y.createElement(c)}}f[le]=t,f[ue]=l;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=f;e:switch(kt(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&tn(t)}}return tt(t),nc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&tn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=Re.current,Pr(t)){if(e=t.stateNode,r=t.memoizedProps,l=null,c=Ct,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[le]=t,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||tg(e.nodeValue,r)),e||bn(t,!0)}else e=Yi(e).createTextNode(l),e[le]=t,t.stateNode=e}return tt(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(l=Pr(t),r!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[le]=t}else ir(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),e=!1}else r=hu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(ea(t),t):(ea(t),null);if((t.flags&128)!==0)throw Error(i(558))}return tt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Pr(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[le]=t}else ir(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),c=!1}else c=hu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(ea(t),t):(ea(t),null)}return ea(t),(t.flags&128)!==0?(t.lanes=r,t):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),Ci(t,t.updateQueue),tt(t),null);case 4:return rt(),e===null&&jc(t.stateNode.containerInfo),tt(t),null;case 10:return Fa(t.type),tt(t),null;case 19:if(I(yt),l=t.memoizedState,l===null)return tt(t),null;if(c=(t.flags&128)!==0,f=l.rendering,f===null)if(c)tl(l,!1);else{if(dt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=vi(e),f!==null){for(t.flags|=128,tl(l,!1),e=f.updateQueue,t.updateQueue=e,Ci(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)Uf(r,e),r=r.sibling;return ne(yt,yt.current&1|2),Pe&&Qa(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&gt()>Mi&&(t.flags|=128,c=!0,tl(l,!1),t.lanes=4194304)}else{if(!c)if(e=vi(f),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Ci(t,e),tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Pe)return tt(t),null}else 2*gt()-l.renderingStartTime>Mi&&r!==536870912&&(t.flags|=128,c=!0,tl(l,!1),t.lanes=4194304);l.isBackwards?(f.sibling=t.child,t.child=f):(e=l.last,e!==null?e.sibling=f:t.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=gt(),e.sibling=null,r=yt.current,ne(yt,c?r&1|2:r&1),Pe&&Qa(t,l.treeForkCount),e):(tt(t),null);case 22:case 23:return ea(t),Nu(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(r&536870912)!==0&&(t.flags&128)===0&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),r=t.updateQueue,r!==null&&Ci(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==r&&(t.flags|=2048),e!==null&&I(cr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Fa(wt),tt(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Xv(e,t){switch(du(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fa(wt),rt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Rr(t),null;case 31:if(t.memoizedState!==null){if(ea(t),t.alternate===null)throw Error(i(340));ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ea(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return I(yt),null;case 4:return rt(),null;case 10:return Fa(t.type),null;case 22:case 23:return ea(t),Nu(),e!==null&&I(cr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Fa(wt),null;case 25:return null;default:return null}}function lm(e,t){switch(du(t),t.tag){case 3:Fa(wt),rt();break;case 26:case 27:case 5:Rr(t);break;case 4:rt();break;case 31:t.memoizedState!==null&&ea(t);break;case 13:ea(t);break;case 19:I(yt);break;case 10:Fa(t.type);break;case 22:case 23:ea(t),Nu(),e!==null&&I(cr);break;case 24:Fa(wt)}}function al(e,t){try{var r=t.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&e)===e){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(w){Je(t,t.return,w)}}function Nn(e,t,r){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var y=l.inst,w=y.destroy;if(w!==void 0){y.destroy=void 0,c=t;var A=r,$=w;try{$()}catch(J){Je(c,A,J)}}}l=l.next}while(l!==f)}}catch(J){Je(t,t.return,J)}}function im(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{Ff(t,r)}catch(l){Je(e,e.return,l)}}}function om(e,t,r){r.props=gr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Je(e,t,l)}}function nl(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(c){Je(e,t,c)}}function La(e,t){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Je(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Je(e,t,c)}else r.current=null}function um(e){var t=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Je(e,e.return,c)}}function rc(e,t,r){try{var l=e.stateNode;v0(l,e.type,r,t),l[ue]=t}catch(c){Je(e,e.return,c)}}function cm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Un(e.type)||e.tag===4}function sc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Un(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lc(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ya));else if(l!==4&&(l===27&&Un(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(lc(e,t,r),e=e.sibling;e!==null;)lc(e,t,r),e=e.sibling}function Di(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(l!==4&&(l===27&&Un(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Di(e,t,r),e=e.sibling;e!==null;)Di(e,t,r),e=e.sibling}function dm(e){var t=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);kt(t,l,r),t[le]=e,t[ue]=r}catch(f){Je(e,e.return,f)}}var an=!1,St=!1,ic=!1,fm=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function Fv(e,t){if(e=e.containerInfo,Rc=Wi,e=Ef(e),eu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,w=-1,A=-1,$=0,J=0,X=e,H=null;t:for(;;){for(var K;X!==r||c!==0&&X.nodeType!==3||(w=y+c),X!==f||l!==0&&X.nodeType!==3||(A=y+l),X.nodeType===3&&(y+=X.nodeValue.length),(K=X.firstChild)!==null;)H=X,X=K;for(;;){if(X===e)break t;if(H===r&&++$===c&&(w=y),H===f&&++J===l&&(A=y),(K=X.nextSibling)!==null)break;X=H,H=X.parentNode}X=K}r=w===-1||A===-1?null:{start:w,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ac={focusedElem:e,selectionRange:r},Wi=!1,Rt=t;Rt!==null;)if(t=Rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Rt=e;else for(;Rt!==null;){switch(t=Rt,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)c=e[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=t,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var fe=gr(r.type,c);e=l.getSnapshotBeforeUpdate(fe,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(Se){Je(r,r.return,Se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)Dc(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Dc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Rt=e;break}Rt=t.return}}function hm(e,t,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:rn(e,r),l&4&&al(5,r);break;case 1:if(rn(e,r),l&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(y){Je(r,r.return,y)}else{var c=gr(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Je(r,r.return,y)}}l&64&&im(r),l&512&&nl(r,r.return);break;case 3:if(rn(e,r),l&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{Ff(e,t)}catch(y){Je(r,r.return,y)}}break;case 27:t===null&&l&4&&dm(r);case 26:case 5:rn(e,r),t===null&&l&4&&um(r),l&512&&nl(r,r.return);break;case 12:rn(e,r);break;case 31:rn(e,r),l&4&&pm(e,r);break;case 13:rn(e,r),l&4&&ym(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=l0.bind(null,r),N0(e,r))));break;case 22:if(l=r.memoizedState!==null||an,!l){t=t!==null&&t.memoizedState!==null||St,c=an;var f=St;an=l,(St=t)&&!f?sn(e,r,(r.subtreeFlags&8772)!==0):rn(e,r),an=c,St=f}break;case 30:break;default:rn(e,r)}}function mm(e){var t=e.alternate;t!==null&&(e.alternate=null,mm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ot(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var nt=null,Kt=!1;function nn(e,t,r){for(r=r.child;r!==null;)gm(e,t,r),r=r.sibling}function gm(e,t,r){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(Jn,r)}catch{}switch(r.tag){case 26:St||La(r,t),nn(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:St||La(r,t);var l=nt,c=Kt;Un(r.type)&&(nt=r.stateNode,Kt=!1),nn(e,t,r),fl(r.stateNode),nt=l,Kt=c;break;case 5:St||La(r,t);case 6:if(l=nt,c=Kt,nt=null,nn(e,t,r),nt=l,Kt=c,nt!==null)if(Kt)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(r.stateNode)}catch(f){Je(r,t,f)}else try{nt.removeChild(r.stateNode)}catch(f){Je(r,t,f)}break;case 18:nt!==null&&(Kt?(e=nt,ig(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),us(e)):ig(nt,r.stateNode));break;case 4:l=nt,c=Kt,nt=r.stateNode.containerInfo,Kt=!0,nn(e,t,r),nt=l,Kt=c;break;case 0:case 11:case 14:case 15:Nn(2,r,t),St||Nn(4,r,t),nn(e,t,r);break;case 1:St||(La(r,t),l=r.stateNode,typeof l.componentWillUnmount=="function"&&om(r,t,l)),nn(e,t,r);break;case 21:nn(e,t,r);break;case 22:St=(l=St)||r.memoizedState!==null,nn(e,t,r),St=l;break;default:nn(e,t,r)}}function pm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{us(e)}catch(r){Je(t,t.return,r)}}}function ym(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{us(e)}catch(r){Je(t,t.return,r)}}function Zv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new fm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new fm),t;default:throw Error(i(435,e.tag))}}function Ui(e,t){var r=Zv(e);t.forEach(function(l){if(!r.has(l)){r.add(l);var c=i0.bind(null,e,l);l.then(c,c)}})}function Yt(e,t){var r=t.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=e,y=t,w=y;e:for(;w!==null;){switch(w.tag){case 27:if(Un(w.type)){nt=w.stateNode,Kt=!1;break e}break;case 5:nt=w.stateNode,Kt=!1;break e;case 3:case 4:nt=w.stateNode.containerInfo,Kt=!0;break e}w=w.return}if(nt===null)throw Error(i(160));gm(f,y,c),nt=null,Kt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)vm(t,e),t=t.sibling}var Ra=null;function vm(e,t){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Yt(t,e),It(e),l&4&&(Nn(3,e,e.return),al(3,e),Nn(5,e,e.return));break;case 1:Yt(t,e),It(e),l&512&&(St||r===null||La(r,r.return)),l&64&&an&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Ra;if(Yt(t,e),It(e),l&512&&(St||r===null||La(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[lt]||f[le]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),kt(f,l,r),f[le]=e,at(f),l=f;break e;case"link":var y=vg("link","href",c).get(l+(r.href||""));if(y){for(var w=0;w<y.length;w++)if(f=y[w],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(w,1);break t}}f=c.createElement(l),kt(f,l,r),c.head.appendChild(f);break;case"meta":if(y=vg("meta","content",c).get(l+(r.content||""))){for(w=0;w<y.length;w++)if(f=y[w],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(w,1);break t}}f=c.createElement(l),kt(f,l,r),c.head.appendChild(f);break;default:throw Error(i(468,l))}f[le]=e,at(f),l=f}e.stateNode=l}else bg(c,e.type,e.stateNode);else e.stateNode=yg(c,l,e.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?bg(c,e.type,e.stateNode):yg(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&rc(e,e.memoizedProps,r.memoizedProps)}break;case 27:Yt(t,e),It(e),l&512&&(St||r===null||La(r,r.return)),r!==null&&l&4&&rc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Yt(t,e),It(e),l&512&&(St||r===null||La(r,r.return)),e.flags&32){c=e.stateNode;try{Dr(c,"")}catch(fe){Je(e,e.return,fe)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,rc(e,c,r!==null?r.memoizedProps:c)),l&1024&&(ic=!0);break;case 6:if(Yt(t,e),It(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(fe){Je(e,e.return,fe)}}break;case 3:if(Qi=null,c=Ra,Ra=Ii(t.containerInfo),Yt(t,e),Ra=c,It(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{us(t.containerInfo)}catch(fe){Je(e,e.return,fe)}ic&&(ic=!1,bm(e));break;case 4:l=Ra,Ra=Ii(e.stateNode.containerInfo),Yt(t,e),It(e),Ra=l;break;case 12:Yt(t,e),It(e);break;case 31:Yt(t,e),It(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ui(e,l)));break;case 13:Yt(t,e),It(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(zi=gt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ui(e,l)));break;case 22:c=e.memoizedState!==null;var A=r!==null&&r.memoizedState!==null,$=an,J=St;if(an=$||c,St=J||A,Yt(t,e),St=J,an=$,It(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(r===null||A||an||St||pr(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){A=r=t;try{if(f=A.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{w=A.stateNode;var X=A.memoizedProps.style,H=X!=null&&X.hasOwnProperty("display")?X.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(fe){Je(A,A.return,fe)}}}else if(t.tag===6){if(r===null){A=t;try{A.stateNode.nodeValue=c?"":A.memoizedProps}catch(fe){Je(A,A.return,fe)}}}else if(t.tag===18){if(r===null){A=t;try{var K=A.stateNode;c?og(K,!0):og(A.stateNode,!1)}catch(fe){Je(A,A.return,fe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Ui(e,r))));break;case 19:Yt(t,e),It(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ui(e,l)));break;case 30:break;case 21:break;default:Yt(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{for(var r,l=e.return;l!==null;){if(cm(l)){r=l;break}l=l.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var c=r.stateNode,f=sc(e);Di(e,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(Dr(y,""),r.flags&=-33);var w=sc(e);Di(e,w,y);break;case 3:case 4:var A=r.stateNode.containerInfo,$=sc(e);lc(e,$,A);break;default:throw Error(i(161))}}catch(J){Je(e,e.return,J)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;bm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function rn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)hm(e,t.alternate,t),t=t.sibling}function pr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Nn(4,t,t.return),pr(t);break;case 1:La(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&om(t,t.return,r),pr(t);break;case 27:fl(t.stateNode);case 26:case 5:La(t,t.return),pr(t);break;case 22:t.memoizedState===null&&pr(t);break;case 30:pr(t);break;default:pr(t)}e=e.sibling}}function sn(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,f=t,y=f.flags;switch(f.tag){case 0:case 11:case 15:sn(c,f,r),al(4,f);break;case 1:if(sn(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch($){Je(l,l.return,$)}if(l=f,c=l.updateQueue,c!==null){var w=l.stateNode;try{var A=c.shared.hiddenCallbacks;if(A!==null)for(c.shared.hiddenCallbacks=null,c=0;c<A.length;c++)Xf(A[c],w)}catch($){Je(l,l.return,$)}}r&&y&64&&im(f),nl(f,f.return);break;case 27:dm(f);case 26:case 5:sn(c,f,r),r&&l===null&&y&4&&um(f),nl(f,f.return);break;case 12:sn(c,f,r);break;case 31:sn(c,f,r),r&&y&4&&pm(c,f);break;case 13:sn(c,f,r),r&&y&4&&ym(c,f);break;case 22:f.memoizedState===null&&sn(c,f,r),nl(f,f.return);break;case 30:break;default:sn(c,f,r)}t=t.sibling}}function oc(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Vs(r))}function uc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vs(e))}function Aa(e,t,r,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wm(e,t,r,l),t=t.sibling}function wm(e,t,r,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Aa(e,t,r,l),c&2048&&al(9,t);break;case 1:Aa(e,t,r,l);break;case 3:Aa(e,t,r,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vs(e)));break;case 12:if(c&2048){Aa(e,t,r,l),e=t.stateNode;try{var f=t.memoizedProps,y=f.id,w=f.onPostCommit;typeof w=="function"&&w(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Je(t,t.return,A)}}else Aa(e,t,r,l);break;case 31:Aa(e,t,r,l);break;case 13:Aa(e,t,r,l);break;case 23:break;case 22:f=t.stateNode,y=t.alternate,t.memoizedState!==null?f._visibility&2?Aa(e,t,r,l):rl(e,t):f._visibility&2?Aa(e,t,r,l):(f._visibility|=2,Zr(e,t,r,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&oc(y,t);break;case 24:Aa(e,t,r,l),c&2048&&uc(t.alternate,t);break;default:Aa(e,t,r,l)}}function Zr(e,t,r,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,y=t,w=r,A=l,$=y.flags;switch(y.tag){case 0:case 11:case 15:Zr(f,y,w,A,c),al(8,y);break;case 23:break;case 22:var J=y.stateNode;y.memoizedState!==null?J._visibility&2?Zr(f,y,w,A,c):rl(f,y):(J._visibility|=2,Zr(f,y,w,A,c)),c&&$&2048&&oc(y.alternate,y);break;case 24:Zr(f,y,w,A,c),c&&$&2048&&uc(y.alternate,y);break;default:Zr(f,y,w,A,c)}t=t.sibling}}function rl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,l=t,c=l.flags;switch(l.tag){case 22:rl(r,l),c&2048&&oc(l.alternate,l);break;case 24:rl(r,l),c&2048&&uc(l.alternate,l);break;default:rl(r,l)}t=t.sibling}}var sl=8192;function Wr(e,t,r){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)xm(e,t,r),e=e.sibling}function xm(e,t,r){switch(e.tag){case 26:Wr(e,t,r),e.flags&sl&&e.memoizedState!==null&&q0(r,Ra,e.memoizedState,e.memoizedProps);break;case 5:Wr(e,t,r);break;case 3:case 4:var l=Ra;Ra=Ii(e.stateNode.containerInfo),Wr(e,t,r),Ra=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=sl,sl=16777216,Wr(e,t,r),sl=l):Wr(e,t,r));break;default:Wr(e,t,r)}}function _m(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ll(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var l=t[r];Rt=l,Em(l,e)}_m(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sm(e),e=e.sibling}function Sm(e){switch(e.tag){case 0:case 11:case 15:ll(e),e.flags&2048&&Nn(9,e,e.return);break;case 3:ll(e);break;case 12:ll(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ki(e)):ll(e);break;default:ll(e)}}function ki(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var l=t[r];Rt=l,Em(l,e)}_m(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Nn(8,t,t.return),ki(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,ki(t));break;default:ki(t)}e=e.sibling}}function Em(e,t){for(;Rt!==null;){var r=Rt;switch(r.tag){case 0:case 11:case 15:Nn(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vs(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Rt=l;else e:for(r=e;Rt!==null;){l=Rt;var c=l.sibling,f=l.return;if(mm(l),l===r){Rt=null;break e}if(c!==null){c.return=f,Rt=c;break e}Rt=f}}}var Wv={getCacheForType:function(e){var t=Dt(wt),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Dt(wt).controller.signal}},e0=typeof WeakMap=="function"?WeakMap:Map,Ye=0,Ze=null,Ue=null,ze=0,Ie=0,ta=null,Tn=!1,es=!1,cc=!1,ln=0,dt=0,Rn=0,yr=0,dc=0,aa=0,ts=0,il=null,Jt=null,fc=!1,zi=0,jm=0,Mi=1/0,Li=null,An=null,jt=0,On=null,as=null,on=0,hc=0,mc=null,Nm=null,ol=0,gc=null;function na(){return(Ye&2)!==0&&ze!==0?ze&-ze:P.T!==null?xc():re()}function Tm(){if(aa===0)if((ze&536870912)===0||Pe){var e=Qn;Qn<<=1,(Qn&3932160)===0&&(Qn=262144),aa=e}else aa=536870912;return e=Wt.current,e!==null&&(e.flags|=32),aa}function Qt(e,t,r){(e===Ze&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)&&(ns(e,0),Cn(e,ze,aa,!1)),gn(e,r),((Ye&2)===0||e!==Ze)&&(e===Ze&&((Ye&2)===0&&(yr|=r),dt===4&&Cn(e,ze,aa,!1)),qa(e))}function Rm(e,t,r){if((Ye&6)!==0)throw Error(i(327));var l=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Fn(e,t),c=l?n0(e,t):yc(e,t,!0),f=l;do{if(c===0){es&&!l&&Cn(e,t,0,!1);break}else{if(r=e.current.alternate,f&&!t0(r)){c=yc(e,t,!1),f=!1;continue}if(c===2){if(f=t,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var w=e;c=il;var A=w.current.memoizedState.isDehydrated;if(A&&(ns(w,y).flags|=256),y=yc(w,y,!1),y!==2){if(cc&&!A){w.errorRecoveryDisabledLanes|=f,yr|=f,c=4;break e}f=Jt,Jt=c,f!==null&&(Jt===null?Jt=f:Jt.push.apply(Jt,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){ns(e,0),Cn(e,t,0,!0);break}e:{switch(l=e,f=c,f){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Cn(l,t,aa,!Tn);break e;case 2:Jt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(c=zi+300-gt(),10<c)){if(Cn(l,t,aa,!Tn),Xn(l,0,!0)!==0)break e;on=t,l.timeoutHandle=sg(Am.bind(null,l,r,Jt,Li,fc,t,aa,yr,ts,Tn,f,"Throttled",-0,0),c);break e}Am(l,r,Jt,Li,fc,t,aa,yr,ts,Tn,f,null,-0,0)}}break}while(!0);qa(e)}function Am(e,t,r,l,c,f,y,w,A,$,J,X,H,K){if(e.timeoutHandle=-1,X=t.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ya},xm(t,f,X);var fe=(f&62914560)===f?zi-gt():(f&4194048)===f?jm-gt():0;if(fe=B0(X,fe),fe!==null){on=f,e.cancelPendingCommit=fe(Lm.bind(null,e,t,f,r,l,c,y,w,A,J,X,null,H,K)),Cn(e,f,y,!$);return}}Lm(e,t,f,r,l,c,y,w,A)}function t0(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!Ft(f(),c))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cn(e,t,r,l){t&=~dc,t&=~yr,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var f=31-qt(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Jl(e,r,t)}function qi(){return(Ye&6)===0?(ul(0),!1):!0}function pc(){if(Ue!==null){if(Ie===0)var e=Ue.return;else e=Ue,Xa=or=null,Du(e),Ir=null,Ks=0,e=Ue;for(;e!==null;)lm(e.alternate,e),e=e.return;Ue=null}}function ns(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,x0(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),on=0,pc(),Ze=e,Ue=r=Ja(e.current,null),ze=t,Ie=0,ta=null,Tn=!1,es=Fn(e,t),cc=!1,ts=aa=dc=yr=Rn=dt=0,Jt=il=null,fc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-qt(l),f=1<<c;t|=e[c],l&=~f}return ln=t,si(),r}function Om(e,t){Oe=null,P.H=Ws,t===Yr||t===hi?(t=Yf(),Ie=3):t===wu?(t=Yf(),Ie=4):Ie=t===Ju?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ta=t,Ue===null&&(dt=1,Ti(e,fa(t,e.current)))}function Cm(){var e=Wt.current;return e===null?!0:(ze&4194048)===ze?pa===null:(ze&62914560)===ze||(ze&536870912)!==0?e===pa:!1}function Dm(){var e=P.H;return P.H=Ws,e===null?Ws:e}function Um(){var e=P.A;return P.A=Wv,e}function Bi(){dt=4,Tn||(ze&4194048)!==ze&&Wt.current!==null||(es=!0),(Rn&134217727)===0&&(yr&134217727)===0||Ze===null||Cn(Ze,ze,aa,!1)}function yc(e,t,r){var l=Ye;Ye|=2;var c=Dm(),f=Um();(Ze!==e||ze!==t)&&(Li=null,ns(e,t)),t=!1;var y=dt;e:do try{if(Ie!==0&&Ue!==null){var w=Ue,A=ta;switch(Ie){case 8:pc(),y=6;break e;case 3:case 2:case 9:case 6:Wt.current===null&&(t=!0);var $=Ie;if(Ie=0,ta=null,rs(e,w,A,$),r&&es){y=0;break e}break;default:$=Ie,Ie=0,ta=null,rs(e,w,A,$)}}a0(),y=dt;break}catch(J){Om(e,J)}while(!0);return t&&e.shellSuspendCounter++,Xa=or=null,Ye=l,P.H=c,P.A=f,Ue===null&&(Ze=null,ze=0,si()),y}function a0(){for(;Ue!==null;)km(Ue)}function n0(e,t){var r=Ye;Ye|=2;var l=Dm(),c=Um();Ze!==e||ze!==t?(Li=null,Mi=gt()+500,ns(e,t)):es=Fn(e,t);e:do try{if(Ie!==0&&Ue!==null){t=Ue;var f=ta;t:switch(Ie){case 1:Ie=0,ta=null,rs(e,t,f,1);break;case 2:case 9:if(Gf(f)){Ie=0,ta=null,zm(t);break}t=function(){Ie!==2&&Ie!==9||Ze!==e||(Ie=7),qa(e)},f.then(t,t);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:Gf(f)?(Ie=0,ta=null,zm(t)):(Ie=0,ta=null,rs(e,t,f,7));break;case 5:var y=null;switch(Ue.tag){case 26:y=Ue.memoizedState;case 5:case 27:var w=Ue;if(y?wg(y):w.stateNode.complete){Ie=0,ta=null;var A=w.sibling;if(A!==null)Ue=A;else{var $=w.return;$!==null?(Ue=$,$i($)):Ue=null}break t}}Ie=0,ta=null,rs(e,t,f,5);break;case 6:Ie=0,ta=null,rs(e,t,f,6);break;case 8:pc(),dt=6;break e;default:throw Error(i(462))}}r0();break}catch(J){Om(e,J)}while(!0);return Xa=or=null,P.H=l,P.A=c,Ye=r,Ue!==null?0:(Ze=null,ze=0,si(),dt)}function r0(){for(;Ue!==null&&!ko();)km(Ue)}function km(e){var t=rm(e.alternate,e,ln);e.memoizedProps=e.pendingProps,t===null?$i(e):Ue=t}function zm(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Zh(r,t,t.pendingProps,t.type,void 0,ze);break;case 11:t=Zh(r,t,t.pendingProps,t.type.render,t.ref,ze);break;case 5:Du(t);default:lm(r,t),t=Ue=Uf(t,ln),t=rm(r,t,ln)}e.memoizedProps=e.pendingProps,t===null?$i(e):Ue=t}function rs(e,t,r,l){Xa=or=null,Du(t),Ir=null,Ks=0;var c=t.return;try{if(Yv(e,c,t,r,ze)){dt=1,Ti(e,fa(r,e.current)),Ue=null;return}}catch(f){if(c!==null)throw Ue=c,f;dt=1,Ti(e,fa(r,e.current)),Ue=null;return}t.flags&32768?(Pe||l===1?e=!0:es||(ze&536870912)!==0?e=!1:(Tn=e=!0,(l===2||l===9||l===3||l===6)&&(l=Wt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Mm(t,e)):$i(t)}function $i(e){var t=e;do{if((t.flags&32768)!==0){Mm(t,Tn);return}e=t.return;var r=Qv(t.alternate,t,ln);if(r!==null){Ue=r;return}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);dt===0&&(dt=5)}function Mm(e,t){do{var r=Xv(e.alternate,e);if(r!==null){r.flags&=32767,Ue=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){Ue=e;return}Ue=e=r}while(e!==null);dt=6,Ue=null}function Lm(e,t,r,l,c,f,y,w,A){e.cancelPendingCommit=null;do Hi();while(jt!==0);if((Ye&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(f=t.lanes|t.childLanes,f|=su,qo(e,r,f,y,w,A),e===Ze&&(Ue=Ze=null,ze=0),as=t,On=e,on=r,hc=f,mc=c,Nm=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,o0(Pt,function(){return Pm(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,c=te.p,te.p=2,y=Ye,Ye|=4;try{Fv(e,t,r)}finally{Ye=y,te.p=c,P.T=l}}jt=1,qm(),Bm(),$m()}}function qm(){if(jt===1){jt=0;var e=On,t=as,r=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||r){r=P.T,P.T=null;var l=te.p;te.p=2;var c=Ye;Ye|=4;try{vm(t,e);var f=Ac,y=Ef(e.containerInfo),w=f.focusedElem,A=f.selectionRange;if(y!==w&&w&&w.ownerDocument&&Sf(w.ownerDocument.documentElement,w)){if(A!==null&&eu(w)){var $=A.start,J=A.end;if(J===void 0&&(J=$),"selectionStart"in w)w.selectionStart=$,w.selectionEnd=Math.min(J,w.value.length);else{var X=w.ownerDocument||document,H=X&&X.defaultView||window;if(H.getSelection){var K=H.getSelection(),fe=w.textContent.length,Se=Math.min(A.start,fe),Fe=A.end===void 0?Se:Math.min(A.end,fe);!K.extend&&Se>Fe&&(y=Fe,Fe=Se,Se=y);var M=_f(w,Se),k=_f(w,Fe);if(M&&k&&(K.rangeCount!==1||K.anchorNode!==M.node||K.anchorOffset!==M.offset||K.focusNode!==k.node||K.focusOffset!==k.offset)){var q=X.createRange();q.setStart(M.node,M.offset),K.removeAllRanges(),Se>Fe?(K.addRange(q),K.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),K.addRange(q))}}}}for(X=[],K=w;K=K.parentNode;)K.nodeType===1&&X.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<X.length;w++){var Q=X[w];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Wi=!!Rc,Ac=Rc=null}finally{Ye=c,te.p=l,P.T=r}}e.current=t,jt=2}}function Bm(){if(jt===2){jt=0;var e=On,t=as,r=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||r){r=P.T,P.T=null;var l=te.p;te.p=2;var c=Ye;Ye|=4;try{hm(e,t.alternate,t)}finally{Ye=c,te.p=l,P.T=r}}jt=3}}function $m(){if(jt===4||jt===3){jt=0,zo();var e=On,t=as,r=on,l=Nm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?jt=5:(jt=0,as=On=null,Hm(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(An=null),ee(r),t=t.stateNode,st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(Jn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=P.T,c=te.p,te.p=2,P.T=null;try{for(var f=e.onRecoverableError,y=0;y<l.length;y++){var w=l[y];f(w.value,{componentStack:w.stack})}}finally{P.T=t,te.p=c}}(on&3)!==0&&Hi(),qa(e),c=e.pendingLanes,(r&261930)!==0&&(c&42)!==0?e===gc?ol++:(ol=0,gc=e):ol=0,ul(0)}}function Hm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Vs(t)))}function Hi(){return qm(),Bm(),$m(),Pm()}function Pm(){if(jt!==5)return!1;var e=On,t=hc;hc=0;var r=ee(on),l=P.T,c=te.p;try{te.p=32>r?32:r,P.T=null,r=mc,mc=null;var f=On,y=on;if(jt=0,as=On=null,on=0,(Ye&6)!==0)throw Error(i(331));var w=Ye;if(Ye|=4,Sm(f.current),wm(f,f.current,y,r),Ye=w,ul(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(Jn,f)}catch{}return!0}finally{te.p=c,P.T=l,Hm(e,t)}}function Vm(e,t,r){t=fa(r,t),t=Iu(e.stateNode,t,2),e=Sn(e,t,2),e!==null&&(gn(e,2),qa(e))}function Je(e,t,r){if(e.tag===3)Vm(e,e,r);else for(;t!==null;){if(t.tag===3){Vm(t,e,r);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(An===null||!An.has(l))){e=fa(r,e),r=Gh(2),l=Sn(t,r,2),l!==null&&(Kh(r,l,t,e),gn(l,2),qa(l));break}}t=t.return}}function vc(e,t,r){var l=e.pingCache;if(l===null){l=e.pingCache=new e0;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(r)||(cc=!0,c.add(r),e=s0.bind(null,e,t,r),t.then(e,e))}function s0(e,t,r){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ze===e&&(ze&r)===r&&(dt===4||dt===3&&(ze&62914560)===ze&&300>gt()-zi?(Ye&2)===0&&ns(e,0):dc|=r,ts===ze&&(ts=0)),qa(e)}function Gm(e,t){t===0&&(t=Zn()),e=sr(e,t),e!==null&&(gn(e,t),qa(e))}function l0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Gm(e,r)}function i0(e,t){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Gm(e,r)}function o0(e,t){return Ns(e,t)}var Pi=null,ss=null,bc=!1,Vi=!1,wc=!1,Dn=0;function qa(e){e!==ss&&e.next===null&&(ss===null?Pi=ss=e:ss=ss.next=e),Vi=!0,bc||(bc=!0,c0())}function ul(e,t){if(!wc&&Vi){wc=!0;do for(var r=!1,l=Pi;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,w=l.pingedLanes;f=(1<<31-qt(42|e)+1)-1,f&=c&~(y&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Jm(l,f))}else f=ze,f=Xn(l,l===Ze?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Fn(l,f)||(r=!0,Jm(l,f));l=l.next}while(r);wc=!1}}function u0(){Km()}function Km(){Vi=bc=!1;var e=0;Dn!==0&&w0()&&(e=Dn);for(var t=gt(),r=null,l=Pi;l!==null;){var c=l.next,f=Ym(l,t);f===0?(l.next=null,r===null?Pi=c:r.next=c,c===null&&(ss=r)):(r=l,(e!==0||(f&3)!==0)&&(Vi=!0)),l=c}jt!==0&&jt!==5||ul(e),Dn!==0&&(Dn=0)}function Ym(e,t){for(var r=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-qt(f),w=1<<y,A=c[y];A===-1?((w&r)===0||(w&l)!==0)&&(c[y]=Il(w,t)):A<=t&&(e.expiredLanes|=w),f&=~w}if(t=Ze,r=ze,r=Xn(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===t&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ts(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Fn(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(l!==null&&Ts(l),ee(r)){case 2:case 8:r=Or;break;case 32:r=Pt;break;case 268435456:r=As;break;default:r=Pt}return l=Im.bind(null,e),r=Ns(r,l),e.callbackPriority=t,e.callbackNode=r,t}return l!==null&&l!==null&&Ts(l),e.callbackPriority=2,e.callbackNode=null,2}function Im(e,t){if(jt!==0&&jt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Hi()&&e.callbackNode!==r)return null;var l=ze;return l=Xn(e,e===Ze?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Rm(e,l,t),Ym(e,gt()),e.callbackNode!=null&&e.callbackNode===r?Im.bind(null,e):null)}function Jm(e,t){if(Hi())return null;Rm(e,t,!0)}function c0(){_0(function(){(Ye&6)!==0?Ns(Rs,u0):Km()})}function xc(){if(Dn===0){var e=Gr;e===0&&(e=Va,Va<<=1,(Va&261888)===0&&(Va=256)),Dn=e}return Dn}function Qm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fl(""+e)}function Xm(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function d0(e,t,r,l,c){if(t==="submit"&&r&&r.stateNode===c){var f=Qm((c[ue]||null).action),y=l.submitter;y&&(t=(t=y[ue]||null)?Qm(t.formAction):y.getAttribute("formAction"),t!==null&&(f=t,y=null));var w=new ti("action","action",null,l,c);e.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Dn!==0){var A=y?Xm(c,y):new FormData(c);Hu(r,{pending:!0,data:A,method:c.method,action:f},null,A)}}else typeof f=="function"&&(w.preventDefault(),A=y?Xm(c,y):new FormData(c),Hu(r,{pending:!0,data:A,method:c.method,action:f},f,A))},currentTarget:c}]})}}for(var _c=0;_c<ru.length;_c++){var Sc=ru[_c],f0=Sc.toLowerCase(),h0=Sc[0].toUpperCase()+Sc.slice(1);Ta(f0,"on"+h0)}Ta(Tf,"onAnimationEnd"),Ta(Rf,"onAnimationIteration"),Ta(Af,"onAnimationStart"),Ta("dblclick","onDoubleClick"),Ta("focusin","onFocus"),Ta("focusout","onBlur"),Ta(Av,"onTransitionRun"),Ta(Ov,"onTransitionStart"),Ta(Cv,"onTransitionCancel"),Ta(Of,"onTransitionEnd"),ua("onMouseEnter",["mouseout","mouseover"]),ua("onMouseLeave",["mouseout","mouseover"]),ua("onPointerEnter",["pointerout","pointerover"]),ua("onPointerLeave",["pointerout","pointerover"]),ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ja("onBeforeInput",["compositionend","keypress","textInput","paste"]),ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function Fm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],c=l.event;l=l.listeners;e:{var f=void 0;if(t)for(var y=l.length-1;0<=y;y--){var w=l[y],A=w.instance,$=w.currentTarget;if(w=w.listener,A!==f&&c.isPropagationStopped())break e;f=w,c.currentTarget=$;try{f(c)}catch(J){ri(J)}c.currentTarget=null,f=A}else for(y=0;y<l.length;y++){if(w=l[y],A=w.instance,$=w.currentTarget,w=w.listener,A!==f&&c.isPropagationStopped())break e;f=w,c.currentTarget=$;try{f(c)}catch(J){ri(J)}c.currentTarget=null,f=A}}}}function ke(e,t){var r=t[_e];r===void 0&&(r=t[_e]=new Set);var l=e+"__bubble";r.has(l)||(Zm(t,e,2,!1),r.add(l))}function Ec(e,t,r){var l=0;t&&(l|=4),Zm(r,e,l,t)}var Gi="_reactListening"+Math.random().toString(36).slice(2);function jc(e){if(!e[Gi]){e[Gi]=!0,Ea.forEach(function(r){r!=="selectionchange"&&(m0.has(r)||Ec(r,!1,e),Ec(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gi]||(t[Gi]=!0,Ec("selectionchange",!1,t))}}function Zm(e,t,r,l){switch(Tg(t)){case 2:var c=P0;break;case 8:c=V0;break;default:c=$c}r=c.bind(null,t,r,e),c=void 0,!Ko||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,r,{capture:!0,passive:c}):e.addEventListener(t,r,!0):c!==void 0?e.addEventListener(t,r,{passive:c}):e.addEventListener(t,r,!1)}function Nc(e,t,r,l,c){var f=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var w=l.stateNode.containerInfo;if(w===c)break;if(y===4)for(y=l.return;y!==null;){var A=y.tag;if((A===3||A===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;w!==null;){if(y=ut(w),y===null)return;if(A=y.tag,A===5||A===6||A===26||A===27){l=f=y;continue e}w=w.parentNode}}l=l.return}af(function(){var $=f,J=Vo(r),X=[];e:{var H=Cf.get(e);if(H!==void 0){var K=ti,fe=e;switch(e){case"keypress":if(Wl(r)===0)break e;case"keydown":case"keyup":K=iv;break;case"focusin":fe="focus",K=Qo;break;case"focusout":fe="blur",K=Qo;break;case"beforeblur":case"afterblur":K=Qo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=sf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Qy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=cv;break;case Tf:case Rf:case Af:K=Zy;break;case Of:K=fv;break;case"scroll":case"scrollend":K=Iy;break;case"wheel":K=mv;break;case"copy":case"cut":case"paste":K=ev;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=of;break;case"toggle":case"beforetoggle":K=pv}var Se=(t&4)!==0,Fe=!Se&&(e==="scroll"||e==="scrollend"),M=Se?H!==null?H+"Capture":null:H;Se=[];for(var k=$,q;k!==null;){var Q=k;if(q=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||q===null||M===null||(Q=Ds(k,M),Q!=null&&Se.push(dl(k,Q,q))),Fe)break;k=k.return}0<Se.length&&(H=new K(H,fe,null,r,J),X.push({event:H,listeners:Se}))}}if((t&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",H&&r!==Po&&(fe=r.relatedTarget||r.fromElement)&&(ut(fe)||fe[me]))break e;if((K||H)&&(H=J.window===J?J:(H=J.ownerDocument)?H.defaultView||H.parentWindow:window,K?(fe=r.relatedTarget||r.toElement,K=$,fe=fe?ut(fe):null,fe!==null&&(Fe=u(fe),Se=fe.tag,fe!==Fe||Se!==5&&Se!==27&&Se!==6)&&(fe=null)):(K=null,fe=$),K!==fe)){if(Se=sf,Q="onMouseLeave",M="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(Se=of,Q="onPointerLeave",M="onPointerEnter",k="pointer"),Fe=K==null?H:Tt(K),q=fe==null?H:Tt(fe),H=new Se(Q,k+"leave",K,r,J),H.target=Fe,H.relatedTarget=q,Q=null,ut(J)===$&&(Se=new Se(M,k+"enter",fe,r,J),Se.target=q,Se.relatedTarget=Fe,Q=Se),Fe=Q,K&&fe)t:{for(Se=g0,M=K,k=fe,q=0,Q=M;Q;Q=Se(Q))q++;Q=0;for(var be=k;be;be=Se(be))Q++;for(;0<q-Q;)M=Se(M),q--;for(;0<Q-q;)k=Se(k),Q--;for(;q--;){if(M===k||k!==null&&M===k.alternate){Se=M;break t}M=Se(M),k=Se(k)}Se=null}else Se=null;K!==null&&Wm(X,H,K,Se,!1),fe!==null&&Fe!==null&&Wm(X,Fe,fe,Se,!0)}}e:{if(H=$?Tt($):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var Ge=pf;else if(mf(H))if(yf)Ge=Nv;else{Ge=Ev;var he=Sv}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?$&&Ho($.elementType)&&(Ge=pf):Ge=jv;if(Ge&&(Ge=Ge(e,$))){gf(X,Ge,r,J);break e}he&&he(e,H,$),e==="focusout"&&$&&H.type==="number"&&$.memoizedProps.value!=null&&$o(H,"number",H.value)}switch(he=$?Tt($):window,e){case"focusin":(mf(he)||he.contentEditable==="true")&&(Mr=he,tu=$,$s=null);break;case"focusout":$s=tu=Mr=null;break;case"mousedown":au=!0;break;case"contextmenu":case"mouseup":case"dragend":au=!1,jf(X,r,J);break;case"selectionchange":if(Rv)break;case"keydown":case"keyup":jf(X,r,J)}var Ce;if(Fo)e:{switch(e){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else zr?ff(e,r)&&(Me="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Me="onCompositionStart");Me&&(uf&&r.locale!=="ko"&&(zr||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&zr&&(Ce=nf()):(pn=J,Yo="value"in pn?pn.value:pn.textContent,zr=!0)),he=Ki($,Me),0<he.length&&(Me=new lf(Me,e,null,r,J),X.push({event:Me,listeners:he}),Ce?Me.data=Ce:(Ce=hf(r),Ce!==null&&(Me.data=Ce)))),(Ce=vv?bv(e,r):wv(e,r))&&(Me=Ki($,"onBeforeInput"),0<Me.length&&(he=new lf("onBeforeInput","beforeinput",null,r,J),X.push({event:he,listeners:Me}),he.data=Ce)),d0(X,e,$,r,J)}Fm(X,t)})}function dl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ki(e,t){for(var r=t+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ds(e,r),c!=null&&l.unshift(dl(e,c,f)),c=Ds(e,t),c!=null&&l.push(dl(e,c,f))),e.tag===3)return l;e=e.return}return[]}function g0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wm(e,t,r,l,c){for(var f=t._reactName,y=[];r!==null&&r!==l;){var w=r,A=w.alternate,$=w.stateNode;if(w=w.tag,A!==null&&A===l)break;w!==5&&w!==26&&w!==27||$===null||(A=$,c?($=Ds(r,f),$!=null&&y.unshift(dl(r,$,A))):c||($=Ds(r,f),$!=null&&y.push(dl(r,$,A)))),r=r.return}y.length!==0&&e.push({event:t,listeners:y})}var p0=/\r\n?/g,y0=/\u0000|\uFFFD/g;function eg(e){return(typeof e=="string"?e:""+e).replace(p0,`
`).replace(y0,"")}function tg(e,t){return t=eg(t),eg(e)===t}function Xe(e,t,r,l,c,f){switch(r){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Dr(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Dr(e,""+l);break;case"className":Na(e,"class",l);break;case"tabIndex":Na(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Na(e,r,l);break;case"style":ef(e,l,f);break;case"data":if(t!=="object"){Na(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Fl(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(t!=="input"&&Xe(e,t,"name",c.name,c,null),Xe(e,t,"formEncType",c.formEncType,c,null),Xe(e,t,"formMethod",c.formMethod,c,null),Xe(e,t,"formTarget",c.formTarget,c,null)):(Xe(e,t,"encType",c.encType,c,null),Xe(e,t,"method",c.method,c,null),Xe(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Fl(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=Ya);break;case"onScroll":l!=null&&ke("scroll",e);break;case"onScrollEnd":l!=null&&ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=Fl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":ke("beforetoggle",e),ke("toggle",e),pt(e,"popover",l);break;case"xlinkActuate":Ot(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ot(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ot(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ot(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ot(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ot(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ot(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ot(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ot(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pt(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ky.get(r)||r,pt(e,r,l))}}function Tc(e,t,r,l,c,f){switch(r){case"style":ef(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"children":typeof l=="string"?Dr(e,l):(typeof l=="number"||typeof l=="bigint")&&Dr(e,""+l);break;case"onScroll":l!=null&&ke("scroll",e);break;case"onScrollEnd":l!=null&&ke("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ya);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xt.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),t=r.slice(2,c?r.length-7:void 0),f=e[ue]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(t,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,l,c);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):pt(e,r,l)}}}function kt(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",e),ke("load",e);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Xe(e,t,f,y,r,null)}}c&&Xe(e,t,"srcSet",r.srcSet,r,null),l&&Xe(e,t,"src",r.src,r,null);return;case"input":ke("invalid",e);var w=f=y=c=null,A=null,$=null;for(l in r)if(r.hasOwnProperty(l)){var J=r[l];if(J!=null)switch(l){case"name":c=J;break;case"type":y=J;break;case"checked":A=J;break;case"defaultChecked":$=J;break;case"value":f=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,t));break;default:Xe(e,t,l,J,r,null)}}Xd(e,f,w,A,$,y,c,!1);return;case"select":ke("invalid",e),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(w=r[c],w!=null))switch(c){case"value":f=w;break;case"defaultValue":y=w;break;case"multiple":l=w;default:Xe(e,t,c,w,r,null)}t=f,r=y,e.multiple=!!l,t!=null?Cr(e,!!l,t,!1):r!=null&&Cr(e,!!l,r,!0);return;case"textarea":ke("invalid",e),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(w=r[y],w!=null))switch(y){case"value":l=w;break;case"defaultValue":c=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:Xe(e,t,y,w,r,null)}Zd(e,l,c,f);return;case"option":for(A in r)r.hasOwnProperty(A)&&(l=r[A],l!=null)&&(A==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Xe(e,t,A,l,r,null));return;case"dialog":ke("beforetoggle",e),ke("toggle",e),ke("cancel",e),ke("close",e);break;case"iframe":case"object":ke("load",e);break;case"video":case"audio":for(l=0;l<cl.length;l++)ke(cl[l],e);break;case"image":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"embed":case"source":case"link":ke("error",e),ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in r)if(r.hasOwnProperty($)&&(l=r[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Xe(e,t,$,l,r,null)}return;default:if(Ho(t)){for(J in r)r.hasOwnProperty(J)&&(l=r[J],l!==void 0&&Tc(e,t,J,l,r,void 0));return}}for(w in r)r.hasOwnProperty(w)&&(l=r[w],l!=null&&Xe(e,t,w,l,r,null))}function v0(e,t,r,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,w=null,A=null,$=null,J=null;for(K in r){var X=r[K];if(r.hasOwnProperty(K)&&X!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":A=X;default:l.hasOwnProperty(K)||Xe(e,t,K,null,l,X)}}for(var H in l){var K=l[H];if(X=r[H],l.hasOwnProperty(H)&&(K!=null||X!=null))switch(H){case"type":f=K;break;case"name":c=K;break;case"checked":$=K;break;case"defaultChecked":J=K;break;case"value":y=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,t));break;default:K!==X&&Xe(e,t,H,K,l,X)}}Bo(e,y,w,A,$,J,f,c);return;case"select":K=y=w=H=null;for(f in r)if(A=r[f],r.hasOwnProperty(f)&&A!=null)switch(f){case"value":break;case"multiple":K=A;default:l.hasOwnProperty(f)||Xe(e,t,f,null,l,A)}for(c in l)if(f=l[c],A=r[c],l.hasOwnProperty(c)&&(f!=null||A!=null))switch(c){case"value":H=f;break;case"defaultValue":w=f;break;case"multiple":y=f;default:f!==A&&Xe(e,t,c,f,l,A)}t=w,r=y,l=K,H!=null?Cr(e,!!r,H,!1):!!l!=!!r&&(t!=null?Cr(e,!!r,t,!0):Cr(e,!!r,r?[]:"",!1));return;case"textarea":K=H=null;for(w in r)if(c=r[w],r.hasOwnProperty(w)&&c!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Xe(e,t,w,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":H=c;break;case"defaultValue":K=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(i(91));break;default:c!==f&&Xe(e,t,y,c,l,f)}Fd(e,H,K);return;case"option":for(var fe in r)H=r[fe],r.hasOwnProperty(fe)&&H!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?e.selected=!1:Xe(e,t,fe,null,l,H));for(A in l)H=l[A],K=r[A],l.hasOwnProperty(A)&&H!==K&&(H!=null||K!=null)&&(A==="selected"?e.selected=H&&typeof H!="function"&&typeof H!="symbol":Xe(e,t,A,H,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in r)H=r[Se],r.hasOwnProperty(Se)&&H!=null&&!l.hasOwnProperty(Se)&&Xe(e,t,Se,null,l,H);for($ in l)if(H=l[$],K=r[$],l.hasOwnProperty($)&&H!==K&&(H!=null||K!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,t));break;default:Xe(e,t,$,H,l,K)}return;default:if(Ho(t)){for(var Fe in r)H=r[Fe],r.hasOwnProperty(Fe)&&H!==void 0&&!l.hasOwnProperty(Fe)&&Tc(e,t,Fe,void 0,l,H);for(J in l)H=l[J],K=r[J],!l.hasOwnProperty(J)||H===K||H===void 0&&K===void 0||Tc(e,t,J,H,l,K);return}}for(var M in r)H=r[M],r.hasOwnProperty(M)&&H!=null&&!l.hasOwnProperty(M)&&Xe(e,t,M,null,l,H);for(X in l)H=l[X],K=r[X],!l.hasOwnProperty(X)||H===K||H==null&&K==null||Xe(e,t,X,H,l,K)}function ag(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function b0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var c=r[l],f=c.transferSize,y=c.initiatorType,w=c.duration;if(f&&w&&ag(y)){for(y=0,w=c.responseEnd,l+=1;l<r.length;l++){var A=r[l],$=A.startTime;if($>w)break;var J=A.transferSize,X=A.initiatorType;J&&ag(X)&&(A=A.responseEnd,y+=J*(A<w?1:(w-$)/(A-$)))}if(--l,t+=8*(f+y)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Rc=null,Ac=null;function Yi(e){return e.nodeType===9?e:e.ownerDocument}function ng(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Oc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cc=null;function w0(){var e=window.event;return e&&e.type==="popstate"?e===Cc?!1:(Cc=e,!0):(Cc=null,!1)}var sg=typeof setTimeout=="function"?setTimeout:void 0,x0=typeof clearTimeout=="function"?clearTimeout:void 0,lg=typeof Promise=="function"?Promise:void 0,_0=typeof queueMicrotask=="function"?queueMicrotask:typeof lg<"u"?function(e){return lg.resolve(null).then(e).catch(S0)}:sg;function S0(e){setTimeout(function(){throw e})}function Un(e){return e==="head"}function ig(e,t){var r=t,l=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(c),us(t);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")fl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,fl(r);for(var f=r.firstChild;f;){var y=f.nextSibling,w=f.nodeName;f[lt]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=y}}else r==="body"&&fl(e.ownerDocument.body);r=c}while(r);us(t)}function og(e,t){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function Dc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Dc(r),ot(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function E0(e,t,r,l){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[lt])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ya(e.nextSibling),e===null)break}return null}function j0(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=ya(e.nextSibling),e===null))return null;return e}function ug(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ya(e.nextSibling),e===null))return null;return e}function Uc(e){return e.data==="$?"||e.data==="$~"}function kc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function N0(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var l=function(){t(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ya(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var zc=null;function cg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return ya(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function dg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function fg(e,t,r){switch(t=Yi(r),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function fl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ot(e)}var va=new Map,hg=new Set;function Ii(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var un=te.d;te.d={f:T0,r:R0,D:A0,C:O0,L:C0,m:D0,X:k0,S:U0,M:z0};function T0(){var e=un.f(),t=qi();return e||t}function R0(e){var t=Be(e);t!==null&&t.tag===5&&t.type==="form"?Oh(t):un.r(e)}var ls=typeof document>"u"?null:document;function mg(e,t,r){var l=ls;if(l&&typeof t=="string"&&t){var c=ca(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),hg.has(c)||(hg.add(c),e={rel:e,crossOrigin:r,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),kt(t,"link",e),at(t),l.head.appendChild(t)))}}function A0(e){un.D(e),mg("dns-prefetch",e,null)}function O0(e,t){un.C(e,t),mg("preconnect",e,t)}function C0(e,t,r){un.L(e,t,r);var l=ls;if(l&&e&&t){var c='link[rel="preload"][as="'+ca(t)+'"]';t==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ca(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ca(r.imageSizes)+'"]')):c+='[href="'+ca(e)+'"]';var f=c;switch(t){case"style":f=is(e);break;case"script":f=os(e)}va.has(f)||(e=v({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),va.set(f,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(hl(f))||t==="script"&&l.querySelector(ml(f))||(t=l.createElement("link"),kt(t,"link",e),at(t),l.head.appendChild(t)))}}function D0(e,t){un.m(e,t);var r=ls;if(r&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+ca(l)+'"][href="'+ca(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=os(e)}if(!va.has(f)&&(e=v({rel:"modulepreload",href:e},t),va.set(f,e),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ml(f)))return}l=r.createElement("link"),kt(l,"link",e),at(l),r.head.appendChild(l)}}}function U0(e,t,r){un.S(e,t,r);var l=ls;if(l&&e){var c=Vt(l).hoistableStyles,f=is(e);t=t||"default";var y=c.get(f);if(!y){var w={loading:0,preload:null};if(y=l.querySelector(hl(f)))w.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},r),(r=va.get(f))&&Mc(e,r);var A=y=l.createElement("link");at(A),kt(A,"link",e),A._p=new Promise(function($,J){A.onload=$,A.onerror=J}),A.addEventListener("load",function(){w.loading|=1}),A.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Ji(y,t,l)}y={type:"stylesheet",instance:y,count:1,state:w},c.set(f,y)}}}function k0(e,t){un.X(e,t);var r=ls;if(r&&e){var l=Vt(r).hoistableScripts,c=os(e),f=l.get(c);f||(f=r.querySelector(ml(c)),f||(e=v({src:e,async:!0},t),(t=va.get(c))&&Lc(e,t),f=r.createElement("script"),at(f),kt(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function z0(e,t){un.M(e,t);var r=ls;if(r&&e){var l=Vt(r).hoistableScripts,c=os(e),f=l.get(c);f||(f=r.querySelector(ml(c)),f||(e=v({src:e,async:!0,type:"module"},t),(t=va.get(c))&&Lc(e,t),f=r.createElement("script"),at(f),kt(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function gg(e,t,r,l){var c=(c=Re.current)?Ii(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=is(r.href),r=Vt(c).hoistableStyles,l=r.get(t),l||(l={type:"style",instance:null,count:0,state:null},r.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=is(r.href);var f=Vt(c).hoistableStyles,y=f.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=c.querySelector(hl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),va.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},va.set(e,r),f||M0(c,e,r,y.state))),t&&l===null)throw Error(i(528,""));return y}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=os(r),r=Vt(c).hoistableScripts,l=r.get(t),l||(l={type:"script",instance:null,count:0,state:null},r.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function is(e){return'href="'+ca(e)+'"'}function hl(e){return'link[rel="stylesheet"]['+e+"]"}function pg(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function M0(e,t,r,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),kt(t,"link",r),at(t),e.head.appendChild(t))}function os(e){return'[src="'+ca(e)+'"]'}function ml(e){return"script[async]"+e}function yg(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+ca(r.href)+'"]');if(l)return t.instance=l,at(l),l;var c=v({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),at(l),kt(l,"style",c),Ji(l,r.precedence,e),t.instance=l;case"stylesheet":c=is(r.href);var f=e.querySelector(hl(c));if(f)return t.state.loading|=4,t.instance=f,at(f),f;l=pg(r),(c=va.get(c))&&Mc(l,c),f=(e.ownerDocument||e).createElement("link"),at(f);var y=f;return y._p=new Promise(function(w,A){y.onload=w,y.onerror=A}),kt(f,"link",l),t.state.loading|=4,Ji(f,r.precedence,e),t.instance=f;case"script":return f=os(r.src),(c=e.querySelector(ml(f)))?(t.instance=c,at(c),c):(l=r,(c=va.get(f))&&(l=v({},r),Lc(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),at(c),kt(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Ji(l,r.precedence,e));return t.instance}function Ji(e,t,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var w=l[y];if(w.dataset.precedence===t)f=w;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function Mc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Lc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Qi=null;function vg(e,t,r){if(Qi===null){var l=new Map,c=Qi=new Map;c.set(r,l)}else c=Qi,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var f=r[c];if(!(f[lt]||f[le]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(t)||"";y=e+y;var w=l.get(y);w?w.push(f):l.set(y,[f])}}return l}function bg(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function L0(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function wg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function q0(e,t,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=is(l.href),f=t.querySelector(hl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Xi.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=f,at(f);return}f=t.ownerDocument||t,l=pg(l),(c=va.get(c))&&Mc(l,c),f=f.createElement("link"),at(f);var y=f;y._p=new Promise(function(w,A){y.onload=w,y.onerror=A}),kt(f,"link",l),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Xi.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var qc=0;function B0(e,t){return e.stylesheets&&e.count===0&&Zi(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&Zi(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&qc===0&&(qc=62500*b0());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zi(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>qc?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Xi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fi=null;function Zi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fi=new Map,t.forEach($0,e),Fi=null,Xi.call(e))}function $0(e,t){if(!(t.state.loading&4)){var r=Fi.get(e);if(r)var l=r.get(null);else{r=new Map,Fi.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=t.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=Xi.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var gl={$$typeof:T,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function H0(e,t,r,l,c,f,y,w,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mn(0),this.hiddenUpdates=mn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function xg(e,t,r,l,c,f,y,w,A,$,J,X){return e=new H0(e,t,r,y,A,$,J,X,w),t=1,f===!0&&(t|=24),f=Zt(3,null,null,t),e.current=f,f.stateNode=e,t=yu(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:t},xu(f),e}function _g(e){return e?(e=Br,e):Br}function Sg(e,t,r,l,c,f){c=_g(c),l.context===null?l.context=c:l.pendingContext=c,l=_n(t),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Sn(e,l,t),r!==null&&(Qt(r,e,t),Is(r,e,t))}function Eg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Bc(e,t){Eg(e,t),(e=e.alternate)&&Eg(e,t)}function jg(e){if(e.tag===13||e.tag===31){var t=sr(e,67108864);t!==null&&Qt(t,e,67108864),Bc(e,67108864)}}function Ng(e){if(e.tag===13||e.tag===31){var t=na();t=G(t);var r=sr(e,t);r!==null&&Qt(r,e,t),Bc(e,t)}}var Wi=!0;function P0(e,t,r,l){var c=P.T;P.T=null;var f=te.p;try{te.p=2,$c(e,t,r,l)}finally{te.p=f,P.T=c}}function V0(e,t,r,l){var c=P.T;P.T=null;var f=te.p;try{te.p=8,$c(e,t,r,l)}finally{te.p=f,P.T=c}}function $c(e,t,r,l){if(Wi){var c=Hc(l);if(c===null)Nc(e,t,l,eo,r),Rg(e,l);else if(K0(c,e,t,r,l))l.stopPropagation();else if(Rg(e,l),t&4&&-1<G0.indexOf(e)){for(;c!==null;){var f=Be(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Ga(f.pendingLanes);if(y!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;y;){var A=1<<31-qt(y);w.entanglements[1]|=A,y&=~A}qa(f),(Ye&6)===0&&(Mi=gt()+500,ul(0))}}break;case 31:case 13:w=sr(f,2),w!==null&&Qt(w,f,2),qi(),Bc(f,2)}if(f=Hc(l),f===null&&Nc(e,t,l,eo,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Nc(e,t,l,null,r)}}function Hc(e){return e=Vo(e),Pc(e)}var eo=null;function Pc(e){if(eo=null,e=ut(e),e!==null){var t=u(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=d(t),e!==null)return e;e=null}else if(r===31){if(e=m(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return eo=e,null}function Tg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(In()){case Rs:return 2;case Or:return 8;case Pt:case _a:return 32;case As:return 268435456;default:return 32}default:return 32}}var Vc=!1,kn=null,zn=null,Mn=null,pl=new Map,yl=new Map,Ln=[],G0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rg(e,t){switch(e){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":pl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(t.pointerId)}}function vl(e,t,r,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},t!==null&&(t=Be(t),t!==null&&jg(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function K0(e,t,r,l,c){switch(t){case"focusin":return kn=vl(kn,e,t,r,l,c),!0;case"dragenter":return zn=vl(zn,e,t,r,l,c),!0;case"mouseover":return Mn=vl(Mn,e,t,r,l,c),!0;case"pointerover":var f=c.pointerId;return pl.set(f,vl(pl.get(f)||null,e,t,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,yl.set(f,vl(yl.get(f)||null,e,t,r,l,c)),!0}return!1}function Ag(e){var t=ut(e.target);if(t!==null){var r=u(t);if(r!==null){if(t=r.tag,t===13){if(t=d(r),t!==null){e.blockedOn=t,ge(e.priority,function(){Ng(r)});return}}else if(t===31){if(t=m(r),t!==null){e.blockedOn=t,ge(e.priority,function(){Ng(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function to(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Hc(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Po=l,r.target.dispatchEvent(l),Po=null}else return t=Be(r),t!==null&&jg(t),e.blockedOn=r,!1;t.shift()}return!0}function Og(e,t,r){to(e)&&r.delete(t)}function Y0(){Vc=!1,kn!==null&&to(kn)&&(kn=null),zn!==null&&to(zn)&&(zn=null),Mn!==null&&to(Mn)&&(Mn=null),pl.forEach(Og),yl.forEach(Og)}function ao(e,t){e.blockedOn===t&&(e.blockedOn=null,Vc||(Vc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Y0)))}var no=null;function Cg(e){no!==e&&(no=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){no===e&&(no=null);for(var t=0;t<e.length;t+=3){var r=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(Pc(l||r)===null)continue;break}var f=Be(r);f!==null&&(e.splice(t,3),t-=3,Hu(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function us(e){function t(A){return ao(A,e)}kn!==null&&ao(kn,e),zn!==null&&ao(zn,e),Mn!==null&&ao(Mn,e),pl.forEach(t),yl.forEach(t);for(var r=0;r<Ln.length;r++){var l=Ln[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ln.length&&(r=Ln[0],r.blockedOn===null);)Ag(r),r.blockedOn===null&&Ln.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[ue]||null;if(typeof f=="function")y||Cg(r);else if(y){var w=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ue]||null)w=y.formAction;else if(Pc(c)!==null)continue}else w=y.action;typeof w=="function"?r[l+1]=w:(r.splice(l,3),l-=3),Cg(r)}}}function Dg(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return c=y})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Gc(e){this._internalRoot=e}ro.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var r=t.current,l=na();Sg(r,l,e,t,null,null)},ro.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sg(e.current,2,null,e,null,null),qi(),t[me]=null}};function ro(e){this._internalRoot=e}ro.prototype.unstable_scheduleHydration=function(e){if(e){var t=re();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ln.length&&t!==0&&t<Ln[r].priority;r++);Ln.splice(r,0,e),r===0&&Ag(e)}};var Ug=a.version;if(Ug!=="19.2.3")throw Error(i(527,Ug,"19.2.3"));te.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=p(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var I0={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var so=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!so.isDisabled&&so.supportsFiber)try{Jn=so.inject(I0),st=so}catch{}}return wl.createRoot=function(e,t){if(!o(e))throw Error(i(299));var r=!1,l="",c=$h,f=Hh,y=Ph;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=xg(e,1,!1,null,null,r,l,null,c,f,y,Dg),e[me]=t.current,jc(e),new Gc(t)},wl.hydrateRoot=function(e,t,r){if(!o(e))throw Error(i(299));var l=!1,c="",f=$h,y=Hh,w=Ph,A=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.formState!==void 0&&(A=r.formState)),t=xg(e,1,!0,t,r??null,l,c,A,f,y,w,Dg),t.context=_g(null),r=t.current,l=na(),l=G(l),c=_n(l),c.callback=null,Sn(r,c,l),r=l,t.current.lanes=r,gn(t,r),qa(t),e[me]=t.current,jc(e),new ro(t)},wl.version="19.2.3",wl}var Vg;function sb(){if(Vg)return Ic.exports;Vg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),Ic.exports=rb(),Ic.exports}var lb=sb();const ib=Gp(lb);var Yp=n=>{throw TypeError(n)},ob=(n,a,s)=>a.has(n)||Yp("Cannot "+s),Fc=(n,a,s)=>(ob(n,a,"read from private field"),s?s.call(n):a.get(n)),ub=(n,a,s)=>a.has(n)?Yp("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(n):a.set(n,s),Gg="popstate";function cb(n={}){function a(i,o){let{pathname:u,search:d,hash:m}=i.location;return Ol("",{pathname:u,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(i,o){return typeof o=="string"?o:$a(o)}return fb(a,s,null,n)}function De(n,a){if(n===!1||n===null||typeof n>"u")throw new Error(a)}function ht(n,a){if(!n){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function db(){return Math.random().toString(36).substring(2,10)}function Kg(n,a){return{usr:n.state,key:n.key,idx:a}}function Ol(n,a,s=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof a=="string"?Gn(a):a,state:s,key:a&&a.key||i||db()}}function $a({pathname:n="/",search:a="",hash:s=""}){return a&&a!=="?"&&(n+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function Gn(n){let a={};if(n){let s=n.indexOf("#");s>=0&&(a.hash=n.substring(s),n=n.substring(0,s));let i=n.indexOf("?");i>=0&&(a.search=n.substring(i),n=n.substring(0,i)),n&&(a.pathname=n)}return a}function fb(n,a,s,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,d=o.history,m="POP",g=null,p=b();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function b(){return(d.state||{idx:null}).idx}function v(){m="POP";let E=b(),C=E==null?null:E-p;p=E,g&&g({action:m,location:O.location,delta:C})}function S(E,C){m="PUSH";let D=Ol(O.location,E,C);p=b()+1;let T=Kg(D,p),V=O.createHref(D);try{d.pushState(T,"",V)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;o.location.assign(V)}u&&g&&g({action:m,location:O.location,delta:1})}function x(E,C){m="REPLACE";let D=Ol(O.location,E,C);p=b();let T=Kg(D,p),V=O.createHref(D);d.replaceState(T,"",V),u&&g&&g({action:m,location:O.location,delta:0})}function j(E){return Ip(E)}let O={get action(){return m},get location(){return n(o,d)},listen(E){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Gg,v),g=E,()=>{o.removeEventListener(Gg,v),g=null}},createHref(E){return a(o,E)},createURL:j,encodeLocation(E){let C=j(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:S,replace:x,go(E){return d.go(E)}};return O}function Ip(n,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),De(s,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:$a(n);return i=i.replace(/ $/,"%20"),!a&&i.startsWith("//")&&(i=s+i),new URL(i,s)}var El,Yg=class{constructor(n){if(ub(this,El,new Map),n)for(let[a,s]of n)this.set(a,s)}get(n){if(Fc(this,El).has(n))return Fc(this,El).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,a){Fc(this,El).set(n,a)}};El=new WeakMap;var hb=new Set(["lazy","caseSensitive","path","id","index","children"]);function mb(n){return hb.has(n)}var gb=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function pb(n){return gb.has(n)}function yb(n){return n.index===!0}function Cl(n,a,s=[],i={},o=!1){return n.map((u,d)=>{let m=[...s,String(d)],g=typeof u.id=="string"?u.id:m.join("-");if(De(u.index!==!0||!u.children,"Cannot specify children on an index route"),De(o||!i[g],`Found a route id collision on id "${g}".  Route id's must be globally unique within Data Router usages`),yb(u)){let p={...u,id:g};return i[g]=Ig(p,a(p)),p}else{let p={...u,id:g,children:void 0};return i[g]=Ig(p,a(p)),u.children&&(p.children=Cl(u.children,a,m,i,o)),p}})}function Ig(n,a){return Object.assign(n,{...a,...typeof a.lazy=="object"&&a.lazy!=null?{lazy:{...n.lazy,...a.lazy}}:{}})}function $n(n,a,s="/"){return jl(n,a,s,!1)}function jl(n,a,s,i){let o=typeof a=="string"?Gn(a):a,u=wa(o.pathname||"/",s);if(u==null)return null;let d=Jp(n);bb(d);let m=null;for(let g=0;m==null&&g<d.length;++g){let p=Ob(u);m=Rb(d[g],p,i)}return m}function vb(n,a){let{route:s,pathname:i,params:o}=n;return{id:s.id,pathname:i,params:o,data:a[s.id],loaderData:a[s.id],handle:s.handle}}function Jp(n,a=[],s=[],i="",o=!1){let u=(d,m,g=o,p)=>{let b={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(i)&&g)return;De(b.relativePath.startsWith(i),`Absolute route path "${b.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(i.length)}let v=Ba([i,b.relativePath]),S=s.concat(b);d.children&&d.children.length>0&&(De(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Jp(d.children,a,S,v,g)),!(d.path==null&&!d.index)&&a.push({path:v,score:Nb(v,d.index),routesMeta:S})};return n.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))u(d,m);else for(let g of Qp(d.path))u(d,m,!0,g)}),a}function Qp(n){let a=n.split("/");if(a.length===0)return[];let[s,...i]=a,o=s.endsWith("?"),u=s.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let d=Qp(i.join("/")),m=[];return m.push(...d.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...d),m.map(g=>n.startsWith("/")&&g===""?"/":g)}function bb(n){n.sort((a,s)=>a.score!==s.score?s.score-a.score:Tb(a.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var wb=/^:[\w-]+$/,xb=3,_b=2,Sb=1,Eb=10,jb=-2,Jg=n=>n==="*";function Nb(n,a){let s=n.split("/"),i=s.length;return s.some(Jg)&&(i+=jb),a&&(i+=_b),s.filter(o=>!Jg(o)).reduce((o,u)=>o+(wb.test(u)?xb:u===""?Sb:Eb),i)}function Tb(n,a){return n.length===a.length&&n.slice(0,-1).every((i,o)=>i===a[o])?n[n.length-1]-a[a.length-1]:0}function Rb(n,a,s=!1){let{routesMeta:i}=n,o={},u="/",d=[];for(let m=0;m<i.length;++m){let g=i[m],p=m===i.length-1,b=u==="/"?a:a.slice(u.length)||"/",v=vo({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},b),S=g.route;if(!v&&p&&s&&!i[i.length-1].route.index&&(v=vo({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!v)return null;Object.assign(o,v.params),d.push({params:o,pathname:Ba([u,v.pathname]),pathnameBase:Ub(Ba([u,v.pathnameBase])),route:S}),v.pathnameBase!=="/"&&(u=Ba([u,v.pathnameBase]))}return d}function vo(n,a){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,i]=Ab(n.path,n.caseSensitive,n.end),o=a.match(s);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:i.reduce((p,{paramName:b,isOptional:v},S)=>{if(b==="*"){let j=m[S]||"";d=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const x=m[S];return v&&!x?p[b]=void 0:p[b]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:n}}function Ab(n,a=!1,s=!0){ht(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,g)=>(i.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,a?void 0:"i"),i]}function Ob(n){try{return n.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return ht(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),n}}function wa(n,a){if(a==="/")return n;if(!n.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,i=n.charAt(s);return i&&i!=="/"?null:n.slice(s)||"/"}function Cb({basename:n,pathname:a}){return a==="/"?n:Ba([n,a])}var Xp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eo=n=>Xp.test(n);function Db(n,a="/"){let{pathname:s,search:i="",hash:o=""}=typeof n=="string"?Gn(n):n,u;if(s)if(Eo(s))u=s;else{if(s.includes("//")){let d=s;s=s.replace(/\/\/+/g,"/"),ht(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${s}`)}s.startsWith("/")?u=Qg(s.substring(1),"/"):u=Qg(s,a)}else u=a;return{pathname:u,search:kb(i),hash:zb(o)}}function Qg(n,a){let s=a.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function Zc(n,a,s,i){return`Cannot include a '${n}' character in a manually specified \`to.${a}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fp(n){return n.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function jo(n){let a=Fp(n);return a.map((s,i)=>i===a.length-1?s.pathname:s.pathnameBase)}function No(n,a,s,i=!1){let o;typeof n=="string"?o=Gn(n):(o={...n},De(!o.pathname||!o.pathname.includes("?"),Zc("?","pathname","search",o)),De(!o.pathname||!o.pathname.includes("#"),Zc("#","pathname","hash",o)),De(!o.search||!o.search.includes("#"),Zc("#","search","hash",o)));let u=n===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=s;else{let v=a.length-1;if(!i&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),v-=1;o.pathname=S.join("/")}m=v>=0?a[v]:"/"}let g=Db(o,m),p=d&&d!=="/"&&d.endsWith("/"),b=(u||d===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(p||b)&&(g.pathname+="/"),g}var Ba=n=>n.join("/").replace(/\/\/+/g,"/"),Ub=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),kb=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,zb=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Bl=class{constructor(n,a,s,i=!1){this.status=n,this.statusText=a||"",this.internal=i,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function Dl(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function $l(n){return n.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Zp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Wp(n,a){let s=n;if(typeof s!="string"||!Xp.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let i=s,o=!1;if(Zp)try{let u=new URL(window.location.href),d=s.startsWith("//")?new URL(u.protocol+s):new URL(s),m=wa(d.pathname,a);d.origin===u.origin&&m!=null?s=m+d.search+d.hash:o=!0}catch{ht(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:s}}var Vn=Symbol("Uninstrumented");function Mb(n,a){let s={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};n.forEach(o=>o({id:a.id,index:a.index,path:a.path,instrument(u){let d=Object.keys(s);for(let m of d)u[m]&&s[m].push(u[m])}}));let i={};if(typeof a.lazy=="function"&&s.lazy.length>0){let o=ws(s.lazy,a.lazy,()=>{});o&&(i.lazy=o)}if(typeof a.lazy=="object"){let o=a.lazy;["middleware","loader","action"].forEach(u=>{let d=o[u],m=s[`lazy.${u}`];if(typeof d=="function"&&m.length>0){let g=ws(m,d,()=>{});g&&(i.lazy=Object.assign(i.lazy||{},{[u]:g}))}})}return["loader","action"].forEach(o=>{let u=a[o];if(typeof u=="function"&&s[o].length>0){let d=u[Vn]??u,m=ws(s[o],d,(...g)=>Xg(g[0]));m&&(o==="loader"&&d.hydrate===!0&&(m.hydrate=!0),m[Vn]=d,i[o]=m)}}),a.middleware&&a.middleware.length>0&&s.middleware.length>0&&(i.middleware=a.middleware.map(o=>{let u=o[Vn]??o,d=ws(s.middleware,u,(...m)=>Xg(m[0]));return d?(d[Vn]=u,d):o})),i}function Lb(n,a){let s={navigate:[],fetch:[]};if(a.forEach(i=>i({instrument(o){let u=Object.keys(o);for(let d of u)o[d]&&s[d].push(o[d])}})),s.navigate.length>0){let i=n.navigate[Vn]??n.navigate,o=ws(s.navigate,i,(...u)=>{let[d,m]=u;return{to:typeof d=="number"||typeof d=="string"?d:d?$a(d):".",...Fg(n,m??{})}});o&&(o[Vn]=i,n.navigate=o)}if(s.fetch.length>0){let i=n.fetch[Vn]??n.fetch,o=ws(s.fetch,i,(...u)=>{let[d,,m,g]=u;return{href:m??".",fetcherKey:d,...Fg(n,g??{})}});o&&(o[Vn]=i,n.fetch=o)}return n}function ws(n,a,s){return n.length===0?null:async(...i)=>{let o=await ey(n,s(...i),()=>a(...i),n.length-1);if(o.type==="error")throw o.value;return o.value}}async function ey(n,a,s,i){let o=n[i],u;if(o){let d,m=async()=>(d?console.error("You cannot call instrumented handlers more than once"):d=ey(n,a,s,i-1),u=await d,De(u,"Expected a result"),u.type==="error"&&u.value instanceof Error?{status:"error",error:u.value}:{status:"success",error:void 0});try{await o(m,a)}catch(g){console.error("An instrumentation function threw an error:",g)}d||await m(),await d}else try{u={type:"success",value:await s()}}catch(d){u={type:"error",value:d}}return u||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Xg(n){let{request:a,context:s,params:i,unstable_pattern:o}=n;return{request:qb(a),params:{...i},unstable_pattern:o,context:Bb(s)}}function Fg(n,a){return{currentUrl:$a(n.state.location),..."formMethod"in a?{formMethod:a.formMethod}:{},..."formEncType"in a?{formEncType:a.formEncType}:{},..."formData"in a?{formData:a.formData}:{},..."body"in a?{body:a.body}:{}}}function qb(n){return{method:n.method,url:n.url,headers:{get:(...a)=>n.headers.get(...a)}}}function Bb(n){if(Hb(n)){let a={...n};return Object.freeze(a),a}else return{get:a=>n.get(a)}}var $b=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hb(n){if(n===null||typeof n!="object")return!1;const a=Object.getPrototypeOf(n);return a===Object.prototype||a===null||Object.getOwnPropertyNames(a).sort().join("\0")===$b}var ty=["POST","PUT","PATCH","DELETE"],Pb=new Set(ty),Vb=["GET",...ty],Gb=new Set(Vb),ay=new Set([301,302,303,307,308]),Kb=new Set([307,308]),Wc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Yb={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ib=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),ny="remix-router-transitions",ry=Symbol("ResetLoaderData");function Jb(n){const a=n.window?n.window:typeof window<"u"?window:void 0,s=typeof a<"u"&&typeof a.document<"u"&&typeof a.document.createElement<"u";De(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.hydrationRouteProperties||[],o=n.mapRouteProperties||Ib,u=o;if(n.unstable_instrumentations){let R=n.unstable_instrumentations;u=L=>({...o(L),...Mb(R.map(G=>G.route).filter(Boolean),L)})}let d={},m=Cl(n.routes,u,void 0,d),g,p=n.basename||"/";p.startsWith("/")||(p=`/${p}`);let b=n.dataStrategy||Wb,v={...n.future},S=null,x=new Set,j=null,O=null,E=null,C=n.hydrationData!=null,D=$n(m,n.history.location,p),T=!1,V=null,Z;if(D==null&&!n.patchRoutesOnNavigation){let R=ba(404,{pathname:n.history.location.pathname}),{matches:L,route:G}=lo(m);Z=!0,D=L,V={[G.id]:R}}else if(D&&!n.hydrationData&&Zn(D,m,n.history.location.pathname).active&&(D=null),D)if(D.some(R=>R.route.lazy))Z=!1;else if(!D.some(R=>kd(R.route)))Z=!0;else{let R=n.hydrationData?n.hydrationData.loaderData:null,L=n.hydrationData?n.hydrationData.errors:null;if(L){let G=D.findIndex(ee=>L[ee.route.id]!==void 0);Z=D.slice(0,G+1).every(ee=>!md(ee.route,R,L))}else Z=D.every(G=>!md(G.route,R,L))}else{Z=!1,D=[];let R=Zn(null,m,n.history.location.pathname);R.active&&R.matches&&(T=!0,D=R.matches)}let Y,N={historyAction:n.history.action,location:n.history.location,matches:D,initialized:Z,navigation:Wc,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||V,fetchers:new Map,blockers:new Map},B="POP",F=null,ce=!1,ae,z=!1,de=new Map,we=null,xe=!1,P=!1,te=new Set,se=new Map,Ee=0,Te=-1,U=new Map,I=new Set,ne=new Map,ie=new Map,ve=new Set,Re=new Map,Le,mt=null;function rt(){if(S=n.history.listen(({action:R,location:L,delta:G})=>{if(Le){Le(),Le=void 0;return}ht(Re.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ee=Qn({currentLocation:N.location,nextLocation:L,historyAction:R});if(ee&&G!=null){let re=new Promise(ge=>{Le=ge});n.history.go(G*-1),Va(ee,{state:"blocked",location:L,proceed(){Va(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:L}),re.then(()=>n.history.go(G))},reset(){let ge=new Map(N.blockers);ge.set(ee,xl),bt({blockers:ge})}}),F?.resolve(),F=null;return}return xa(R,L)}),s){yw(a,de);let R=()=>vw(a,de);a.addEventListener("pagehide",R),we=()=>a.removeEventListener("pagehide",R)}return N.initialized||xa("POP",N.location,{initialHydration:!0}),Y}function Yn(){S&&S(),we&&we(),x.clear(),ae&&ae.abort(),N.fetchers.forEach((R,L)=>Os(L)),N.blockers.forEach((R,L)=>Yl(L))}function Rr(R){return x.add(R),()=>x.delete(R)}function bt(R,L={}){R.matches&&(R.matches=R.matches.map(re=>{let ge=d[re.route.id],oe=re.route;return oe.element!==ge.element||oe.errorElement!==ge.errorElement||oe.hydrateFallbackElement!==ge.hydrateFallbackElement?{...re,route:ge}:re})),N={...N,...R};let G=[],ee=[];N.fetchers.forEach((re,ge)=>{re.state==="idle"&&(ve.has(ge)?G.push(ge):ee.push(ge))}),ve.forEach(re=>{!N.fetchers.has(re)&&!se.has(re)&&G.push(re)}),[...x].forEach(re=>re(N,{deletedFetchers:G,newErrors:R.errors??null,viewTransitionOpts:L.viewTransitionOpts,flushSync:L.flushSync===!0})),G.forEach(re=>Os(re)),ee.forEach(re=>N.fetchers.delete(re))}function Pa(R,L,{flushSync:G}={}){let ee=N.actionData!=null&&N.navigation.formMethod!=null&&$t(N.navigation.formMethod)&&N.navigation.state==="loading"&&R.state?._isRedirect!==!0,re;L.actionData?Object.keys(L.actionData).length>0?re=L.actionData:re=null:ee?re=N.actionData:re=null;let ge=L.loaderData?ip(N.loaderData,L.loaderData,L.matches||[],L.errors):N.loaderData,oe=N.blockers;oe.size>0&&(oe=new Map(oe),oe.forEach((_e,ye)=>oe.set(ye,xl)));let le=xe?!1:Il(R,L.matches||N.matches),ue=ce===!0||N.navigation.formMethod!=null&&$t(N.navigation.formMethod)&&R.state?._isRedirect!==!0;g&&(m=g,g=void 0),xe||B==="POP"||(B==="PUSH"?n.history.push(R,R.state):B==="REPLACE"&&n.history.replace(R,R.state));let me;if(B==="POP"){let _e=de.get(N.location.pathname);_e&&_e.has(R.pathname)?me={currentLocation:N.location,nextLocation:R}:de.has(R.pathname)&&(me={currentLocation:R,nextLocation:N.location})}else if(z){let _e=de.get(N.location.pathname);_e?_e.add(R.pathname):(_e=new Set([R.pathname]),de.set(N.location.pathname,_e)),me={currentLocation:N.location,nextLocation:R}}bt({...L,actionData:re,loaderData:ge,historyAction:B,location:R,initialized:!0,navigation:Wc,revalidation:"idle",restoreScrollPosition:le,preventScrollReset:ue,blockers:oe},{viewTransitionOpts:me,flushSync:G===!0}),B="POP",ce=!1,z=!1,xe=!1,P=!1,F?.resolve(),F=null,mt?.resolve(),mt=null}async function ka(R,L){if(F?.resolve(),F=null,typeof R=="number"){F||(F=dp());let qe=F.promise;return n.history.go(R),qe}let G=hd(N.location,N.matches,p,R,L?.fromRouteId,L?.relative),{path:ee,submission:re,error:ge}=Zg(!1,G,L),oe=N.location,le=Ol(N.location,ee,L&&L.state);le={...le,...n.history.encodeLocation(le)};let ue=L&&L.replace!=null?L.replace:void 0,me="PUSH";ue===!0?me="REPLACE":ue===!1||re!=null&&$t(re.formMethod)&&re.formAction===N.location.pathname+N.location.search&&(me="REPLACE");let _e=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0,ye=(L&&L.flushSync)===!0,Ve=Qn({currentLocation:oe,nextLocation:le,historyAction:me});if(Ve){Va(Ve,{state:"blocked",location:le,proceed(){Va(Ve,{state:"proceeding",proceed:void 0,reset:void 0,location:le}),ka(R,L)},reset(){let qe=new Map(N.blockers);qe.set(Ve,xl),bt({blockers:qe})}});return}await xa(me,le,{submission:re,pendingError:ge,preventScrollReset:_e,replace:L&&L.replace,enableViewTransition:L&&L.viewTransition,flushSync:ye,callSiteDefaultShouldRevalidate:L&&L.unstable_defaultShouldRevalidate})}function js(){mt||(mt=dp()),Or(),bt({revalidation:"loading"});let R=mt.promise;return N.navigation.state==="submitting"?R:N.navigation.state==="idle"?(xa(N.historyAction,N.location,{startUninterruptedRevalidation:!0}),R):(xa(B||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:z===!0}),R)}async function xa(R,L,G){ae&&ae.abort(),ae=null,B=R,xe=(G&&G.startUninterruptedRevalidation)===!0,Fn(N.location,N.matches),ce=(G&&G.preventScrollReset)===!0,z=(G&&G.enableViewTransition)===!0;let ee=g||m,re=G&&G.overrideNavigation,ge=G?.initialHydration&&N.matches&&N.matches.length>0&&!T?N.matches:$n(ee,L,p),oe=(G&&G.flushSync)===!0;if(ge&&N.initialized&&!P&&iw(N.location,L)&&!(G&&G.submission&&$t(G.submission.formMethod))){Pa(L,{matches:ge},{flushSync:oe});return}let le=Zn(ge,ee,L.pathname);if(le.active&&le.matches&&(ge=le.matches),!ge){let{error:ot,notFoundMatches:ut,route:Be}=hn(L.pathname);Pa(L,{matches:ut,loaderData:{},errors:{[Be.id]:ot}},{flushSync:oe});return}ae=new AbortController;let ue=ps(n.history,L,ae.signal,G&&G.submission),me=n.getContext?await n.getContext():new Yg,_e;if(G&&G.pendingError)_e=[Hn(ge).route.id,{type:"error",error:G.pendingError}];else if(G&&G.submission&&$t(G.submission.formMethod)){let ot=await Uo(ue,L,G.submission,ge,me,le.active,G&&G.initialHydration===!0,{replace:G.replace,flushSync:oe});if(ot.shortCircuited)return;if(ot.pendingActionResult){let[ut,Be]=ot.pendingActionResult;if(sa(Be)&&Dl(Be.error)&&Be.error.status===404){ae=null,Pa(L,{matches:ot.matches,loaderData:{},errors:{[ut]:Be.error}});return}}ge=ot.matches||ge,_e=ot.pendingActionResult,re=ed(L,G.submission),oe=!1,le.active=!1,ue=ps(n.history,ue.url,ue.signal)}let{shortCircuited:ye,matches:Ve,loaderData:qe,errors:lt}=await Gl(ue,L,ge,me,le.active,re,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,oe,_e,G&&G.callSiteDefaultShouldRevalidate);ye||(ae=null,Pa(L,{matches:Ve||ge,...op(_e),loaderData:qe,errors:lt}))}async function Uo(R,L,G,ee,re,ge,oe,le={}){Or();let ue=gw(L,G);if(bt({navigation:ue},{flushSync:le.flushSync===!0}),ge){let ye=await mn(ee,L.pathname,R.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){if(ye.partialMatches.length===0){let{matches:qe,route:lt}=lo(m);return{matches:qe,pendingActionResult:[lt.id,{type:"error",error:ye.error}]}}let Ve=Hn(ye.partialMatches).route.id;return{matches:ye.partialMatches,pendingActionResult:[Ve,{type:"error",error:ye.error}]}}else if(ye.matches)ee=ye.matches;else{let{notFoundMatches:Ve,error:qe,route:lt}=hn(L.pathname);return{matches:Ve,pendingActionResult:[lt.id,{type:"error",error:qe}]}}}let me,_e=mo(ee,L);if(!_e.route.action&&!_e.route.lazy)me={type:"error",error:ba(405,{method:R.method,pathname:L.pathname,routeId:_e.route.id})};else{let ye=_s(u,d,R,ee,_e,oe?[]:i,re),Ve=await In(R,ye,re,null);if(me=Ve[_e.route.id],!me){for(let qe of ee)if(Ve[qe.route.id]){me=Ve[qe.route.id];break}}if(R.signal.aborted)return{shortCircuited:!0}}if(Er(me)){let ye;return le&&le.replace!=null?ye=le.replace:ye=rp(me.response.headers.get("Location"),new URL(R.url),p,n.history)===N.location.pathname+N.location.search,await gt(R,me,!0,{submission:G,replace:ye}),{shortCircuited:!0}}if(sa(me)){let ye=Hn(ee,_e.route.id);return(le&&le.replace)!==!0&&(B="PUSH"),{matches:ee,pendingActionResult:[ye.route.id,me,_e.route.id]}}return{matches:ee,pendingActionResult:[_e.route.id,me]}}async function Gl(R,L,G,ee,re,ge,oe,le,ue,me,_e,ye,Ve){let qe=ge||ed(L,oe),lt=oe||le||cp(qe),ot=!xe&&!me;if(re){if(ot){let pt=Ar(ye);bt({navigation:qe,...pt!==void 0?{actionData:pt}:{}},{flushSync:_e})}let $e=await mn(G,L.pathname,R.signal);if($e.type==="aborted")return{shortCircuited:!0};if($e.type==="error"){if($e.partialMatches.length===0){let{matches:Na,route:Ot}=lo(m);return{matches:Na,loaderData:{},errors:{[Ot.id]:$e.error}}}let pt=Hn($e.partialMatches).route.id;return{matches:$e.partialMatches,loaderData:{},errors:{[pt]:$e.error}}}else if($e.matches)G=$e.matches;else{let{error:pt,notFoundMatches:Na,route:Ot}=hn(L.pathname);return{matches:Na,loaderData:{},errors:{[Ot.id]:pt}}}}let ut=g||m,{dsMatches:Be,revalidatingFetchers:Tt}=Wg(R,ee,u,d,n.history,N,G,lt,L,me?[]:i,me===!0,P,te,ve,ne,I,ut,p,n.patchRoutesOnNavigation!=null,ye,Ve);if(Te=++Ee,!n.dataStrategy&&!Be.some($e=>$e.shouldLoad)&&!Be.some($e=>$e.route.middleware&&$e.route.middleware.length>0)&&Tt.length===0){let $e=qt();return Pa(L,{matches:G,loaderData:{},errors:ye&&sa(ye[1])?{[ye[0]]:ye[1].error}:null,...op(ye),...$e?{fetchers:new Map(N.fetchers)}:{}},{flushSync:_e}),{shortCircuited:!0}}if(ot){let $e={};if(!re){$e.navigation=qe;let pt=Ar(ye);pt!==void 0&&($e.actionData=pt)}Tt.length>0&&($e.fetchers=Ns(Tt)),bt($e,{flushSync:_e})}Tt.forEach($e=>{st($e.key),$e.controller&&se.set($e.key,$e.controller)});let Vt=()=>Tt.forEach($e=>st($e.key));ae&&ae.signal.addEventListener("abort",Vt);let{loaderResults:at,fetcherResults:Ea}=await Rs(Be,Tt,R,ee);if(R.signal.aborted)return{shortCircuited:!0};ae&&ae.signal.removeEventListener("abort",Vt),Tt.forEach($e=>se.delete($e.key));let Xt=io(at);if(Xt)return await gt(R,Xt.result,!0,{replace:ue}),{shortCircuited:!0};if(Xt=io(Ea),Xt)return I.add(Xt.key),await gt(R,Xt.result,!0,{replace:ue}),{shortCircuited:!0};let{loaderData:ja,errors:ua}=lp(N,G,at,ye,Tt,Ea);me&&N.errors&&(ua={...N.errors,...ua});let Ka=qt(),Wn=Kl(Te),er=Ka||Wn||Tt.length>0;return{matches:G,loaderData:ja,errors:ua,...er?{fetchers:new Map(N.fetchers)}:{}}}function Ar(R){if(R&&!sa(R[1]))return{[R[0]]:R[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function Ns(R){return R.forEach(L=>{let G=N.fetchers.get(L.key),ee=_l(void 0,G?G.data:void 0);N.fetchers.set(L.key,ee)}),new Map(N.fetchers)}async function Ts(R,L,G,ee){st(R);let re=(ee&&ee.flushSync)===!0,ge=g||m,oe=hd(N.location,N.matches,p,G,L,ee?.relative),le=$n(ge,oe,p),ue=Zn(le,ge,oe);if(ue.active&&ue.matches&&(le=ue.matches),!le){_a(R,L,ba(404,{pathname:oe}),{flushSync:re});return}let{path:me,submission:_e,error:ye}=Zg(!0,oe,ee);if(ye){_a(R,L,ye,{flushSync:re});return}let Ve=n.getContext?await n.getContext():new Yg,qe=(ee&&ee.preventScrollReset)===!0;if(_e&&$t(_e.formMethod)){await ko(R,L,me,le,Ve,ue.active,re,qe,_e,ee&&ee.unstable_defaultShouldRevalidate);return}ne.set(R,{routeId:L,path:me}),await zo(R,L,me,le,Ve,ue.active,re,qe,_e)}async function ko(R,L,G,ee,re,ge,oe,le,ue,me){Or(),ne.delete(R);let _e=N.fetchers.get(R);Pt(R,pw(ue,_e),{flushSync:oe});let ye=new AbortController,Ve=ps(n.history,G,ye.signal,ue);if(ge){let He=await mn(ee,new URL(Ve.url).pathname,Ve.signal,R);if(He.type==="aborted")return;if(He.type==="error"){_a(R,L,He.error,{flushSync:oe});return}else if(He.matches)ee=He.matches;else{_a(R,L,ba(404,{pathname:G}),{flushSync:oe});return}}let qe=mo(ee,G);if(!qe.route.action&&!qe.route.lazy){let He=ba(405,{method:ue.formMethod,pathname:G,routeId:L});_a(R,L,He,{flushSync:oe});return}se.set(R,ye);let lt=Ee,ot=_s(u,d,Ve,ee,qe,i,re),ut=await In(Ve,ot,re,R),Be=ut[qe.route.id];if(!Be){for(let He of ot)if(ut[He.route.id]){Be=ut[He.route.id];break}}if(Ve.signal.aborted){se.get(R)===ye&&se.delete(R);return}if(ve.has(R)){if(Er(Be)||sa(Be)){Pt(R,cn(void 0));return}}else{if(Er(Be))if(se.delete(R),Te>lt){Pt(R,cn(void 0));return}else return I.add(R),Pt(R,_l(ue)),gt(Ve,Be,!1,{fetcherSubmission:ue,preventScrollReset:le});if(sa(Be)){_a(R,L,Be.error);return}}let Tt=N.navigation.location||N.location,Vt=ps(n.history,Tt,ye.signal),at=g||m,Ea=N.navigation.state!=="idle"?$n(at,N.navigation.location,p):N.matches;De(Ea,"Didn't find any matches after fetcher action");let Xt=++Ee;U.set(R,Xt);let ja=_l(ue,Be.data);N.fetchers.set(R,ja);let{dsMatches:ua,revalidatingFetchers:Ka}=Wg(Vt,re,u,d,n.history,N,Ea,ue,Tt,i,!1,P,te,ve,ne,I,at,p,n.patchRoutesOnNavigation!=null,[qe.route.id,Be],me);Ka.filter(He=>He.key!==R).forEach(He=>{let tr=He.key,Ql=N.fetchers.get(tr),Cs=_l(void 0,Ql?Ql.data:void 0);N.fetchers.set(tr,Cs),st(tr),He.controller&&se.set(tr,He.controller)}),bt({fetchers:new Map(N.fetchers)});let Wn=()=>Ka.forEach(He=>st(He.key));ye.signal.addEventListener("abort",Wn);let{loaderResults:er,fetcherResults:$e}=await Rs(ua,Ka,Vt,re);if(ye.signal.aborted)return;if(ye.signal.removeEventListener("abort",Wn),U.delete(R),se.delete(R),Ka.forEach(He=>se.delete(He.key)),N.fetchers.has(R)){let He=cn(Be.data);N.fetchers.set(R,He)}let pt=io(er);if(pt)return gt(Vt,pt.result,!1,{preventScrollReset:le});if(pt=io($e),pt)return I.add(pt.key),gt(Vt,pt.result,!1,{preventScrollReset:le});let{loaderData:Na,errors:Ot}=lp(N,Ea,er,void 0,Ka,$e);Kl(Xt),N.navigation.state==="loading"&&Xt>Te?(De(B,"Expected pending action"),ae&&ae.abort(),Pa(N.navigation.location,{matches:Ea,loaderData:Na,errors:Ot,fetchers:new Map(N.fetchers)})):(bt({errors:Ot,loaderData:ip(N.loaderData,Na,Ea,Ot),fetchers:new Map(N.fetchers)}),P=!1)}async function zo(R,L,G,ee,re,ge,oe,le,ue){let me=N.fetchers.get(R);Pt(R,_l(ue,me?me.data:void 0),{flushSync:oe});let _e=new AbortController,ye=ps(n.history,G,_e.signal);if(ge){let Be=await mn(ee,new URL(ye.url).pathname,ye.signal,R);if(Be.type==="aborted")return;if(Be.type==="error"){_a(R,L,Be.error,{flushSync:oe});return}else if(Be.matches)ee=Be.matches;else{_a(R,L,ba(404,{pathname:G}),{flushSync:oe});return}}let Ve=mo(ee,G);se.set(R,_e);let qe=Ee,lt=_s(u,d,ye,ee,Ve,i,re),ut=(await In(ye,lt,re,R))[Ve.route.id];if(se.get(R)===_e&&se.delete(R),!ye.signal.aborted){if(ve.has(R)){Pt(R,cn(void 0));return}if(Er(ut))if(Te>qe){Pt(R,cn(void 0));return}else{I.add(R),await gt(ye,ut,!1,{preventScrollReset:le});return}if(sa(ut)){_a(R,L,ut.error);return}Pt(R,cn(ut.data))}}async function gt(R,L,G,{submission:ee,fetcherSubmission:re,preventScrollReset:ge,replace:oe}={}){G||(F?.resolve(),F=null),L.response.headers.has("X-Remix-Revalidate")&&(P=!0);let le=L.response.headers.get("Location");De(le,"Expected a Location header on the redirect Response"),le=rp(le,new URL(R.url),p,n.history);let ue=Ol(N.location,le,{_isRedirect:!0});if(s){let lt=!1;if(L.response.headers.has("X-Remix-Reload-Document"))lt=!0;else if(Eo(le)){const ot=Ip(le,!0);lt=ot.origin!==a.location.origin||wa(ot.pathname,p)==null}if(lt){oe?a.location.replace(le):a.location.assign(le);return}}ae=null;let me=oe===!0||L.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:_e,formAction:ye,formEncType:Ve}=N.navigation;!ee&&!re&&_e&&ye&&Ve&&(ee=cp(N.navigation));let qe=ee||re;if(Kb.has(L.response.status)&&qe&&$t(qe.formMethod))await xa(me,ue,{submission:{...qe,formAction:le},preventScrollReset:ge||ce,enableViewTransition:G?z:void 0});else{let lt=ed(ue,ee);await xa(me,ue,{overrideNavigation:lt,fetcherSubmission:re,preventScrollReset:ge||ce,enableViewTransition:G?z:void 0})}}async function In(R,L,G,ee){let re,ge={};try{re=await tw(b,R,L,ee,G,!1)}catch(oe){return L.filter(le=>le.shouldLoad).forEach(le=>{ge[le.route.id]={type:"error",error:oe}}),ge}if(R.signal.aborted)return ge;if(!$t(R.method))for(let oe of L){if(re[oe.route.id]?.type==="error")break;!re.hasOwnProperty(oe.route.id)&&!N.loaderData.hasOwnProperty(oe.route.id)&&(!N.errors||!N.errors.hasOwnProperty(oe.route.id))&&oe.shouldCallHandler()&&(re[oe.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${oe.route.id}`)})}for(let[oe,le]of Object.entries(re))if(dw(le)){let ue=le.result;ge[oe]={type:"redirect",response:sw(ue,R,oe,L,p)}}else ge[oe]=await rw(le);return ge}async function Rs(R,L,G,ee){let re=In(G,R,ee,null),ge=Promise.all(L.map(async ue=>{if(ue.matches&&ue.match&&ue.request&&ue.controller){let _e=(await In(ue.request,ue.matches,ee,ue.key))[ue.match.route.id];return{[ue.key]:_e}}else return Promise.resolve({[ue.key]:{type:"error",error:ba(404,{pathname:ue.path})}})})),oe=await re,le=(await ge).reduce((ue,me)=>Object.assign(ue,me),{});return{loaderResults:oe,fetcherResults:le}}function Or(){P=!0,ne.forEach((R,L)=>{se.has(L)&&te.add(L),st(L)})}function Pt(R,L,G={}){N.fetchers.set(R,L),bt({fetchers:new Map(N.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function _a(R,L,G,ee={}){let re=Hn(N.matches,L);Os(R),bt({errors:{[re.route.id]:G},fetchers:new Map(N.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function As(R){return ie.set(R,(ie.get(R)||0)+1),ve.has(R)&&ve.delete(R),N.fetchers.get(R)||Yb}function Mo(R,L){st(R,L?.reason),Pt(R,cn(null))}function Os(R){let L=N.fetchers.get(R);se.has(R)&&!(L&&L.state==="loading"&&U.has(R))&&st(R),ne.delete(R),U.delete(R),I.delete(R),ve.delete(R),te.delete(R),N.fetchers.delete(R)}function Jn(R){let L=(ie.get(R)||0)-1;L<=0?(ie.delete(R),ve.add(R)):ie.set(R,L),bt({fetchers:new Map(N.fetchers)})}function st(R,L){let G=se.get(R);G&&(G.abort(L),se.delete(R))}function Sa(R){for(let L of R){let G=As(L),ee=cn(G.data);N.fetchers.set(L,ee)}}function qt(){let R=[],L=!1;for(let G of I){let ee=N.fetchers.get(G);De(ee,`Expected fetcher: ${G}`),ee.state==="loading"&&(I.delete(G),R.push(G),L=!0)}return Sa(R),L}function Kl(R){let L=[];for(let[G,ee]of U)if(ee<R){let re=N.fetchers.get(G);De(re,`Expected fetcher: ${G}`),re.state==="loading"&&(st(G),U.delete(G),L.push(G))}return Sa(L),L.length>0}function Lo(R,L){let G=N.blockers.get(R)||xl;return Re.get(R)!==L&&Re.set(R,L),G}function Yl(R){N.blockers.delete(R),Re.delete(R)}function Va(R,L){let G=N.blockers.get(R)||xl;De(G.state==="unblocked"&&L.state==="blocked"||G.state==="blocked"&&L.state==="blocked"||G.state==="blocked"&&L.state==="proceeding"||G.state==="blocked"&&L.state==="unblocked"||G.state==="proceeding"&&L.state==="unblocked",`Invalid blocker state transition: ${G.state} -> ${L.state}`);let ee=new Map(N.blockers);ee.set(R,L),bt({blockers:ee})}function Qn({currentLocation:R,nextLocation:L,historyAction:G}){if(Re.size===0)return;Re.size>1&&ht(!1,"A router only supports one blocker at a time");let ee=Array.from(Re.entries()),[re,ge]=ee[ee.length-1],oe=N.blockers.get(re);if(!(oe&&oe.state==="proceeding")&&ge({currentLocation:R,nextLocation:L,historyAction:G}))return re}function hn(R){let L=ba(404,{pathname:R}),G=g||m,{matches:ee,route:re}=lo(G);return{notFoundMatches:ee,route:re,error:L}}function Ga(R,L,G){if(j=R,E=L,O=G||null,!C&&N.navigation===Wc){C=!0;let ee=Il(N.location,N.matches);ee!=null&&bt({restoreScrollPosition:ee})}return()=>{j=null,E=null,O=null}}function Xn(R,L){return O&&O(R,L.map(ee=>vb(ee,N.loaderData)))||R.key}function Fn(R,L){if(j&&E){let G=Xn(R,L);j[G]=E()}}function Il(R,L){if(j){let G=Xn(R,L),ee=j[G];if(typeof ee=="number")return ee}return null}function Zn(R,L,G){if(n.patchRoutesOnNavigation)if(R){if(Object.keys(R[0].params).length>0)return{active:!0,matches:jl(L,G,p,!0)}}else return{active:!0,matches:jl(L,G,p,!0)||[]};return{active:!1,matches:null}}async function mn(R,L,G,ee){if(!n.patchRoutesOnNavigation)return{type:"success",matches:R};let re=R;for(;;){let ge=g==null,oe=g||m,le=d;try{await n.patchRoutesOnNavigation({signal:G,path:L,matches:re,fetcherKey:ee,patch:(_e,ye)=>{G.aborted||ep(_e,ye,oe,le,u,!1)}})}catch(_e){return{type:"error",error:_e,partialMatches:re}}finally{ge&&!G.aborted&&(m=[...m])}if(G.aborted)return{type:"aborted"};let ue=$n(oe,L,p),me=null;if(ue){if(Object.keys(ue[0].params).length===0)return{type:"success",matches:ue};if(me=jl(oe,L,p,!0),!(me&&re.length<me.length&&gn(re,me.slice(0,re.length))))return{type:"success",matches:ue}}if(me||(me=jl(oe,L,p,!0)),!me||gn(re,me))return{type:"success",matches:null};re=me}}function gn(R,L){return R.length===L.length&&R.every((G,ee)=>G.route.id===L[ee].route.id)}function qo(R){d={},g=Cl(R,u,void 0,d)}function Jl(R,L,G=!1){let ee=g==null;ep(R,L,g||m,d,u,G),ee&&(m=[...m],bt({}))}return Y={get basename(){return p},get future(){return v},get state(){return N},get routes(){return m},get window(){return a},initialize:rt,subscribe:Rr,enableScrollRestoration:Ga,navigate:ka,fetch:Ts,revalidate:js,createHref:R=>n.history.createHref(R),encodeLocation:R=>n.history.encodeLocation(R),getFetcher:As,resetFetcher:Mo,deleteFetcher:Jn,dispose:Yn,getBlocker:Lo,deleteBlocker:Yl,patchRoutes:Jl,_internalFetchControllers:se,_internalSetRoutes:qo,_internalSetStateDoNotUseOrYouWillBreakYourApp(R){bt(R)}},n.unstable_instrumentations&&(Y=Lb(Y,n.unstable_instrumentations.map(R=>R.router).filter(Boolean))),Y}function Qb(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function hd(n,a,s,i,o,u){let d,m;if(o){d=[];for(let p of a)if(d.push(p),p.route.id===o){m=p;break}}else d=a,m=a[a.length-1];let g=No(i||".",jo(d),wa(n.pathname,s)||n.pathname,u==="path");if(i==null&&(g.search=n.search,g.hash=n.hash),(i==null||i===""||i===".")&&m){let p=Md(g.search);if(m.route.index&&!p)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&p){let b=new URLSearchParams(g.search),v=b.getAll("index");b.delete("index"),v.filter(x=>x).forEach(x=>b.append("index",x));let S=b.toString();g.search=S?`?${S}`:""}}return s!=="/"&&(g.pathname=Cb({basename:s,pathname:g.pathname})),$a(g)}function Zg(n,a,s){if(!s||!Qb(s))return{path:a};if(s.formMethod&&!mw(s.formMethod))return{path:a,error:ba(405,{method:s.formMethod})};let i=()=>({path:a,error:ba(400,{type:"invalid-body"})}),u=(s.formMethod||"get").toUpperCase(),d=cy(a);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!$t(u))return i();let v=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((S,[x,j])=>`${S}${x}=${j}
`,""):String(s.body);return{path:a,submission:{formMethod:u,formAction:d,formEncType:s.formEncType,formData:void 0,json:void 0,text:v}}}else if(s.formEncType==="application/json"){if(!$t(u))return i();try{let v=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:a,submission:{formMethod:u,formAction:d,formEncType:s.formEncType,formData:void 0,json:v,text:void 0}}}catch{return i()}}}De(typeof FormData=="function","FormData is not available in this environment");let m,g;if(s.formData)m=pd(s.formData),g=s.formData;else if(s.body instanceof FormData)m=pd(s.body),g=s.body;else if(s.body instanceof URLSearchParams)m=s.body,g=sp(m);else if(s.body==null)m=new URLSearchParams,g=new FormData;else try{m=new URLSearchParams(s.body),g=sp(m)}catch{return i()}let p={formMethod:u,formAction:d,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if($t(p.formMethod))return{path:a,submission:p};let b=Gn(a);return n&&b.search&&Md(b.search)&&m.append("index",""),b.search=`?${m}`,{path:$a(b),submission:p}}function Wg(n,a,s,i,o,u,d,m,g,p,b,v,S,x,j,O,E,C,D,T,V){let Z=T?sa(T[1])?T[1].error:T[1].data:void 0,Y=o.createURL(u.location),N=o.createURL(g),B;if(b&&u.errors){let xe=Object.keys(u.errors)[0];B=d.findIndex(P=>P.route.id===xe)}else if(T&&sa(T[1])){let xe=T[0];B=d.findIndex(P=>P.route.id===xe)-1}let F=T?T[1].statusCode:void 0,ce=F&&F>=400,ae={currentUrl:Y,currentParams:u.matches[0]?.params||{},nextUrl:N,nextParams:d[0].params,...m,actionResult:Z,actionStatus:F},z=$l(d),de=d.map((xe,P)=>{let{route:te}=xe,se=null;if(B!=null&&P>B?se=!1:te.lazy?se=!0:kd(te)?b?se=md(te,u.loaderData,u.errors):Xb(u.loaderData,u.matches[P],xe)&&(se=!0):se=!1,se!==null)return gd(s,i,n,z,xe,p,a,se);let Ee=!1;typeof V=="boolean"?Ee=V:ce?Ee=!1:(v||Y.pathname+Y.search===N.pathname+N.search||Y.search!==N.search||Fb(u.matches[P],xe))&&(Ee=!0);let Te={...ae,defaultShouldRevalidate:Ee},U=Tl(xe,Te);return gd(s,i,n,z,xe,p,a,U,Te,V)}),we=[];return j.forEach((xe,P)=>{if(b||!d.some(ie=>ie.route.id===xe.routeId)||x.has(P))return;let te=u.fetchers.get(P),se=te&&te.state!=="idle"&&te.data===void 0,Ee=$n(E,xe.path,C);if(!Ee){if(D&&se)return;we.push({key:P,routeId:xe.routeId,path:xe.path,matches:null,match:null,request:null,controller:null});return}if(O.has(P))return;let Te=mo(Ee,xe.path),U=new AbortController,I=ps(o,xe.path,U.signal),ne=null;if(S.has(P))S.delete(P),ne=_s(s,i,I,Ee,Te,p,a);else if(se)v&&(ne=_s(s,i,I,Ee,Te,p,a));else{let ie;typeof V=="boolean"?ie=V:ce?ie=!1:ie=v;let ve={...ae,defaultShouldRevalidate:ie};Tl(Te,ve)&&(ne=_s(s,i,I,Ee,Te,p,a,ve))}ne&&we.push({key:P,routeId:xe.routeId,path:xe.path,matches:ne,match:Te,request:I,controller:U})}),{dsMatches:de,revalidatingFetchers:we}}function kd(n){return n.loader!=null||n.middleware!=null&&n.middleware.length>0}function md(n,a,s){if(n.lazy)return!0;if(!kd(n))return!1;let i=a!=null&&n.id in a,o=s!=null&&s[n.id]!==void 0;return!i&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!o}function Xb(n,a,s){let i=!a||s.route.id!==a.route.id,o=!n.hasOwnProperty(s.route.id);return i||o}function Fb(n,a){let s=n.route.path;return n.pathname!==a.pathname||s!=null&&s.endsWith("*")&&n.params["*"]!==a.params["*"]}function Tl(n,a){if(n.route.shouldRevalidate){let s=n.route.shouldRevalidate(a);if(typeof s=="boolean")return s}return a.defaultShouldRevalidate}function ep(n,a,s,i,o,u){let d;if(n){let p=i[n];De(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),d=p.children}else d=s;let m=[],g=[];if(a.forEach(p=>{let b=d.find(v=>sy(p,v));b?g.push({existingRoute:b,newRoute:p}):m.push(p)}),m.length>0){let p=Cl(m,o,[n||"_","patch",String(d?.length||"0")],i);d.push(...p)}if(u&&g.length>0)for(let p=0;p<g.length;p++){let{existingRoute:b,newRoute:v}=g[p],S=b,[x]=Cl([v],o,[],{},!0);Object.assign(S,{element:x.element?x.element:S.element,errorElement:x.errorElement?x.errorElement:S.errorElement,hydrateFallbackElement:x.hydrateFallbackElement?x.hydrateFallbackElement:S.hydrateFallbackElement})}}function sy(n,a){return"id"in n&&"id"in a&&n.id===a.id?!0:n.index===a.index&&n.path===a.path&&n.caseSensitive===a.caseSensitive?(!n.children||n.children.length===0)&&(!a.children||a.children.length===0)?!0:n.children.every((s,i)=>a.children?.some(o=>sy(s,o))):!1}var tp=new WeakMap,ly=({key:n,route:a,manifest:s,mapRouteProperties:i})=>{let o=s[a.id];if(De(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[n];if(!u)return;let d=tp.get(o);d||(d={},tp.set(o,d));let m=d[n];if(m)return m;let g=(async()=>{let p=mb(n),v=o[n]!==void 0&&n!=="hasErrorBoundary";if(p)ht(!p,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),d[n]=Promise.resolve();else if(v)ht(!1,`Route "${o.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let S=await u();S!=null&&(Object.assign(o,{[n]:S}),Object.assign(o,i(o)))}typeof o.lazy=="object"&&(o.lazy[n]=void 0,Object.values(o.lazy).every(S=>S===void 0)&&(o.lazy=void 0))})();return d[n]=g,g},ap=new WeakMap;function Zb(n,a,s,i,o){let u=s[n.id];if(De(u,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let b=ap.get(u);if(b)return{lazyRoutePromise:b,lazyHandlerPromise:b};let v=(async()=>{De(typeof n.lazy=="function","No lazy route function found");let S=await n.lazy(),x={};for(let j in S){let O=S[j];if(O===void 0)continue;let E=pb(j),D=u[j]!==void 0&&j!=="hasErrorBoundary";E?ht(!E,"Route property "+j+" is not a supported property to be returned from a lazy route function. This property will be ignored."):D?ht(!D,`Route "${u.id}" has a static property "${j}" defined but its lazy function is also returning a value for this property. The lazy route property "${j}" will be ignored.`):x[j]=O}Object.assign(u,x),Object.assign(u,{...i(u),lazy:void 0})})();return ap.set(u,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let d=Object.keys(n.lazy),m=[],g;for(let b of d){if(o&&o.includes(b))continue;let v=ly({key:b,route:n,manifest:s,mapRouteProperties:i});v&&(m.push(v),b===a&&(g=v))}let p=m.length>0?Promise.all(m).then(()=>{}):void 0;return p?.catch(()=>{}),g?.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:g}}async function np(n){let a=n.matches.filter(o=>o.shouldLoad),s={};return(await Promise.all(a.map(o=>o.resolve()))).forEach((o,u)=>{s[a[u].route.id]=o}),s}async function Wb(n){return n.matches.some(a=>a.route.middleware)?iy(n,()=>np(n)):np(n)}function iy(n,a){return ew(n,a,i=>{if(hw(i))throw i;return i},uw,s);function s(i,o,u){if(u)return Promise.resolve(Object.assign(u.value,{[o]:{type:"error",result:i}}));{let{matches:d}=n,m=Math.min(Math.max(d.findIndex(p=>p.route.id===o),0),Math.max(d.findIndex(p=>p.shouldCallHandler()),0)),g=Hn(d,d[m].route.id).route.id;return Promise.resolve({[g]:{type:"error",result:i}})}}}async function ew(n,a,s,i,o){let{matches:u,request:d,params:m,context:g,unstable_pattern:p}=n,b=u.flatMap(S=>S.route.middleware?S.route.middleware.map(x=>[S.route.id,x]):[]);return await oy({request:d,params:m,context:g,unstable_pattern:p},b,a,s,i,o)}async function oy(n,a,s,i,o,u,d=0){let{request:m}=n;if(m.signal.aborted)throw m.signal.reason??new Error(`Request aborted: ${m.method} ${m.url}`);let g=a[d];if(!g)return await s();let[p,b]=g,v,S=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");try{return v={value:await oy(n,a,s,i,o,u,d+1)},v.value}catch(x){return v={value:await u(x,p,v)},v.value}};try{let x=await b(n,S),j=x!=null?i(x):void 0;return o(j)?j:v?j??v.value:(v={value:await S()},v.value)}catch(x){return await u(x,p,v)}}function uy(n,a,s,i,o){let u=ly({key:"middleware",route:i.route,manifest:a,mapRouteProperties:n}),d=Zb(i.route,$t(s.method)?"action":"loader",a,n,o);return{middleware:u,route:d.lazyRoutePromise,handler:d.lazyHandlerPromise}}function gd(n,a,s,i,o,u,d,m,g=null,p){let b=!1,v=uy(n,a,s,o,u);return{...o,_lazyPromises:v,shouldLoad:m,shouldRevalidateArgs:g,shouldCallHandler(S){return b=!0,g?typeof p=="boolean"?Tl(o,{...g,defaultShouldRevalidate:p}):typeof S=="boolean"?Tl(o,{...g,defaultShouldRevalidate:S}):Tl(o,g):m},resolve(S){let{lazy:x,loader:j,middleware:O}=o.route,E=b||m||S&&!$t(s.method)&&(x||j),C=O&&O.length>0&&!j&&!x;return E&&($t(s.method)||!C)?aw({request:s,unstable_pattern:i,match:o,lazyHandlerPromise:v?.handler,lazyRoutePromise:v?.route,handlerOverride:S,scopedContext:d}):Promise.resolve({type:"data",result:void 0})}}}function _s(n,a,s,i,o,u,d,m=null){return i.map(g=>g.route.id!==o.route.id?{...g,shouldLoad:!1,shouldRevalidateArgs:m,shouldCallHandler:()=>!1,_lazyPromises:uy(n,a,s,g,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:gd(n,a,s,$l(i),g,u,d,!0,m))}async function tw(n,a,s,i,o,u){s.some(p=>p._lazyPromises?.middleware)&&await Promise.all(s.map(p=>p._lazyPromises?.middleware));let d={request:a,unstable_pattern:$l(s),params:s[0].params,context:o,matches:s},g=await n({...d,fetcherKey:i,runClientMiddleware:p=>{let b=d;return iy(b,()=>p({...b,fetcherKey:i,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(s.flatMap(p=>[p._lazyPromises?.handler,p._lazyPromises?.route]))}catch{}return g}async function aw({request:n,unstable_pattern:a,match:s,lazyHandlerPromise:i,lazyRoutePromise:o,handlerOverride:u,scopedContext:d}){let m,g,p=$t(n.method),b=p?"action":"loader",v=S=>{let x,j=new Promise((C,D)=>x=D);g=()=>x(),n.signal.addEventListener("abort",g);let O=C=>typeof S!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${b}" [routeId: ${s.route.id}]`)):S({request:n,unstable_pattern:a,params:s.params,context:d},...C!==void 0?[C]:[]),E=(async()=>{try{return{type:"data",result:await(u?u(D=>O(D)):O())}}catch(C){return{type:"error",result:C}}})();return Promise.race([E,j])};try{let S=p?s.route.action:s.route.loader;if(i||o)if(S){let x,[j]=await Promise.all([v(S).catch(O=>{x=O}),i,o]);if(x!==void 0)throw x;m=j}else{await i;let x=p?s.route.action:s.route.loader;if(x)[m]=await Promise.all([v(x),o]);else if(b==="action"){let j=new URL(n.url),O=j.pathname+j.search;throw ba(405,{method:n.method,pathname:O,routeId:s.route.id})}else return{type:"data",result:void 0}}else if(S)m=await v(S);else{let x=new URL(n.url),j=x.pathname+x.search;throw ba(404,{pathname:j})}}catch(S){return{type:"error",result:S}}finally{g&&n.signal.removeEventListener("abort",g)}return m}async function nw(n){let a=n.headers.get("Content-Type");return a&&/\bapplication\/json\b/.test(a)?n.body==null?null:n.json():n.text()}async function rw(n){let{result:a,type:s}=n;if(zd(a)){let i;try{i=await nw(a)}catch(o){return{type:"error",error:o}}return s==="error"?{type:"error",error:new Bl(a.status,a.statusText,i),statusCode:a.status,headers:a.headers}:{type:"data",data:i,statusCode:a.status,headers:a.headers}}return s==="error"?up(a)?a.data instanceof Error?{type:"error",error:a.data,statusCode:a.init?.status,headers:a.init?.headers?new Headers(a.init.headers):void 0}:{type:"error",error:ow(a),statusCode:Dl(a)?a.status:void 0,headers:a.init?.headers?new Headers(a.init.headers):void 0}:{type:"error",error:a,statusCode:Dl(a)?a.status:void 0}:up(a)?{type:"data",data:a.data,statusCode:a.init?.status,headers:a.init?.headers?new Headers(a.init.headers):void 0}:{type:"data",data:a}}function sw(n,a,s,i,o){let u=n.headers.get("Location");if(De(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Eo(u)){let d=i.slice(0,i.findIndex(m=>m.route.id===s)+1);u=hd(new URL(a.url),d,o,u),n.headers.set("Location",u)}return n}function rp(n,a,s,i){let o=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Eo(n)){let u=n,d=u.startsWith("//")?new URL(a.protocol+u):new URL(u);if(o.includes(d.protocol))throw new Error("Invalid redirect location");let m=wa(d.pathname,s)!=null;if(d.origin===a.origin&&m)return d.pathname+d.search+d.hash}try{let u=i.createURL(n);if(o.includes(u.protocol))throw new Error("Invalid redirect location")}catch{}return n}function ps(n,a,s,i){let o=n.createURL(cy(a)).toString(),u={signal:s};if(i&&$t(i.formMethod)){let{formMethod:d,formEncType:m}=i;u.method=d.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(i.json)):m==="text/plain"?u.body=i.text:m==="application/x-www-form-urlencoded"&&i.formData?u.body=pd(i.formData):u.body=i.formData}return new Request(o,u)}function pd(n){let a=new URLSearchParams;for(let[s,i]of n.entries())a.append(s,typeof i=="string"?i:i.name);return a}function sp(n){let a=new FormData;for(let[s,i]of n.entries())a.append(s,i);return a}function lw(n,a,s,i=!1,o=!1){let u={},d=null,m,g=!1,p={},b=s&&sa(s[1])?s[1].error:void 0;return n.forEach(v=>{if(!(v.route.id in a))return;let S=v.route.id,x=a[S];if(De(!Er(x),"Cannot handle redirect results in processLoaderData"),sa(x)){let j=x.error;if(b!==void 0&&(j=b,b=void 0),d=d||{},o)d[S]=j;else{let O=Hn(n,S);d[O.route.id]==null&&(d[O.route.id]=j)}i||(u[S]=ry),g||(g=!0,m=Dl(x.error)?x.error.status:500),x.headers&&(p[S]=x.headers)}else u[S]=x.data,x.statusCode&&x.statusCode!==200&&!g&&(m=x.statusCode),x.headers&&(p[S]=x.headers)}),b!==void 0&&s&&(d={[s[0]]:b},s[2]&&(u[s[2]]=void 0)),{loaderData:u,errors:d,statusCode:m||200,loaderHeaders:p}}function lp(n,a,s,i,o,u){let{loaderData:d,errors:m}=lw(a,s,i);return o.filter(g=>!g.matches||g.matches.some(p=>p.shouldLoad)).forEach(g=>{let{key:p,match:b,controller:v}=g;if(v&&v.signal.aborted)return;let S=u[p];if(De(S,"Did not find corresponding fetcher result"),sa(S)){let x=Hn(n.matches,b?.route.id);m&&m[x.route.id]||(m={...m,[x.route.id]:S.error}),n.fetchers.delete(p)}else if(Er(S))De(!1,"Unhandled fetcher revalidation redirect");else{let x=cn(S.data);n.fetchers.set(p,x)}}),{loaderData:d,errors:m}}function ip(n,a,s,i){let o=Object.entries(a).filter(([,u])=>u!==ry).reduce((u,[d,m])=>(u[d]=m,u),{});for(let u of s){let d=u.route.id;if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&u.route.loader&&(o[d]=n[d]),i&&i.hasOwnProperty(d))break}return o}function op(n){return n?sa(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Hn(n,a){return(a?n.slice(0,n.findIndex(i=>i.route.id===a)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function lo(n){let a=n.length===1?n[0]:n.find(s=>s.index||!s.path||s.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:a}],route:a}}function ba(n,{pathname:a,routeId:s,method:i,type:o,message:u}={}){let d="Unknown Server Error",m="Unknown @remix-run/router error";return n===400?(d="Bad Request",i&&a&&s?m=`You made a ${i} request to "${a}" but did not provide a \`loader\` for route "${s}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):n===403?(d="Forbidden",m=`Route "${s}" does not match URL "${a}"`):n===404?(d="Not Found",m=`No route matches URL "${a}"`):n===405&&(d="Method Not Allowed",i&&a&&s?m=`You made a ${i.toUpperCase()} request to "${a}" but did not provide an \`action\` for route "${s}", so there is no way to handle the request.`:i&&(m=`Invalid request method "${i.toUpperCase()}"`)),new Bl(n||500,d,new Error(m),!0)}function io(n){let a=Object.entries(n);for(let s=a.length-1;s>=0;s--){let[i,o]=a[s];if(Er(o))return{key:i,result:o}}}function cy(n){let a=typeof n=="string"?Gn(n):n;return $a({...a,hash:""})}function iw(n,a){return n.pathname!==a.pathname||n.search!==a.search?!1:n.hash===""?a.hash!=="":n.hash===a.hash?!0:a.hash!==""}function ow(n){return new Bl(n.init?.status??500,n.init?.statusText??"Internal Server Error",n.data)}function uw(n){return n!=null&&typeof n=="object"&&Object.entries(n).every(([a,s])=>typeof a=="string"&&cw(s))}function cw(n){return n!=null&&typeof n=="object"&&"type"in n&&"result"in n&&(n.type==="data"||n.type==="error")}function dw(n){return zd(n.result)&&ay.has(n.result.status)}function sa(n){return n.type==="error"}function Er(n){return(n&&n.type)==="redirect"}function up(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function zd(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function fw(n){return ay.has(n)}function hw(n){return zd(n)&&fw(n.status)&&n.headers.has("Location")}function mw(n){return Gb.has(n.toUpperCase())}function $t(n){return Pb.has(n.toUpperCase())}function Md(n){return new URLSearchParams(n).getAll("index").some(a=>a==="")}function mo(n,a){let s=typeof a=="string"?Gn(a).search:a.search;if(n[n.length-1].route.index&&Md(s||""))return n[n.length-1];let i=Fp(n);return i[i.length-1]}function cp(n){let{formMethod:a,formAction:s,formEncType:i,text:o,formData:u,json:d}=n;if(!(!a||!s||!i)){if(o!=null)return{formMethod:a,formAction:s,formEncType:i,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:a,formAction:s,formEncType:i,formData:u,json:void 0,text:void 0};if(d!==void 0)return{formMethod:a,formAction:s,formEncType:i,formData:void 0,json:d,text:void 0}}}function ed(n,a){return a?{state:"loading",location:n,formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function gw(n,a){return{state:"submitting",location:n,formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text}}function _l(n,a){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:a}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:a}}function pw(n,a){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:a?a.data:void 0}}function cn(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function yw(n,a){try{let s=n.sessionStorage.getItem(ny);if(s){let i=JSON.parse(s);for(let[o,u]of Object.entries(i||{}))u&&Array.isArray(u)&&a.set(o,new Set(u||[]))}}catch{}}function vw(n,a){if(a.size>0){let s={};for(let[i,o]of a)s[i]=[...o];try{n.sessionStorage.setItem(ny,JSON.stringify(s))}catch(i){ht(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function dp(){let n,a,s=new Promise((i,o)=>{n=async u=>{i(u);try{await s}catch{}},a=async u=>{o(u);try{await s}catch{}}});return{promise:s,resolve:n,reject:a}}var Nr=_.createContext(null);Nr.displayName="DataRouter";var Hl=_.createContext(null);Hl.displayName="DataRouterState";var dy=_.createContext(!1);function bw(){return _.useContext(dy)}var Ld=_.createContext({isTransitioning:!1});Ld.displayName="ViewTransition";var fy=_.createContext(new Map);fy.displayName="Fetchers";var ww=_.createContext(null);ww.displayName="Await";var oa=_.createContext(null);oa.displayName="Navigation";var To=_.createContext(null);To.displayName="Location";var Ua=_.createContext({outlet:null,matches:[],isDataRoute:!1});Ua.displayName="Route";var qd=_.createContext(null);qd.displayName="RouteError";var hy="REACT_ROUTER_ERROR",xw="REDIRECT",_w="ROUTE_ERROR_RESPONSE";function Sw(n){if(n.startsWith(`${hy}:${xw}:{`))try{let a=JSON.parse(n.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function Ew(n){if(n.startsWith(`${hy}:${_w}:{`))try{let a=JSON.parse(n.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new Bl(a.status,a.statusText,a.data)}catch{}}function jw(n,{relative:a}={}){De(Es(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=_.useContext(oa),{hash:o,pathname:u,search:d}=Pl(n,{relative:a}),m=u;return s!=="/"&&(m=u==="/"?s:Ba([s,u])),i.createHref({pathname:m,search:d,hash:o})}function Es(){return _.useContext(To)!=null}function Kn(){return De(Es(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(To).location}var my="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gy(n){_.useContext(oa).static||_.useLayoutEffect(n)}function Ha(){let{isDataRoute:n}=_.useContext(Ua);return n?$w():Nw()}function Nw(){De(Es(),"useNavigate() may be used only in the context of a <Router> component.");let n=_.useContext(Nr),{basename:a,navigator:s}=_.useContext(oa),{matches:i}=_.useContext(Ua),{pathname:o}=Kn(),u=JSON.stringify(jo(i)),d=_.useRef(!1);return gy(()=>{d.current=!0}),_.useCallback((g,p={})=>{if(ht(d.current,my),!d.current)return;if(typeof g=="number"){s.go(g);return}let b=No(g,JSON.parse(u),o,p.relative==="path");n==null&&a!=="/"&&(b.pathname=b.pathname==="/"?a:Ba([a,b.pathname])),(p.replace?s.replace:s.push)(b,p.state,p)},[a,s,u,o,n])}var Tw=_.createContext(null);function Rw(n){let a=_.useContext(Ua).outlet;return _.useMemo(()=>a&&_.createElement(Tw.Provider,{value:n},a),[a,n])}function Pl(n,{relative:a}={}){let{matches:s}=_.useContext(Ua),{pathname:i}=Kn(),o=JSON.stringify(jo(s));return _.useMemo(()=>No(n,JSON.parse(o),i,a==="path"),[n,o,i,a])}function Aw(n,a,s,i,o){De(Es(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=_.useContext(oa),{matches:d}=_.useContext(Ua),m=d[d.length-1],g=m?m.params:{},p=m?m.pathname:"/",b=m?m.pathnameBase:"/",v=m&&m.route;{let D=v&&v.path||"";yy(p,!v||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let S=Kn(),x;x=S;let j=x.pathname||"/",O=j;if(b!=="/"){let D=b.replace(/^\//,"").split("/");O="/"+j.replace(/^\//,"").split("/").slice(D.length).join("/")}let E=$n(n,{pathname:O});return ht(v||E!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ht(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),kw(E&&E.map(D=>Object.assign({},D,{params:Object.assign({},g,D.params),pathname:Ba([b,u.encodeLocation?u.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?b:Ba([b,u.encodeLocation?u.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),d,s,i,o)}function Ow(){let n=Bw(),a=Dl(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:u},"ErrorBoundary")," or"," ",_.createElement("code",{style:u},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},a),s?_.createElement("pre",{style:o},s):null,d)}var Cw=_.createElement(Ow,null),py=class extends _.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,a){return a.location!==n.location||a.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:a.error,location:a.location,revalidation:n.revalidation||a.revalidation}}componentDidCatch(n,a){this.props.onError?this.props.onError(n,a):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const s=Ew(n.digest);s&&(n=s)}let a=n!==void 0?_.createElement(Ua.Provider,{value:this.props.routeContext},_.createElement(qd.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?_.createElement(Dw,{error:n},a):a}};py.contextType=dy;var td=new WeakMap;function Dw({children:n,error:a}){let{basename:s}=_.useContext(oa);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let i=Sw(a.digest);if(i){let o=td.get(a);if(o)throw o;let u=Wp(i.location,s);if(Zp&&!td.get(a))if(u.isExternal||i.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:i.replace}));throw td.set(a,d),d}return _.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return n}function Uw({routeContext:n,match:a,children:s}){let i=_.useContext(Nr);return i&&i.static&&i.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=a.route.id),_.createElement(Ua.Provider,{value:n},s)}function kw(n,a=[],s=null,i=null,o=null){if(n==null){if(!s)return null;if(s.errors)n=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let u=n,d=s?.errors;if(d!=null){let b=u.findIndex(v=>v.route.id&&d?.[v.route.id]!==void 0);De(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let m=!1,g=-1;if(s)for(let b=0;b<u.length;b++){let v=u[b];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=b),v.route.id){let{loaderData:S,errors:x}=s,j=v.route.loader&&!S.hasOwnProperty(v.route.id)&&(!x||x[v.route.id]===void 0);if(v.route.lazy||j){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=s&&i?(b,v)=>{i(b,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:$l(s.matches),errorInfo:v})}:void 0;return u.reduceRight((b,v,S)=>{let x,j=!1,O=null,E=null;s&&(x=d&&v.route.id?d[v.route.id]:void 0,O=v.route.errorElement||Cw,m&&(g<0&&S===0?(yy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,E=null):g===S&&(j=!0,E=v.route.hydrateFallbackElement||null)));let C=a.concat(u.slice(0,S+1)),D=()=>{let T;return x?T=O:j?T=E:v.route.Component?T=_.createElement(v.route.Component,null):v.route.element?T=v.route.element:T=b,_.createElement(Uw,{match:v,routeContext:{outlet:b,matches:C,isDataRoute:s!=null},children:T})};return s&&(v.route.ErrorBoundary||v.route.errorElement||S===0)?_.createElement(py,{location:s.location,revalidation:s.revalidation,component:O,error:x,children:D(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:p}):D()},null)}function Bd(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zw(n){let a=_.useContext(Nr);return De(a,Bd(n)),a}function Mw(n){let a=_.useContext(Hl);return De(a,Bd(n)),a}function Lw(n){let a=_.useContext(Ua);return De(a,Bd(n)),a}function $d(n){let a=Lw(n),s=a.matches[a.matches.length-1];return De(s.route.id,`${n} can only be used on routes that contain a unique "id"`),s.route.id}function qw(){return $d("useRouteId")}function Bw(){let n=_.useContext(qd),a=Mw("useRouteError"),s=$d("useRouteError");return n!==void 0?n:a.errors?.[s]}function $w(){let{router:n}=zw("useNavigate"),a=$d("useNavigate"),s=_.useRef(!1);return gy(()=>{s.current=!0}),_.useCallback(async(o,u={})=>{ht(s.current,my),s.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:a,...u}))},[n,a])}var fp={};function yy(n,a,s){!a&&!fp[n]&&(fp[n]=!0,ht(!1,s))}var hp={};function mp(n,a){!n&&!hp[a]&&(hp[a]=!0,console.warn(a))}var Hw="useOptimistic",gp=eb[Hw],Pw=()=>{};function Vw(n){return gp?gp(n):[n,Pw]}function Gw(n){let a={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&ht(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(a,{element:_.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&ht(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(a,{hydrateFallbackElement:_.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&ht(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(a,{errorElement:_.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),a}var Kw=["HydrateFallback","hydrateFallbackElement"],Yw=class{constructor(){this.status="pending",this.promise=new Promise((a,s)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",a(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",s(i))}})}};function Iw({router:n,flushSync:a,onError:s,unstable_useTransitions:i}){i=bw()||i;let[u,d]=_.useState(n.state),[m,g]=Vw(u),[p,b]=_.useState(),[v,S]=_.useState({isTransitioning:!1}),[x,j]=_.useState(),[O,E]=_.useState(),[C,D]=_.useState(),T=_.useRef(new Map),V=_.useCallback((B,{deletedFetchers:F,newErrors:ce,flushSync:ae,viewTransitionOpts:z})=>{ce&&s&&Object.values(ce).forEach(we=>s(we,{location:B.location,params:B.matches[0]?.params??{},unstable_pattern:$l(B.matches)})),B.fetchers.forEach((we,xe)=>{we.data!==void 0&&T.current.set(xe,we.data)}),F.forEach(we=>T.current.delete(we)),mp(ae===!1||a!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let de=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(mp(z==null||de,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!z||!de){a&&ae?a(()=>d(B)):i===!1?d(B):_.startTransition(()=>{i===!0&&g(we=>pp(we,B)),d(B)});return}if(a&&ae){a(()=>{O&&(x?.resolve(),O.skipTransition()),S({isTransitioning:!0,flushSync:!0,currentLocation:z.currentLocation,nextLocation:z.nextLocation})});let we=n.window.document.startViewTransition(()=>{a(()=>d(B))});we.finished.finally(()=>{a(()=>{j(void 0),E(void 0),b(void 0),S({isTransitioning:!1})})}),a(()=>E(we));return}O?(x?.resolve(),O.skipTransition(),D({state:B,currentLocation:z.currentLocation,nextLocation:z.nextLocation})):(b(B),S({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}))},[n.window,a,O,x,i,g,s]);_.useLayoutEffect(()=>n.subscribe(V),[n,V]),_.useEffect(()=>{v.isTransitioning&&!v.flushSync&&j(new Yw)},[v]),_.useEffect(()=>{if(x&&p&&n.window){let B=p,F=x.promise,ce=n.window.document.startViewTransition(async()=>{i===!1?d(B):_.startTransition(()=>{i===!0&&g(ae=>pp(ae,B)),d(B)}),await F});ce.finished.finally(()=>{j(void 0),E(void 0),b(void 0),S({isTransitioning:!1})}),E(ce)}},[p,x,n.window,i,g]),_.useEffect(()=>{x&&p&&m.location.key===p.location.key&&x.resolve()},[x,O,m.location,p]),_.useEffect(()=>{!v.isTransitioning&&C&&(b(C.state),S({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),D(void 0))},[v.isTransitioning,C]);let Z=_.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:B=>n.navigate(B),push:(B,F,ce)=>n.navigate(B,{state:F,preventScrollReset:ce?.preventScrollReset}),replace:(B,F,ce)=>n.navigate(B,{replace:!0,state:F,preventScrollReset:ce?.preventScrollReset})}),[n]),Y=n.basename||"/",N=_.useMemo(()=>({router:n,navigator:Z,static:!1,basename:Y,onError:s}),[n,Z,Y,s]);return _.createElement(_.Fragment,null,_.createElement(Nr.Provider,{value:N},_.createElement(Hl.Provider,{value:m},_.createElement(fy.Provider,{value:T.current},_.createElement(Ld.Provider,{value:v},_.createElement(Xw,{basename:Y,location:m.location,navigationType:m.historyAction,navigator:Z,unstable_useTransitions:i},_.createElement(Jw,{routes:n.routes,future:n.future,state:m,onError:s})))))),null)}function pp(n,a){return{...n,navigation:a.navigation.state!=="idle"?a.navigation:n.navigation,revalidation:a.revalidation!=="idle"?a.revalidation:n.revalidation,actionData:a.navigation.state!=="submitting"?a.actionData:n.actionData,fetchers:a.fetchers}}var Jw=_.memo(Qw);function Qw({routes:n,future:a,state:s,onError:i}){return Aw(n,void 0,s,i,a)}function yd({to:n,replace:a,state:s,relative:i}){De(Es(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=_.useContext(oa);ht(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=_.useContext(Ua),{pathname:d}=Kn(),m=Ha(),g=No(n,jo(u),d,i==="path"),p=JSON.stringify(g);return _.useEffect(()=>{m(JSON.parse(p),{replace:a,state:s,relative:i})},[m,p,i,a,s]),null}function Hd(n){return Rw(n.context)}function Xw({basename:n="/",children:a=null,location:s,navigationType:i="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){De(!Es(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=n.replace(/^\/*/,"/"),g=_.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[m,o,u,d]);typeof s=="string"&&(s=Gn(s));let{pathname:p="/",search:b="",hash:v="",state:S=null,key:x="default"}=s,j=_.useMemo(()=>{let O=wa(p,m);return O==null?null:{location:{pathname:O,search:b,hash:v,state:S,key:x},navigationType:i}},[m,p,b,v,S,x,i]);return ht(j!=null,`<Router basename="${m}"> is not able to match the URL "${p}${b}${v}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:_.createElement(oa.Provider,{value:g},_.createElement(To.Provider,{children:a,value:j}))}var go="get",po="application/x-www-form-urlencoded";function Ro(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function Fw(n){return Ro(n)&&n.tagName.toLowerCase()==="button"}function Zw(n){return Ro(n)&&n.tagName.toLowerCase()==="form"}function Ww(n){return Ro(n)&&n.tagName.toLowerCase()==="input"}function ex(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function tx(n,a){return n.button===0&&(!a||a==="_self")&&!ex(n)}var oo=null;function ax(){if(oo===null)try{new FormData(document.createElement("form"),0),oo=!1}catch{oo=!0}return oo}var nx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ad(n){return n!=null&&!nx.has(n)?(ht(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${po}"`),null):n}function rx(n,a){let s,i,o,u,d;if(Zw(n)){let m=n.getAttribute("action");i=m?wa(m,a):null,s=n.getAttribute("method")||go,o=ad(n.getAttribute("enctype"))||po,u=new FormData(n)}else if(Fw(n)||Ww(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||m.getAttribute("action");if(i=g?wa(g,a):null,s=n.getAttribute("formmethod")||m.getAttribute("method")||go,o=ad(n.getAttribute("formenctype"))||ad(m.getAttribute("enctype"))||po,u=new FormData(m,n),!ax()){let{name:p,type:b,value:v}=n;if(b==="image"){let S=p?`${p}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else p&&u.append(p,v)}}else{if(Ro(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=go,i=null,o=po,d=n}return u&&o==="text/plain"&&(d=u,u=void 0),{action:i,method:s.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pd(n,a){if(n===!1||n===null||typeof n>"u")throw new Error(a)}function sx(n,a,s,i){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:a&&wa(o.pathname,a)==="/"?o.pathname=`${a.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function lx(n,a){if(n.id in a)return a[n.id];try{let s=await import(n.module);return a[n.id]=s,s}catch(s){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ix(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ox(n,a,s){let i=await Promise.all(n.map(async o=>{let u=a.routes[o.route.id];if(u){let d=await lx(u,s);return d.links?d.links():[]}return[]}));return fx(i.flat(1).filter(ix).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function yp(n,a,s,i,o,u){let d=(g,p)=>s[p]?g.route.id!==s[p].route.id:!0,m=(g,p)=>s[p].pathname!==g.pathname||s[p].route.path?.endsWith("*")&&s[p].params["*"]!==g.params["*"];return u==="assets"?a.filter((g,p)=>d(g,p)||m(g,p)):u==="data"?a.filter((g,p)=>{let b=i.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(d(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let v=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function ux(n,a,{includeHydrateFallback:s}={}){return cx(n.map(i=>{let o=a.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function cx(n){return[...new Set(n)]}function dx(n){let a={},s=Object.keys(n).sort();for(let i of s)a[i]=n[i];return a}function fx(n,a){let s=new Set;return new Set(a),n.reduce((i,o)=>{let u=JSON.stringify(dx(o));return s.has(u)||(s.add(u),i.push({key:u,link:o})),i},[])}function vy(){let n=_.useContext(Nr);return Pd(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function hx(){let n=_.useContext(Hl);return Pd(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Vd=_.createContext(void 0);Vd.displayName="FrameworkContext";function by(){let n=_.useContext(Vd);return Pd(n,"You must render this element inside a <HydratedRouter> element"),n}function mx(n,a){let s=_.useContext(Vd),[i,o]=_.useState(!1),[u,d]=_.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:b,onTouchStart:v}=a,S=_.useRef(null);_.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let O=C=>{C.forEach(D=>{d(D.isIntersecting)})},E=new IntersectionObserver(O,{threshold:.5});return S.current&&E.observe(S.current),()=>{E.disconnect()}}},[n]),_.useEffect(()=>{if(i){let O=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(O)}}},[i]);let x=()=>{o(!0)},j=()=>{o(!1),d(!1)};return s?n!=="intent"?[u,S,{}]:[u,S,{onFocus:Sl(m,x),onBlur:Sl(g,j),onMouseEnter:Sl(p,x),onMouseLeave:Sl(b,j),onTouchStart:Sl(v,x)}]:[!1,S,{}]}function Sl(n,a){return s=>{n&&n(s),s.defaultPrevented||a(s)}}function gx({page:n,...a}){let{router:s}=vy(),i=_.useMemo(()=>$n(s.routes,n,s.basename),[s.routes,n,s.basename]);return i?_.createElement(yx,{page:n,matches:i,...a}):null}function px(n){let{manifest:a,routeModules:s}=by(),[i,o]=_.useState([]);return _.useEffect(()=>{let u=!1;return ox(n,a,s).then(d=>{u||o(d)}),()=>{u=!0}},[n,a,s]),i}function yx({page:n,matches:a,...s}){let i=Kn(),{future:o,manifest:u,routeModules:d}=by(),{basename:m}=vy(),{loaderData:g,matches:p}=hx(),b=_.useMemo(()=>yp(n,a,p,u,i,"data"),[n,a,p,u,i]),v=_.useMemo(()=>yp(n,a,p,u,i,"assets"),[n,a,p,u,i]),S=_.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let O=new Set,E=!1;if(a.forEach(D=>{let T=u.routes[D.route.id];!T||!T.hasLoader||(!b.some(V=>V.route.id===D.route.id)&&D.route.id in g&&d[D.route.id]?.shouldRevalidate||T.hasClientLoader?E=!0:O.add(D.route.id))}),O.size===0)return[];let C=sx(n,m,o.unstable_trailingSlashAwareDataRequests,"data");return E&&O.size>0&&C.searchParams.set("_routes",a.filter(D=>O.has(D.route.id)).map(D=>D.route.id).join(",")),[C.pathname+C.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,i,u,b,a,n,d]),x=_.useMemo(()=>ux(v,u),[v,u]),j=px(v);return _.createElement(_.Fragment,null,S.map(O=>_.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...s})),x.map(O=>_.createElement("link",{key:O,rel:"modulepreload",href:O,...s})),j.map(({key:O,link:E})=>_.createElement("link",{key:O,nonce:s.nonce,...E})))}function vx(...n){return a=>{n.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var bx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bx&&(window.__reactRouterVersion="7.12.0")}catch{}function wx(n,a){return Jb({basename:a?.basename,getContext:a?.getContext,future:a?.future,history:cb({window:a?.window}),hydrationData:xx(),routes:n,mapRouteProperties:Gw,hydrationRouteProperties:Kw,dataStrategy:a?.dataStrategy,patchRoutesOnNavigation:a?.patchRoutesOnNavigation,window:a?.window,unstable_instrumentations:a?.unstable_instrumentations}).initialize()}function xx(){let n=window?.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:_x(n.errors)}),n}function _x(n){if(!n)return null;let a=Object.entries(n),s={};for(let[i,o]of a)if(o&&o.__type==="RouteErrorResponse")s[i]=new Bl(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let d=new u(o.message);d.stack="",s[i]=d}catch{}}if(s[i]==null){let u=new Error(o.message);u.stack="",s[i]=u}}else s[i]=o;return s}var wy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lt=_.forwardRef(function({onClick:a,discover:s="render",prefetch:i="none",relative:o,reloadDocument:u,replace:d,state:m,target:g,to:p,preventScrollReset:b,viewTransition:v,unstable_defaultShouldRevalidate:S,...x},j){let{basename:O,unstable_useTransitions:E}=_.useContext(oa),C=typeof p=="string"&&wy.test(p),D=Wp(p,O);p=D.to;let T=jw(p,{relative:o}),[V,Z,Y]=mx(i,x),N=jx(p,{replace:d,state:m,target:g,preventScrollReset:b,relative:o,viewTransition:v,unstable_defaultShouldRevalidate:S,unstable_useTransitions:E});function B(ce){a&&a(ce),ce.defaultPrevented||N(ce)}let F=_.createElement("a",{...x,...Y,href:D.absoluteURL||T,onClick:D.isExternal||u?a:B,ref:vx(j,Z),target:g,"data-discover":!C&&s==="render"?"true":void 0});return V&&!C?_.createElement(_.Fragment,null,F,_.createElement(gx,{page:T})):F});Lt.displayName="Link";var wr=_.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:i="",end:o=!1,style:u,to:d,viewTransition:m,children:g,...p},b){let v=Pl(d,{relative:p.relative}),S=Kn(),x=_.useContext(Hl),{navigator:j,basename:O}=_.useContext(oa),E=x!=null&&Ox(v)&&m===!0,C=j.encodeLocation?j.encodeLocation(v).pathname:v.pathname,D=S.pathname,T=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(D=D.toLowerCase(),T=T?T.toLowerCase():null,C=C.toLowerCase()),T&&O&&(T=wa(T,O)||T);const V=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let Z=D===C||!o&&D.startsWith(C)&&D.charAt(V)==="/",Y=T!=null&&(T===C||!o&&T.startsWith(C)&&T.charAt(C.length)==="/"),N={isActive:Z,isPending:Y,isTransitioning:E},B=Z?a:void 0,F;typeof i=="function"?F=i(N):F=[i,Z?"active":null,Y?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let ce=typeof u=="function"?u(N):u;return _.createElement(Lt,{...p,"aria-current":B,className:F,ref:b,style:ce,to:d,viewTransition:m},typeof g=="function"?g(N):g)});wr.displayName="NavLink";var Sx=_.forwardRef(({discover:n="render",fetcherKey:a,navigate:s,reloadDocument:i,replace:o,state:u,method:d=go,action:m,onSubmit:g,relative:p,preventScrollReset:b,viewTransition:v,unstable_defaultShouldRevalidate:S,...x},j)=>{let{unstable_useTransitions:O}=_.useContext(oa),E=Rx(),C=Ax(m,{relative:p}),D=d.toLowerCase()==="get"?"get":"post",T=typeof m=="string"&&wy.test(m),V=Z=>{if(g&&g(Z),Z.defaultPrevented)return;Z.preventDefault();let Y=Z.nativeEvent.submitter,N=Y?.getAttribute("formmethod")||d,B=()=>E(Y||Z.currentTarget,{fetcherKey:a,method:N,navigate:s,replace:o,state:u,relative:p,preventScrollReset:b,viewTransition:v,unstable_defaultShouldRevalidate:S});O&&s!==!1?_.startTransition(()=>B()):B()};return _.createElement("form",{ref:j,method:D,action:C,onSubmit:i?g:V,...x,"data-discover":!T&&n==="render"?"true":void 0})});Sx.displayName="Form";function Ex(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xy(n){let a=_.useContext(Nr);return De(a,Ex(n)),a}function jx(n,{target:a,replace:s,state:i,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=Ha(),b=Kn(),v=Pl(n,{relative:u});return _.useCallback(S=>{if(tx(S,a)){S.preventDefault();let x=s!==void 0?s:$a(b)===$a(v),j=()=>p(n,{replace:x,state:i,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:m});g?_.startTransition(()=>j()):j()}},[b,p,v,s,i,a,n,o,u,d,m,g])}var Nx=0,Tx=()=>`__${String(++Nx)}__`;function Rx(){let{router:n}=xy("useSubmit"),{basename:a}=_.useContext(oa),s=qw(),i=n.fetch,o=n.navigate;return _.useCallback(async(u,d={})=>{let{action:m,method:g,encType:p,formData:b,body:v}=rx(u,a);if(d.navigate===!1){let S=d.fetcherKey||Tx();await i(S,s,d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:b,body:v,formMethod:d.method||g,formEncType:d.encType||p,flushSync:d.flushSync})}else await o(d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:b,body:v,formMethod:d.method||g,formEncType:d.encType||p,replace:d.replace,state:d.state,fromRouteId:s,flushSync:d.flushSync,viewTransition:d.viewTransition})},[i,o,a,s])}function Ax(n,{relative:a}={}){let{basename:s}=_.useContext(oa),i=_.useContext(Ua);De(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...Pl(n||".",{relative:a})},d=Kn();if(n==null){u.search=d.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(b=>b==="")){m.delete("index"),g.filter(v=>v).forEach(v=>m.append("index",v));let b=m.toString();u.search=b?`?${b}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:Ba([s,u.pathname])),$a(u)}function Ox(n,{relative:a}={}){let s=_.useContext(Ld);De(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=xy("useViewTransitionState"),o=Pl(n,{relative:a});if(!s.isTransitioning)return!1;let u=wa(s.currentLocation.pathname,i)||s.currentLocation.pathname,d=wa(s.nextLocation.pathname,i)||s.nextLocation.pathname;return vo(o.pathname,d)!=null||vo(o.pathname,u)!=null}var Cx=Kp();function Dx(n){return _.createElement(Iw,{flushSync:Cx.flushSync,...n})}const Ux=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kx=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,s,i)=>i?i.toUpperCase():s.toLowerCase()),vp=n=>{const a=kx(n);return a.charAt(0).toUpperCase()+a.slice(1)},_y=(...n)=>n.filter((a,s,i)=>!!a&&a.trim()!==""&&i.indexOf(a)===s).join(" ").trim(),zx=n=>{for(const a in n)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var Mx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Lx=_.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:d,...m},g)=>_.createElement("svg",{ref:g,...Mx,width:a,height:a,stroke:n,strokeWidth:i?Number(s)*24/Number(a):s,className:_y("lucide",o),...!u&&!zx(m)&&{"aria-hidden":"true"},...m},[...d.map(([p,b])=>_.createElement(p,b)),...Array.isArray(u)?u:[u]]));const At=(n,a)=>{const s=_.forwardRef(({className:i,...o},u)=>_.createElement(Lx,{ref:u,iconNode:a,className:_y(`lucide-${Ux(vp(n))}`,`lucide-${n}`,i),...o}));return s.displayName=vp(n),s};const qx=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Bx=At("bell",qx);const $x=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Hx=At("book",$x);const Px=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Vx=At("chart-column",Px);const Gx=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Kx=At("chevron-down",Gx);const Yx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nd=At("circle-check-big",Yx);const Ix=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bp=At("clock",Ix);const Jx=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],vd=At("eye-off",Jx);const Qx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bd=At("eye",Qx);const Xx=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],yo=At("file-text",Xx);const Fx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Zx=At("house",Fx);const Wx=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],e_=At("mail",Wx);const t_=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Sy=At("menu",t_);const a_=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],n_=At("pencil",a_);const r_=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],bo=At("shopping-cart",r_);const s_=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],l_=At("trending-up",s_);const i_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wd=At("users",i_);const o_=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],xd=At("video",o_);const u_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ao=At("x",u_);function Oo(n,a){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&a.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)a.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(s[i[o]]=n[i[o]]);return s}function c_(n,a,s,i){function o(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function m(b){try{p(i.next(b))}catch(v){d(v)}}function g(b){try{p(i.throw(b))}catch(v){d(v)}}function p(b){b.done?u(b.value):o(b.value).then(m,g)}p((i=i.apply(n,a||[])).next())})}const d_=n=>n?(...a)=>n(...a):(...a)=>fetch(...a);class Gd extends Error{constructor(a,s="FunctionsError",i){super(a),this.name=s,this.context=i}}class f_ extends Gd{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class wp extends Gd{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class xp extends Gd{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var _d;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(_d||(_d={}));class h_{constructor(a,{headers:s={},customFetch:i,region:o=_d.Any}={}){this.url=a,this.headers=s,this.region=o,this.fetch=d_(i)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return c_(this,arguments,void 0,function*(s,i={}){var o;let u,d;try{const{headers:m,method:g,body:p,signal:b,timeout:v}=i;let S={},{region:x}=i;x||(x=this.region);const j=new URL(`${this.url}/${s}`);x&&x!=="any"&&(S["x-region"]=x,j.searchParams.set("forceFunctionRegion",x));let O;p&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",O=p):typeof p=="string"?(S["Content-Type"]="text/plain",O=p):typeof FormData<"u"&&p instanceof FormData?O=p:(S["Content-Type"]="application/json",O=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?O=JSON.stringify(p):O=p;let E=b;v&&(d=new AbortController,u=setTimeout(()=>d.abort(),v),b?(E=d.signal,b.addEventListener("abort",()=>d.abort())):E=d.signal);const C=yield this.fetch(j.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),m),body:O,signal:E}).catch(Z=>{throw new f_(Z)}),D=C.headers.get("x-relay-error");if(D&&D==="true")throw new wp(C);if(!C.ok)throw new xp(C);let T=((o=C.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),V;return T==="application/json"?V=yield C.json():T==="application/octet-stream"||T==="application/pdf"?V=yield C.blob():T==="text/event-stream"?V=C:T==="multipart/form-data"?V=yield C.formData():V=yield C.text(),{data:V,error:null,response:C}}catch(m){return{data:null,error:m,response:m instanceof xp||m instanceof wp?m.context:void 0}}finally{u&&clearTimeout(u)}})}}var m_=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},g_=class{constructor(n){var a,s;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(a=n.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=n.signal,this.isMaybeSingle=(s=n.isMaybeSingle)!==null&&s!==void 0?s:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,a){return this.headers=new Headers(this.headers),this.headers.set(n,a),this}then(n,a){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let d=null,m=null,g=null,p=u.status,b=u.statusText;if(u.ok){var v,S;if(s.method!=="HEAD"){var x;const C=await u.text();C===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((x=s.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?m=C:m=JSON.parse(C))}const O=(v=s.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),E=(S=u.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");O&&E&&E.length>1&&(g=parseInt(E[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(m)&&(m.length>1?(d={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,p=406,b="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var j;const O=await u.text();try{d=JSON.parse(O),Array.isArray(d)&&u.status===404&&(m=[],d=null,p=200,b="OK")}catch{u.status===404&&O===""?(p=204,b="No Content"):d={message:O}}if(d&&s.isMaybeSingle&&(!(d==null||(j=d.details)===null||j===void 0)&&j.includes("0 rows"))&&(d=null,p=200,b="OK"),d&&s.shouldThrowOnError)throw new m_(d)}return{error:d,data:m,count:g,status:p,statusText:b}});return this.shouldThrowOnError||(o=o.catch(u=>{var d;let m="";const g=u?.cause;if(g){var p,b,v,S;const j=(p=g?.message)!==null&&p!==void 0?p:"",O=(b=g?.code)!==null&&b!==void 0?b:"";m=`${(v=u?.name)!==null&&v!==void 0?v:"FetchError"}: ${u?.message}`,m+=`

Caused by: ${(S=g?.name)!==null&&S!==void 0?S:"Error"}: ${j}`,O&&(m+=` (${O})`),g?.stack&&(m+=`
${g.stack}`)}else{var x;m=(x=u?.stack)!==null&&x!==void 0?x:""}return{error:{message:`${(d=u?.name)!==null&&d!==void 0?d:"FetchError"}: ${u?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(n,a)}returns(){return this}overrideTypes(){return this}},p_=class extends g_{select(n){let a=!1;const s=(n??"*").split("").map(i=>/\s/.test(i)&&!a?"":(i==='"'&&(a=!a),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:a=!0,nullsFirst:s,foreignTable:i,referencedTable:o=i}={}){const u=o?`${o}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${n}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:a,referencedTable:s=a}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,a,{foreignTable:s,referencedTable:i=s}={}){const o=typeof i>"u"?"offset":`${i}.offset`,u=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(u,`${a-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:a=!1,settings:s=!1,buffers:i=!1,wal:o=!1,format:u="text"}={}){var d;const m=[n?"analyze":null,a?"verbose":null,s?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),g=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${g}"; options=${m};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const _p=new RegExp("[,()]");var ys=class extends p_{eq(n,a){return this.url.searchParams.append(n,`eq.${a}`),this}neq(n,a){return this.url.searchParams.append(n,`neq.${a}`),this}gt(n,a){return this.url.searchParams.append(n,`gt.${a}`),this}gte(n,a){return this.url.searchParams.append(n,`gte.${a}`),this}lt(n,a){return this.url.searchParams.append(n,`lt.${a}`),this}lte(n,a){return this.url.searchParams.append(n,`lte.${a}`),this}like(n,a){return this.url.searchParams.append(n,`like.${a}`),this}likeAllOf(n,a){return this.url.searchParams.append(n,`like(all).{${a.join(",")}}`),this}likeAnyOf(n,a){return this.url.searchParams.append(n,`like(any).{${a.join(",")}}`),this}ilike(n,a){return this.url.searchParams.append(n,`ilike.${a}`),this}ilikeAllOf(n,a){return this.url.searchParams.append(n,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(n,a){return this.url.searchParams.append(n,`ilike(any).{${a.join(",")}}`),this}regexMatch(n,a){return this.url.searchParams.append(n,`match.${a}`),this}regexIMatch(n,a){return this.url.searchParams.append(n,`imatch.${a}`),this}is(n,a){return this.url.searchParams.append(n,`is.${a}`),this}isDistinct(n,a){return this.url.searchParams.append(n,`isdistinct.${a}`),this}in(n,a){const s=Array.from(new Set(a)).map(i=>typeof i=="string"&&_p.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${s})`),this}notIn(n,a){const s=Array.from(new Set(a)).map(i=>typeof i=="string"&&_p.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`not.in.(${s})`),this}contains(n,a){return typeof a=="string"?this.url.searchParams.append(n,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(n,`cs.{${a.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(a)}`),this}containedBy(n,a){return typeof a=="string"?this.url.searchParams.append(n,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(n,`cd.{${a.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(a)}`),this}rangeGt(n,a){return this.url.searchParams.append(n,`sr.${a}`),this}rangeGte(n,a){return this.url.searchParams.append(n,`nxl.${a}`),this}rangeLt(n,a){return this.url.searchParams.append(n,`sl.${a}`),this}rangeLte(n,a){return this.url.searchParams.append(n,`nxr.${a}`),this}rangeAdjacent(n,a){return this.url.searchParams.append(n,`adj.${a}`),this}overlaps(n,a){return typeof a=="string"?this.url.searchParams.append(n,`ov.${a}`):this.url.searchParams.append(n,`ov.{${a.join(",")}}`),this}textSearch(n,a,{config:s,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(n,`${o}fts${u}.${a}`),this}match(n){return Object.entries(n).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(n,a,s){return this.url.searchParams.append(n,`not.${a}.${s}`),this}or(n,{foreignTable:a,referencedTable:s=a}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,a,s){return this.url.searchParams.append(n,`${a}.${s}`),this}},y_=class{constructor(n,{headers:a={},schema:s,fetch:i}){this.url=n,this.headers=new Headers(a),this.schema=s,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,a){const{head:s=!1,count:i}=a??{},o=s?"HEAD":"GET";let u=!1;const d=(n??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join(""),{url:m,headers:g}=this.cloneRequestState();return m.searchParams.set("select",d),i&&g.append("Prefer",`count=${i}`),new ys({method:o,url:m,headers:g,schema:this.schema,fetch:this.fetch})}insert(n,{count:a,defaultToNull:s=!0}={}){var i;const o="POST",{url:u,headers:d}=this.cloneRequestState();if(a&&d.append("Prefer",`count=${a}`),s||d.append("Prefer","missing=default"),Array.isArray(n)){const m=n.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(m.length>0){const g=[...new Set(m)].map(p=>`"${p}"`);u.searchParams.set("columns",g.join(","))}}return new ys({method:o,url:u,headers:d,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(n,{onConflict:a,ignoreDuplicates:s=!1,count:i,defaultToNull:o=!0}={}){var u;const d="POST",{url:m,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&m.searchParams.set("on_conflict",a),i&&g.append("Prefer",`count=${i}`),o||g.append("Prefer","missing=default"),Array.isArray(n)){const p=n.reduce((b,v)=>b.concat(Object.keys(v)),[]);if(p.length>0){const b=[...new Set(p)].map(v=>`"${v}"`);m.searchParams.set("columns",b.join(","))}}return new ys({method:d,url:m,headers:g,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(n,{count:a}={}){var s;const i="PATCH",{url:o,headers:u}=this.cloneRequestState();return a&&u.append("Prefer",`count=${a}`),new ys({method:i,url:o,headers:u,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:n}={}){var a;const s="DELETE",{url:i,headers:o}=this.cloneRequestState();return n&&o.append("Prefer",`count=${n}`),new ys({method:s,url:i,headers:o,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},v_=class Ey{constructor(a,{headers:s={},schema:i,fetch:o}={}){this.url=a,this.headers=new Headers(s),this.schemaName=i,this.fetch=o}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new y_(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new Ey(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:i=!1,get:o=!1,count:u}={}){var d;let m;const g=new URL(`${this.url}/rpc/${a}`);let p;const b=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(b)),v=i&&Object.values(s).some(b);v?(m="POST",p=s):i||o?(m=i?"HEAD":"GET",Object.entries(s).filter(([x,j])=>j!==void 0).map(([x,j])=>[x,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([x,j])=>{g.searchParams.append(x,j)})):(m="POST",p=s);const S=new Headers(this.headers);return v?S.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&S.set("Prefer",`count=${u}`),new ys({method:m,url:g,headers:S,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};class b_{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const i=s.versions;if(i&&i.node){const o=i.node,u=parseInt(o.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let s=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(s+=`

Suggested solution: ${a.workaround}`),new Error(s)}static createWebSocket(a,s){const i=this.getWebSocketConstructor();return new i(a,s)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const w_="2.90.1",x_=`realtime-js/${w_}`,jy="1.0.0",__="2.0.0",Sp=jy,Sd=1e4,S_=1e3,E_=100;var Bn;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Bn||(Bn={}));var Nt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Nt||(Nt={}));var Da;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Da||(Da={}));var Ed;(function(n){n.websocket="websocket"})(Ed||(Ed={}));var _r;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(_r||(_r={}));class j_{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,s){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(a));let i=[a.join_ref,a.ref,a.topic,a.event,a.payload];return s(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(a){var s;return this._isArrayBuffer((s=a.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var s,i;const o=(i=(s=a.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(a){var s,i;const o=(i=(s=a.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},d=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(a,s,i){var o,u;const d=a.topic,m=(o=a.ref)!==null&&o!==void 0?o:"",g=(u=a.join_ref)!==null&&u!==void 0?u:"",p=a.payload.event,b=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},v=Object.keys(b).length===0?"":JSON.stringify(b);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+d.length+p.length+v.length,x=new ArrayBuffer(this.HEADER_LENGTH+S);let j=new DataView(x),O=0;j.setUint8(O++,this.KINDS.userBroadcastPush),j.setUint8(O++,g.length),j.setUint8(O++,m.length),j.setUint8(O++,d.length),j.setUint8(O++,p.length),j.setUint8(O++,v.length),j.setUint8(O++,s),Array.from(g,C=>j.setUint8(O++,C.charCodeAt(0))),Array.from(m,C=>j.setUint8(O++,C.charCodeAt(0))),Array.from(d,C=>j.setUint8(O++,C.charCodeAt(0))),Array.from(p,C=>j.setUint8(O++,C.charCodeAt(0))),Array.from(v,C=>j.setUint8(O++,C.charCodeAt(0)));var E=new Uint8Array(x.byteLength+i.byteLength);return E.set(new Uint8Array(x),0),E.set(new Uint8Array(i),x.byteLength),E.buffer}decode(a,s){if(this._isArrayBuffer(a)){let i=this._binaryDecode(a);return s(i)}if(typeof a=="string"){const i=JSON.parse(a),[o,u,d,m,g]=i;return s({join_ref:o,ref:u,topic:d,event:m,payload:g})}return s({})}_binaryDecode(a){const s=new DataView(a),i=s.getUint8(0),o=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,s,o)}_decodeUserBroadcast(a,s,i){const o=s.getUint8(1),u=s.getUint8(2),d=s.getUint8(3),m=s.getUint8(4);let g=this.HEADER_LENGTH+4;const p=i.decode(a.slice(g,g+o));g=g+o;const b=i.decode(a.slice(g,g+u));g=g+u;const v=i.decode(a.slice(g,g+d));g=g+d;const S=a.slice(g,a.byteLength),x=m===this.JSON_ENCODING?JSON.parse(i.decode(S)):S,j={type:this.BROADCAST_EVENT,event:b,payload:x};return d>0&&(j.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(a){var s;return a instanceof ArrayBuffer||((s=a?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(a,s){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([i])=>s.includes(i)))}}class Ny{constructor(a,s){this.callback=a,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(We||(We={}));const Ep=(n,a,s={})=>{var i;const o=(i=s.skipTypes)!==null&&i!==void 0?i:[];return a?Object.keys(a).reduce((u,d)=>(u[d]=N_(d,n,a,o),u),{}):{}},N_=(n,a,s,i)=>{const o=a.find(m=>m.name===n),u=o?.type,d=s[n];return u&&!i.includes(u)?Ty(u,d):jd(d)},Ty=(n,a)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return O_(a,s)}switch(n){case We.bool:return T_(a);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return R_(a);case We.json:case We.jsonb:return A_(a);case We.timestamp:return C_(a);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return jd(a);default:return jd(a)}},jd=n=>n,T_=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},R_=n=>{if(typeof n=="string"){const a=parseFloat(n);if(!Number.isNaN(a))return a}return n},A_=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},O_=(n,a)=>{if(typeof n!="string")return n;const s=n.length-1,i=n[s];if(n[0]==="{"&&i==="}"){let u;const d=n.slice(1,s);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(m=>Ty(a,m))}return n},C_=n=>typeof n=="string"?n.replace(" ","T"):n,Ry=n=>{const a=new URL(n);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class rd{constructor(a,s,i={},o=Sd){this.channel=a,this.event=s,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,s){var i;return this._hasReceived(a)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:a,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:s}){this.recHooks.filter(i=>i.status===a).forEach(i=>i.callback(s))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var jp;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(jp||(jp={}));class Rl{constructor(a,s){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:u,onLeave:d,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rl.syncState(this.state,o,u,d),this.pendingDiffs.forEach(g=>{this.state=Rl.syncDiff(this.state,g,u,d)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},o=>{const{onJoin:u,onLeave:d,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Rl.syncDiff(this.state,o,u,d),m())}),this.onJoin((o,u,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:d})}),this.onLeave((o,u,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,s,i,o){const u=this.cloneDeep(a),d=this.transformState(s),m={},g={};return this.map(u,(p,b)=>{d[p]||(g[p]=b)}),this.map(d,(p,b)=>{const v=u[p];if(v){const S=b.map(E=>E.presence_ref),x=v.map(E=>E.presence_ref),j=b.filter(E=>x.indexOf(E.presence_ref)<0),O=v.filter(E=>S.indexOf(E.presence_ref)<0);j.length>0&&(m[p]=j),O.length>0&&(g[p]=O)}else m[p]=b}),this.syncDiff(u,{joins:m,leaves:g},i,o)}static syncDiff(a,s,i,o){const{joins:u,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(u,(m,g)=>{var p;const b=(p=a[m])!==null&&p!==void 0?p:[];if(a[m]=this.cloneDeep(g),b.length>0){const v=a[m].map(x=>x.presence_ref),S=b.filter(x=>v.indexOf(x.presence_ref)<0);a[m].unshift(...S)}i(m,b,g)}),this.map(d,(m,g)=>{let p=a[m];if(!p)return;const b=g.map(v=>v.presence_ref);p=p.filter(v=>b.indexOf(v.presence_ref)<0),a[m]=p,o(m,p,g),p.length===0&&delete a[m]}),a}static map(a,s){return Object.getOwnPropertyNames(a).map(i=>s(i,a[i]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((s,i)=>{const o=a[i];return"metas"in o?s[i]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[i]=o,s},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Np;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Np||(Np={}));var Al;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Al||(Al={}));var dn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(dn||(dn={}));class xs{constructor(a,s={config:{}},i){var o,u;if(this.topic=a,this.params=s,this.socket=i,this.bindings={},this.state=Nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new rd(this,Da.join,this.params,this.timeout),this.rejoinTimer=new Ny(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Nt.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Da.reply,{},(d,m)=>{this._trigger(this._replyEventName(m),d)}),this.presence=new Rl(this),this.broadcastEndpointURL=Ry(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,s=this.timeout){var i,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Nt.closed){const{config:{broadcast:d,presence:m,private:g}}=this.params,p=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(x=>x.filter))!==null&&o!==void 0?o:[],b=!!this.bindings[Al.PRESENCE]&&this.bindings[Al.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,v={},S={broadcast:d,presence:Object.assign(Object.assign({},m),{enabled:b}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(x=>a?.(dn.CHANNEL_ERROR,x)),this._onClose(()=>a?.(dn.CLOSED)),this.updateJoinPayload(Object.assign({config:S},v)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:x})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){a?.(dn.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,E=(j=O?.length)!==null&&j!==void 0?j:0,C=[];for(let D=0;D<E;D++){const T=O[D],{filter:{event:V,schema:Z,table:Y,filter:N}}=T,B=x&&x[D];if(B&&B.event===V&&xs.isFilterValueEqual(B.schema,Z)&&xs.isFilterValueEqual(B.table,Y)&&xs.isFilterValueEqual(B.filter,N))C.push(Object.assign(Object.assign({},T),{id:B.id}));else{this.unsubscribe(),this.state=Nt.errored,a?.(dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,a&&a(dn.SUBSCRIBED);return}}).receive("error",x=>{this.state=Nt.errored,a?.(dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{a?.(dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,s={}){return await this.send({type:"presence",event:"track",payload:a},s.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,s,i){return this.state===Nt.joined&&a===Al.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,s,i)}async httpSend(a,s,i={}){var o;if(s==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const p=await m.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(a,s={}){var i,o;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=a,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,m,g;const p=this._push(a.type,a,s.timeout||this.timeout);a.type==="broadcast"&&!(!((g=(m=(d=this.params)===null||d===void 0?void 0:d.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Nt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Da.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new rd(this,Da.leave,{},a),i.receive("ok",()=>{s(),o("ok")}).receive("timeout",()=>{s(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Nt.closed,this.bindings={}}async _fetchWithTimeout(a,s,i){const o=new AbortController,u=setTimeout(()=>o.abort(),i),d=await this.socket.fetch(a,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(u),d}_push(a,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new rd(this,a,s,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>E_){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(a,s,i){return s}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,s,i){var o,u;const d=a.toLocaleLowerCase(),{close:m,error:g,leave:p,join:b}=Da;if(i&&[m,g,p,b].indexOf(d)>=0&&i!==this._joinRef())return;let S=this._onMessage(d,s,i);if(s&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(x=>{var j,O,E;return((j=x.filter)===null||j===void 0?void 0:j.event)==="*"||((E=(O=x.filter)===null||O===void 0?void 0:O.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===d}).map(x=>x.callback(S,i)):(u=this.bindings[d])===null||u===void 0||u.filter(x=>{var j,O,E,C,D,T,V,Z;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in x){const Y=x.id,N=(j=x.filter)===null||j===void 0?void 0:j.event;return Y&&((O=s.ids)===null||O===void 0?void 0:O.includes(Y))&&(N==="*"||N?.toLocaleLowerCase()===((E=s.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))&&(!(!((C=x.filter)===null||C===void 0)&&C.table)||x.filter.table===((D=s.data)===null||D===void 0?void 0:D.table))}else{const Y=(V=(T=x?.filter)===null||T===void 0?void 0:T.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return Y==="*"||Y===((Z=s?.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===d}).map(x=>{if(typeof S=="object"&&"ids"in S){const j=S.data,{schema:O,table:E,commit_timestamp:C,type:D,errors:T}=j;S=Object.assign(Object.assign({},{schema:O,table:E,commit_timestamp:C,eventType:D,new:{},old:{},errors:T}),this._getPayloadRecords(j))}x.callback(S,i)})}_isClosed(){return this.state===Nt.closed}_isJoined(){return this.state===Nt.joined}_isJoining(){return this.state===Nt.joining}_isLeaving(){return this.state===Nt.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,s,i){const o=a.toLocaleLowerCase(),u={type:o,filter:s,callback:i};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(a,s){const i=a.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&xs.isEqual(o.filter,s))})),this}static isEqual(a,s){if(Object.keys(a).length!==Object.keys(s).length)return!1;for(const i in a)if(a[i]!==s[i])return!1;return!0}static isFilterValueEqual(a,s){return(a??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Da.close,{},a)}_onError(a){this._on(Da.error,{},s=>a(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Nt.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const s={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(s.new=Ep(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(s.old=Ep(a.columns,a.old_record)),s}}const sd=()=>{},uo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},D_=[1e3,2e3,5e3,1e4],U_=1e4,k_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class z_{constructor(a,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Sd,this.transport=null,this.heartbeatIntervalMs=uo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=sd,this.ref=0,this.reconnectTimer=null,this.vsn=Sp,this.logger=sd,this.conn=null,this.sendBuffer=[],this.serializer=new j_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((i=s?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${a}/${Ed.websocket}`,this.httpEndpoint=Ry(a),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=b_.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const s=a.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const s=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const a=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,s,i){this.logger(a,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Bn.connecting:return _r.Connecting;case Bn.open:return _r.Open;case Bn.closing:return _r.Closing;default:return _r.Closed}}isConnected(){return this.connectionState()===_r.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,s={config:{}}){const i=`realtime:${a}`,o=this.getChannels().find(u=>u.topic===i);if(o)return o;{const u=new xs(`realtime:${a}`,s,this);return this.channels.push(u),u}}push(a){const{topic:s,event:i,payload:o,ref:u}=a,d=()=>{this.encode(a,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${s} ${i} (${u})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(S_,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},uo.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let s=this.channels.find(i=>i.topic===a&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${a}"`),s.unsubscribe())}_remove(a){this.channels=this.channels.filter(s=>s.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",p)}catch(b){this.log("error","error in heartbeat callback",b)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:o,payload:u,ref:d}=s,m=d?`(${d})`:"",g=u.status||"";this.log("receive",`${g} ${i} ${o} ${m}`.trim(),u),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(o,u,d)),this._triggerStateCallbacks("message",s)})}_clearTimer(a){var s;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===Bn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Bn.open||this.conn.readyState===Bn.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var s;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Da.error))}_appendParams(a,s){if(Object.keys(s).length===0)return a;const i=a.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${a}${i}${o}`}_workerObjectUrl(a){let s;if(a)s=a;else{const i=new Blob([k_],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(a,s=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(a=null){let s,i=!1;if(a)s=a,i=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),s=this.accessTokenValue}else s=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const u={access_token:s,version:x_};s&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(Da.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${a}`,s)})}_triggerStateCallbacks(a,s){try{this.stateChangeCallbacks[a].forEach(i=>{try{i(s)}catch(o){this.log("error",`error in ${a} callback`,o)}})}catch(i){this.log("error",`error triggering ${a} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Ny(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},uo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var s,i,o,u,d,m,g,p,b,v,S,x;switch(this.transport=(s=a?.transport)!==null&&s!==void 0?s:null,this.timeout=(i=a?.timeout)!==null&&i!==void 0?i:Sd,this.heartbeatIntervalMs=(o=a?.heartbeatIntervalMs)!==null&&o!==void 0?o:uo.HEARTBEAT_INTERVAL,this.worker=(u=a?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=a?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(m=a?.heartbeatCallback)!==null&&m!==void 0?m:sd,this.vsn=(g=a?.vsn)!==null&&g!==void 0?g:Sp,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=a?.reconnectAfterMs)!==null&&p!==void 0?p:(j=>D_[j-1]||U_),this.vsn){case jy:this.encode=(b=a?.encode)!==null&&b!==void 0?b:((j,O)=>O(JSON.stringify(j))),this.decode=(v=a?.decode)!==null&&v!==void 0?v:((j,O)=>O(JSON.parse(j)));break;case __:this.encode=(S=a?.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(x=a?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var Ul=class extends Error{constructor(n,a){super(n),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function M_(n,a,s){const i=new URL(a,n);if(s)for(const[o,u]of Object.entries(s))u!==void 0&&i.searchParams.set(o,u);return i.toString()}async function L_(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function q_(n){const a=n.fetchImpl??globalThis.fetch;return{async request({method:s,path:i,query:o,body:u,headers:d}){const m=M_(n.baseUrl,i,o),g=await L_(n.auth),p=await a(m,{method:s,headers:{...u?{"Content-Type":"application/json"}:{},...g,...d},body:u?JSON.stringify(u):void 0}),b=await p.text(),v=(p.headers.get("content-type")||"").includes("application/json"),S=v&&b?JSON.parse(b):b;if(!p.ok){const x=v?S:void 0,j=x?.error;throw new Ul(j?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:j?.type,icebergCode:j?.code,details:x})}return{status:p.status,headers:p.headers,data:S}}}}function co(n){return n.join("")}var B_=class{constructor(n,a=""){this.client=n,this.prefix=a}async listNamespaces(n){const a=n?{parent:co(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(n,a){const s={namespace:n.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${co(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${co(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${co(n.namespace)}`}),!0}catch(a){if(a instanceof Ul&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(n,a){try{return await this.createNamespace(n,a)}catch(s){if(s instanceof Ul&&s.status===409)return;throw s}}};function cs(n){return n.join("")}var $_=class{constructor(n,a="",s){this.client=n,this.prefix=a,this.accessDelegation=s}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cs(n.namespace)}/tables`})).data.identifiers}async createTable(n,a){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${cs(n.namespace)}/tables`,body:a,headers:s})).data.metadata}async updateTable(n,a){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${cs(n.namespace)}/tables/${n.name}`,body:a});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(n,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${cs(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(n){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cs(n.namespace)}/tables/${n.name}`,headers:a})).data.metadata}async tableExists(n){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${cs(n.namespace)}/tables/${n.name}`,headers:a}),!0}catch(s){if(s instanceof Ul&&s.status===404)return!1;throw s}}async createTableIfNotExists(n,a){try{return await this.createTable(n,a)}catch(s){if(s instanceof Ul&&s.status===409)return await this.loadTable({namespace:n.namespace,name:a.name});throw s}}},H_=class{constructor(n){let a="v1";n.catalogName&&(a+=`/${n.catalogName}`);const s=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=q_({baseUrl:s,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new B_(this.client,a),this.tableOps=new $_(this.client,a,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,a){return this.namespaceOps.createNamespace(n,a)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,a){return this.tableOps.createTable(n,a)}async updateTable(n,a){return this.tableOps.updateTable(n,a)}async dropTable(n,a){await this.tableOps.dropTable(n,a)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,a){return this.namespaceOps.createNamespaceIfNotExists(n,a)}async createTableIfNotExists(n,a){return this.tableOps.createTableIfNotExists(n,a)}},Co=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function it(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var P_=class extends Co{constructor(n,a,s){super(n),this.name="StorageApiError",this.status=a,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Nd=class extends Co{constructor(n,a){super(n),this.name="StorageUnknownError",this.originalError=a}};const Kd=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),V_=()=>Response,Td=n=>{if(Array.isArray(n))return n.map(s=>Td(s));if(typeof n=="function"||n!==Object(n))return n;const a={};return Object.entries(n).forEach(([s,i])=>{const o=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));a[o]=Td(i)}),a},G_=n=>{if(typeof n!="object"||n===null)return!1;const a=Object.getPrototypeOf(n);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},K_=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function kl(n){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},kl(n)}function Y_(n,a){if(kl(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,a);if(kl(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}function I_(n){var a=Y_(n,"string");return kl(a)=="symbol"?a:a+""}function J_(n,a,s){return(a=I_(a))in n?Object.defineProperty(n,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[a]=s,n}function Tp(n,a){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);a&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),s.push.apply(s,i)}return s}function Ne(n){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Tp(Object(s),!0).forEach(function(i){J_(n,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Tp(Object(s)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(s,i))})}return n}const ld=n=>{var a;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(a=n.error)===null||a===void 0?void 0:a.message)||JSON.stringify(n)},Q_=async(n,a,s)=>{n instanceof await V_()&&!s?.noResolveJson?n.json().then(i=>{const o=n.status||500,u=i?.statusCode||o+"";a(new P_(ld(i),o,u))}).catch(i=>{a(new Nd(ld(i),i))}):a(new Nd(ld(n),n))},X_=(n,a,s,i)=>{const o={method:n,headers:a?.headers||{}};return n==="GET"||!i?o:(G_(i)?(o.headers=Ne({"Content-Type":"application/json"},a?.headers),o.body=JSON.stringify(i)):o.body=i,a?.duplex&&(o.duplex=a.duplex),Ne(Ne({},o),s))};async function Vl(n,a,s,i,o,u){return new Promise((d,m)=>{n(s,X_(a,i,o,u)).then(g=>{if(!g.ok)throw g;return i?.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>Q_(g,m,i))})}async function zl(n,a,s,i){return Vl(n,"GET",a,s,i)}async function Ca(n,a,s,i,o){return Vl(n,"POST",a,i,o,s)}async function Rd(n,a,s,i,o){return Vl(n,"PUT",a,i,o,s)}async function F_(n,a,s,i){return Vl(n,"HEAD",a,Ne(Ne({},s),{},{noResolveJson:!0}),i)}async function Yd(n,a,s,i,o){return Vl(n,"DELETE",a,i,o,s)}var Z_=class{constructor(n,a){this.downloadFn=n,this.shouldThrowOnError=a}then(n,a){return this.execute().then(n,a)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(it(a))return{data:null,error:a};throw a}}};let Ay;Ay=Symbol.toStringTag;var W_=class{constructor(n,a){this.downloadFn=n,this.shouldThrowOnError=a,this[Ay]="BlobDownloadBuilder",this.promise=null}asStream(){return new Z_(this.downloadFn,this.shouldThrowOnError)}then(n,a){return this.getPromise().then(n,a)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(it(a))return{data:null,error:a};throw a}}};const eS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var tS=class{constructor(n,a={},s,i){this.shouldThrowOnError=!1,this.url=n,this.headers=a,this.bucketId=s,this.fetch=Kd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,a,s,i){var o=this;try{let u;const d=Ne(Ne({},Rp),i);let m=Ne(Ne({},o.headers),n==="POST"&&{"x-upsert":String(d.upsert)});const g=d.metadata;typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),g&&u.append("metadata",o.encodeMetadata(g)),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),g&&!u.has("metadata")&&u.append("metadata",o.encodeMetadata(g))):(u=s,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType,g&&(m["x-metadata"]=o.toBase64(o.encodeMetadata(g))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),i?.headers&&(m=Ne(Ne({},m),i.headers));const p=o._removeEmptyFolders(a),b=o._getFinalPath(p),v=await(n=="PUT"?Rd:Ca)(o.fetch,`${o.url}/object/${b}`,u,Ne({headers:m},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(it(u))return{data:null,error:u};throw u}}async upload(n,a,s){return this.uploadOrUpdate("POST",n,a,s)}async uploadToSignedUrl(n,a,s,i){var o=this;const u=o._removeEmptyFolders(n),d=o._getFinalPath(u),m=new URL(o.url+`/object/upload/sign/${d}`);m.searchParams.set("token",a);try{let g;const p=Ne({upsert:Rp.upsert},i),b=Ne(Ne({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&s instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",s)):typeof FormData<"u"&&s instanceof FormData?(g=s,g.append("cacheControl",p.cacheControl)):(g=s,b["cache-control"]=`max-age=${p.cacheControl}`,b["content-type"]=p.contentType),{data:{path:u,fullPath:(await Rd(o.fetch,m.toString(),g,{headers:b})).Key},error:null}}catch(g){if(o.shouldThrowOnError)throw g;if(it(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(n,a){var s=this;try{let i=s._getFinalPath(n);const o=Ne({},s.headers);a?.upsert&&(o["x-upsert"]="true");const u=await Ca(s.fetch,`${s.url}/object/upload/sign/${i}`,{},{headers:o}),d=new URL(s.url+u.url),m=d.searchParams.get("token");if(!m)throw new Co("No token returned by API");return{data:{signedUrl:d.toString(),path:n,token:m},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}}async update(n,a,s){return this.uploadOrUpdate("PUT",n,a,s)}async move(n,a,s){var i=this;try{return{data:await Ca(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:n,destinationKey:a,destinationBucket:s?.destinationBucket},{headers:i.headers}),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(it(o))return{data:null,error:o};throw o}}async copy(n,a,s){var i=this;try{return{data:{path:(await Ca(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:n,destinationKey:a,destinationBucket:s?.destinationBucket},{headers:i.headers})).Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(it(o))return{data:null,error:o};throw o}}async createSignedUrl(n,a,s){var i=this;try{let o=i._getFinalPath(n),u=await Ca(i.fetch,`${i.url}/object/sign/${o}`,Ne({expiresIn:a},s?.transform?{transform:s.transform}:{}),{headers:i.headers});const d=s?.download?`&download=${s.download===!0?"":s.download}`:"";return u={signedUrl:encodeURI(`${i.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(it(o))return{data:null,error:o};throw o}}async createSignedUrls(n,a,s){var i=this;try{const o=await Ca(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:a,paths:n},{headers:i.headers}),u=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(d=>Ne(Ne({},d),{},{signedUrl:d.signedURL?encodeURI(`${i.url}${d.signedURL}${u}`):null})),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(it(o))return{data:null,error:o};throw o}}download(n,a){const s=typeof a?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(a?.transform||{}),o=i?`?${i}`:"",u=this._getFinalPath(n),d=()=>zl(this.fetch,`${this.url}/${s}/${u}${o}`,{headers:this.headers,noResolveJson:!0});return new W_(d,this.shouldThrowOnError)}async info(n){var a=this;const s=a._getFinalPath(n);try{return{data:Td(await zl(a.fetch,`${a.url}/object/info/${s}`,{headers:a.headers})),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}}async exists(n){var a=this;const s=a._getFinalPath(n);try{return await F_(a.fetch,`${a.url}/object/${s}`,{headers:a.headers}),{data:!0,error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(it(i)&&i instanceof Nd){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}}getPublicUrl(n,a){const s=this._getFinalPath(n),i=[],o=a?.download?`download=${a.download===!0?"":a.download}`:"";o!==""&&i.push(o);const u=typeof a?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(a?.transform||{});d!==""&&i.push(d);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${s}${m}`)}}}async remove(n){var a=this;try{return{data:await Yd(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:n},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}async list(n,a,s){var i=this;try{const o=Ne(Ne(Ne({},eS),a),{},{prefix:n||""});return{data:await Ca(i.fetch,`${i.url}/object/list/${i.bucketId}`,o,{headers:i.headers},s),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(it(o))return{data:null,error:o};throw o}}async listV2(n,a){var s=this;try{const i=Ne({},n);return{data:await Ca(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,i,{headers:s.headers},a),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const a=[];return n.width&&a.push(`width=${n.width}`),n.height&&a.push(`height=${n.height}`),n.resize&&a.push(`resize=${n.resize}`),n.format&&a.push(`format=${n.format}`),n.quality&&a.push(`quality=${n.quality}`),a.join("&")}};const Oy="2.90.1",Cy={"X-Client-Info":`storage-js/${Oy}`};var aS=class{constructor(n,a={},s,i){this.shouldThrowOnError=!1;const o=new URL(n);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Ne(Ne({},Cy),a),this.fetch=Kd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var a=this;try{const s=a.listBucketOptionsToQueryString(n);return{data:await zl(a.fetch,`${a.url}/bucket${s}`,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}async getBucket(n){var a=this;try{return{data:await zl(a.fetch,`${a.url}/bucket/${n}`,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}async createBucket(n,a={public:!1}){var s=this;try{return{data:await Ca(s.fetch,`${s.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}}async updateBucket(n,a){var s=this;try{return{data:await Rd(s.fetch,`${s.url}/bucket/${n}`,{id:n,name:n,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}}async emptyBucket(n){var a=this;try{return{data:await Ca(a.fetch,`${a.url}/bucket/${n}/empty`,{},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}async deleteBucket(n){var a=this;try{return{data:await Yd(a.fetch,`${a.url}/bucket/${n}`,{},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(n){const a={};return n&&("limit"in n&&(a.limit=String(n.limit)),"offset"in n&&(a.offset=String(n.offset)),n.search&&(a.search=n.search),n.sortColumn&&(a.sortColumn=n.sortColumn),n.sortOrder&&(a.sortOrder=n.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},nS=class{constructor(n,a={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Ne(Ne({},Cy),a),this.fetch=Kd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var a=this;try{return{data:await Ca(a.fetch,`${a.url}/bucket`,{name:n},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}async listBuckets(n){var a=this;try{const s=new URLSearchParams;n?.limit!==void 0&&s.set("limit",n.limit.toString()),n?.offset!==void 0&&s.set("offset",n.offset.toString()),n?.sortColumn&&s.set("sortColumn",n.sortColumn),n?.sortOrder&&s.set("sortOrder",n.sortOrder),n?.search&&s.set("search",n.search);const i=s.toString(),o=i?`${a.url}/bucket?${i}`:`${a.url}/bucket`;return{data:await zl(a.fetch,o,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}async deleteBucket(n){var a=this;try{return{data:await Yd(a.fetch,`${a.url}/bucket/${n}`,{},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}from(n){var a=this;if(!K_(n))throw new Co("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new H_({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(s,{get(o,u){const d=o[u];return typeof d!="function"?d:async(...m)=>{try{return{data:await d.apply(o,m),error:null}}catch(g){if(i)throw g;return{data:null,error:g}}}}})}};const Id={"X-Client-Info":`storage-js/${Oy}`,"Content-Type":"application/json"};var Dy=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function la(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var id=class extends Dy{constructor(n,a,s){super(n),this.name="StorageVectorsApiError",this.status=a,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},rS=class extends Dy{constructor(n,a){super(n),this.name="StorageVectorsUnknownError",this.originalError=a}};const Jd=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),sS=n=>{if(typeof n!="object"||n===null)return!1;const a=Object.getPrototypeOf(n);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Ap=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),lS=async(n,a,s)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!s?.noResolveJson){const i=n.status||500,o=n;if(typeof o.json=="function")o.json().then(u=>{const d=u?.statusCode||u?.code||i+"";a(new id(Ap(u),i,d))}).catch(()=>{const u=i+"";a(new id(o.statusText||`HTTP ${i} error`,i,u))});else{const u=i+"";a(new id(o.statusText||`HTTP ${i} error`,i,u))}}else a(new rS(Ap(n),n))},iS=(n,a,s,i)=>{const o={method:n,headers:a?.headers||{}};return i?(sS(i)?(o.headers=Ne({"Content-Type":"application/json"},a?.headers),o.body=JSON.stringify(i)):o.body=i,Ne(Ne({},o),s)):o};async function oS(n,a,s,i,o,u){return new Promise((d,m)=>{n(s,iS(a,i,o,u)).then(g=>{if(!g.ok)throw g;if(i?.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>d(g)).catch(g=>lS(g,m,i))})}async function ia(n,a,s,i,o){return oS(n,"POST",a,i,o,s)}var uS=class{constructor(n,a={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Ne(Ne({},Id),a),this.fetch=Jd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var a=this;try{return{data:await ia(a.fetch,`${a.url}/CreateIndex`,n,{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(la(s))return{data:null,error:s};throw s}}async getIndex(n,a){var s=this;try{return{data:await ia(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:n,indexName:a},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(la(i))return{data:null,error:i};throw i}}async listIndexes(n){var a=this;try{return{data:await ia(a.fetch,`${a.url}/ListIndexes`,n,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(la(s))return{data:null,error:s};throw s}}async deleteIndex(n,a){var s=this;try{return{data:await ia(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:n,indexName:a},{headers:s.headers})||{},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(la(i))return{data:null,error:i};throw i}}},cS=class{constructor(n,a={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Ne(Ne({},Id),a),this.fetch=Jd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var a=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ia(a.fetch,`${a.url}/PutVectors`,n,{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(la(s))return{data:null,error:s};throw s}}async getVectors(n){var a=this;try{return{data:await ia(a.fetch,`${a.url}/GetVectors`,n,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(la(s))return{data:null,error:s};throw s}}async listVectors(n){var a=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await ia(a.fetch,`${a.url}/ListVectors`,n,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(la(s))return{data:null,error:s};throw s}}async queryVectors(n){var a=this;try{return{data:await ia(a.fetch,`${a.url}/QueryVectors`,n,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(la(s))return{data:null,error:s};throw s}}async deleteVectors(n){var a=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ia(a.fetch,`${a.url}/DeleteVectors`,n,{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(la(s))return{data:null,error:s};throw s}}},dS=class{constructor(n,a={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Ne(Ne({},Id),a),this.fetch=Jd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var a=this;try{return{data:await ia(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(la(s))return{data:null,error:s};throw s}}async getBucket(n){var a=this;try{return{data:await ia(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:n},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(la(s))return{data:null,error:s};throw s}}async listBuckets(n={}){var a=this;try{return{data:await ia(a.fetch,`${a.url}/ListVectorBuckets`,n,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(la(s))return{data:null,error:s};throw s}}async deleteBucket(n){var a=this;try{return{data:await ia(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(la(s))return{data:null,error:s};throw s}}},fS=class extends dS{constructor(n,a={}){super(n,a.headers||{},a.fetch)}from(n){return new hS(this.url,this.headers,n,this.fetch)}async createBucket(n){var a=()=>super.createBucket,s=this;return a().call(s,n)}async getBucket(n){var a=()=>super.getBucket,s=this;return a().call(s,n)}async listBuckets(n={}){var a=()=>super.listBuckets,s=this;return a().call(s,n)}async deleteBucket(n){var a=()=>super.deleteBucket,s=this;return a().call(s,n)}},hS=class extends uS{constructor(n,a,s,i){super(n,a,i),this.vectorBucketName=s}async createIndex(n){var a=()=>super.createIndex,s=this;return a().call(s,Ne(Ne({},n),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(n={}){var a=()=>super.listIndexes,s=this;return a().call(s,Ne(Ne({},n),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(n){var a=()=>super.getIndex,s=this;return a().call(s,s.vectorBucketName,n)}async deleteIndex(n){var a=()=>super.deleteIndex,s=this;return a().call(s,s.vectorBucketName,n)}index(n){return new mS(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},mS=class extends cS{constructor(n,a,s,i,o){super(n,a,o),this.vectorBucketName=s,this.indexName=i}async putVectors(n){var a=()=>super.putVectors,s=this;return a().call(s,Ne(Ne({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(n){var a=()=>super.getVectors,s=this;return a().call(s,Ne(Ne({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(n={}){var a=()=>super.listVectors,s=this;return a().call(s,Ne(Ne({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(n){var a=()=>super.queryVectors,s=this;return a().call(s,Ne(Ne({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(n){var a=()=>super.deleteVectors,s=this;return a().call(s,Ne(Ne({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},gS=class extends aS{constructor(n,a={},s,i){super(n,a,s,i)}from(n){return new tS(this.url,this.headers,n,this.fetch)}get vectors(){return new fS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new nS(this.url+"/iceberg",this.headers,this.fetch)}};const Uy="2.90.1",vs=30*1e3,Ad=3,od=Ad*vs,pS="http://localhost:9999",yS="supabase.auth.token",vS={"X-Client-Info":`gotrue-js/${Uy}`},Od="X-Supabase-Api-Version",ky={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wS=600*1e3;class Ml extends Error{constructor(a,s,i){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function pe(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class xS extends Ml{constructor(a,s,i){super(a,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function _S(n){return pe(n)&&n.name==="AuthApiError"}class Sr extends Ml{constructor(a,s){super(a),this.name="AuthUnknownError",this.originalError=s}}class fn extends Ml{constructor(a,s,i,o){super(a,i,o),this.name=s,this.status=i}}class ra extends fn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function SS(n){return pe(n)&&n.name==="AuthSessionMissingError"}class ds extends fn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fo extends fn{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class ho extends fn{constructor(a,s=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ES(n){return pe(n)&&n.name==="AuthImplicitGrantRedirectError"}class Op extends fn{constructor(a,s=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jS extends fn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Cd extends fn{constructor(a,s){super(a,"AuthRetryableFetchError",s,void 0)}}function ud(n){return pe(n)&&n.name==="AuthRetryableFetchError"}class Cp extends fn{constructor(a,s,i){super(a,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class Dd extends fn{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const wo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dp=` 	
\r=`.split(""),NS=(()=>{const n=new Array(128);for(let a=0;a<n.length;a+=1)n[a]=-1;for(let a=0;a<Dp.length;a+=1)n[Dp[a].charCodeAt(0)]=-2;for(let a=0;a<wo.length;a+=1)n[wo[a].charCodeAt(0)]=a;return n})();function Up(n,a,s){if(n!==null)for(a.queue=a.queue<<8|n,a.queuedBits+=8;a.queuedBits>=6;){const i=a.queue>>a.queuedBits-6&63;s(wo[i]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const i=a.queue>>a.queuedBits-6&63;s(wo[i]),a.queuedBits-=6}}function zy(n,a,s){const i=NS[n];if(i>-1)for(a.queue=a.queue<<6|i,a.queuedBits+=6;a.queuedBits>=8;)s(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function kp(n){const a=[],s=d=>{a.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=d=>{AS(d,i,s)};for(let d=0;d<n.length;d+=1)zy(n.charCodeAt(d),o,u);return a.join("")}function TS(n,a){if(n<=127){a(n);return}else if(n<=2047){a(192|n>>6),a(128|n&63);return}else if(n<=65535){a(224|n>>12),a(128|n>>6&63),a(128|n&63);return}else if(n<=1114111){a(240|n>>18),a(128|n>>12&63),a(128|n>>6&63),a(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function RS(n,a){for(let s=0;s<n.length;s+=1){let i=n.charCodeAt(s);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(n.charCodeAt(s+1)-56320&65535|o)+65536,s+=1}TS(i,a)}}function AS(n,a,s){if(a.utf8seq===0){if(n<=127){s(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){a.utf8seq=i;break}if(a.utf8seq===2)a.codepoint=n&31;else if(a.utf8seq===3)a.codepoint=n&15;else if(a.utf8seq===4)a.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|n&63,a.utf8seq-=1,a.utf8seq===0&&s(a.codepoint)}}function Ss(n){const a=[],s={queue:0,queuedBits:0},i=o=>{a.push(o)};for(let o=0;o<n.length;o+=1)zy(n.charCodeAt(o),s,i);return new Uint8Array(a)}function OS(n){const a=[];return RS(n,s=>a.push(s)),new Uint8Array(a)}function jr(n){const a=[],s={queue:0,queuedBits:0},i=o=>{a.push(o)};return n.forEach(o=>Up(o,s,i)),Up(null,s,i),a.join("")}function CS(n){return Math.round(Date.now()/1e3)+n}function DS(){return Symbol("auth-callback")}const Mt=()=>typeof window<"u"&&typeof document<"u",vr={tested:!1,writable:!1},My=()=>{if(!Mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vr.tested)return vr.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),vr.tested=!0,vr.writable=!0}catch{vr.tested=!0,vr.writable=!1}return vr.writable};function US(n){const a={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,u)=>{a[u]=o})}catch{}return s.searchParams.forEach((i,o)=>{a[o]=i}),a}const Ly=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),kS=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",bs=async(n,a,s)=>{await n.setItem(a,JSON.stringify(s))},br=async(n,a)=>{const s=await n.getItem(a);if(!s)return null;try{return JSON.parse(s)}catch{return s}},zt=async(n,a)=>{await n.removeItem(a)};class Do{constructor(){this.promise=new Do.promiseConstructor((a,s)=>{this.resolve=a,this.reject=s})}}Do.promiseConstructor=Promise;function cd(n){const a=n.split(".");if(a.length!==3)throw new Dd("Invalid JWT structure");for(let i=0;i<a.length;i++)if(!bS.test(a[i]))throw new Dd("JWT not in base64url format");return{header:JSON.parse(kp(a[0])),payload:JSON.parse(kp(a[1])),signature:Ss(a[2]),raw:{header:a[0],payload:a[1]}}}async function zS(n){return await new Promise(a=>{setTimeout(()=>a(null),n)})}function MS(n,a){return new Promise((i,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await n(u);if(!a(u,null,d)){i(d);return}}catch(d){if(!a(u,d)){o(d);return}}})()})}function LS(n){return("0"+n.toString(16)).substr(-2)}function qS(){const a=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let o="";for(let u=0;u<56;u++)o+=s.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(a),Array.from(a,LS).join("")}async function BS(n){const s=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(i);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function $S(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await BS(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fs(n,a,s=!1){const i=qS();let o=i;s&&(o+="/PASSWORD_RECOVERY"),await bs(n,`${a}-code-verifier`,o);const u=await $S(i);return[u,i===u?"plain":"s256"]}const HS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function PS(n){const a=n.headers.get(Od);if(!a||!a.match(HS))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function VS(n){if(!n)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(n<=a)throw new Error("JWT has expired")}function GS(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const KS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hs(n){if(!KS.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function dd(){const n={};return new Proxy(n,{get:(a,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function YS(n,a){return new Proxy(n,{get:(s,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const u=i.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,i,o)}return!a.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(s,i,o)}})}function zp(n){return JSON.parse(JSON.stringify(n))}const xr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),IS=[502,503,504];async function Mp(n){var a;if(!kS(n))throw new Cd(xr(n),0);if(IS.includes(n.status))throw new Cd(xr(n),n.status);let s;try{s=await n.json()}catch(u){throw new Sr(xr(u),u)}let i;const o=PS(n);if(o&&o.getTime()>=ky["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new Cp(xr(s),n.status,((a=s.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(i==="session_not_found")throw new ra}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new Cp(xr(s),n.status,s.weak_password.reasons);throw new xS(xr(s),n.status||500,i)}const JS=(n,a,s,i)=>{const o={method:n,headers:a?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),s))};async function je(n,a,s,i){var o;const u=Object.assign({},i?.headers);u[Od]||(u[Od]=ky["2024-01-01"].name),i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const d=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(d.redirect_to=i.redirectTo);const m=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",g=await QS(n,a,s+m,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(g):{data:Object.assign({},g),error:null}}async function QS(n,a,s,i,o,u){const d=JS(a,i,o,u);let m;try{m=await n(s,Object.assign({},d))}catch(g){throw console.error(g),new Cd(xr(g),0)}if(m.ok||await Mp(m),i?.noResolveJson)return m;try{return await m.json()}catch(g){await Mp(g)}}function Oa(n){var a;let s=null;ZS(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=CS(n.expires_in)));const i=(a=n.user)!==null&&a!==void 0?a:n;return{data:{session:s,user:i},error:null}}function Lp(n){const a=Oa(n);return!a.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(a.data.weak_password=n.weak_password),a}function Pn(n){var a;return{data:{user:(a=n.user)!==null&&a!==void 0?a:n},error:null}}function XS(n){return{data:n,error:null}}function FS(n){const{action_link:a,email_otp:s,hashed_token:i,redirect_to:o,verification_type:u}=n,d=Oo(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:s,hashed_token:i,redirect_to:o,verification_type:u},g=Object.assign({},d);return{data:{properties:m,user:g},error:null}}function qp(n){return n}function ZS(n){return n.access_token&&n.refresh_token&&n.expires_in}const fd=["global","local","others"];class WS{constructor({url:a="",headers:s={},fetch:i}){this.url=a,this.headers=s,this.fetch=Ly(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,s=fd[0]){if(fd.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fd.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(a,s={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Pn})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async generateLink(a){try{const{options:s}=a,i=Oo(a,["options"]),o=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:FS,redirectTo:s?.redirectTo})}catch(s){if(pe(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(a){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Pn})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async listUsers(a){var s,i,o,u,d,m,g;try{const p={nextPage:null,lastPage:0,total:0},b=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=a?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(u=(o=a?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:qp});if(b.error)throw b.error;const v=await b.json(),S=(d=b.headers.get("x-total-count"))!==null&&d!==void 0?d:0,x=(g=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return x.length>0&&(x.forEach(j=>{const O=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(j.split(";")[1].split("=")[1]);p[`${E}Page`]=O}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(pe(p))return{data:{users:[]},error:p};throw p}}async getUserById(a){hs(a);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Pn})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async updateUserById(a,s){hs(a);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:s,headers:this.headers,xform:Pn})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async deleteUser(a,s=!1){hs(a);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:s},xform:Pn})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async _listFactors(a){hs(a.userId);try{const{data:s,error:i}=await je(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:i}}catch(s){if(pe(s))return{data:null,error:s};throw s}}async _deleteFactor(a){hs(a.userId),hs(a.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}}async _listOAuthClients(a){var s,i,o,u,d,m,g;try{const p={nextPage:null,lastPage:0,total:0},b=await je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=a?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(u=(o=a?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:qp});if(b.error)throw b.error;const v=await b.json(),S=(d=b.headers.get("x-total-count"))!==null&&d!==void 0?d:0,x=(g=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return x.length>0&&(x.forEach(j=>{const O=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(j.split(";")[1].split("=")[1]);p[`${E}Page`]=O}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(pe(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(a){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(pe(s))return{data:null,error:s};throw s}}async _getOAuthClient(a){try{return await je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(pe(s))return{data:null,error:s};throw s}}async _updateOAuthClient(a,s){try{return await je(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(a){try{return await je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(a){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(pe(s))return{data:null,error:s};throw s}}}function Bp(n={}){return{getItem:a=>n[a]||null,setItem:(a,s)=>{n[a]=s},removeItem:a=>{delete n[a]}}}const ms={debug:!!(globalThis&&My()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qy extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class eE extends qy{}async function tE(n,a,s){ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,a);const i=new globalThis.AbortController;return a>0&&setTimeout(()=>{i.abort(),ms.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await s()}finally{ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(a===0)throw ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new eE(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ms.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function aE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function By(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function nE(n){return parseInt(n,16)}function rE(n){const a=new TextEncoder().encode(n);return"0x"+Array.from(a,i=>i.toString(16).padStart(2,"0")).join("")}function sE(n){var a;const{chainId:s,domain:i,expirationTime:o,issuedAt:u=new Date,nonce:d,notBefore:m,requestId:g,resources:p,scheme:b,uri:v,version:S}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((a=n.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const x=By(n.address),j=b?`${b}://${i}`:i,O=n.statement?`${n.statement}
`:"",E=`${j} wants you to sign in with your Ethereum account:
${x}

${O}`;let C=`URI: ${v}
Version: ${S}
Chain ID: ${s}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),m&&(C+=`
Not Before: ${m.toISOString()}`),g&&(C+=`
Request ID: ${g}`),p){let D=`
Resources:`;for(const T of p){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);D+=`
- ${T}`}C+=D}return`${E}
${C}`}class Et extends Error{constructor({message:a,code:s,cause:i,name:o}){var u;super(a,{cause:i}),this.__isWebAuthnError=!0,this.name=(u=o??(i instanceof Error?i.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=s}}class xo extends Et{constructor(a,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:a}),this.name="WebAuthnUnknownError",this.originalError=s}}function lE({error:n,options:a}){var s,i,o;const{publicKey:u}=a;if(!u)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=u.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(a.mediation==="conditional"&&((i=u.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Et({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return u.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const d=window.location.hostname;if($y(d)){if(u.rp.id!==d)return new Et({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function iE({error:n,options:a}){const{publicKey:s}=a;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Et({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if($y(i)){if(s.rpId!==i)return new Et({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class oE{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const uE=new oE;function cE(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:a,user:s,excludeCredentials:i}=n,o=Oo(n,["challenge","user","excludeCredentials"]),u=Ss(a).buffer,d=Object.assign(Object.assign({},s),{id:Ss(s.id).buffer}),m=Object.assign(Object.assign({},o),{challenge:u,user:d});if(i&&i.length>0){m.excludeCredentials=new Array(i.length);for(let g=0;g<i.length;g++){const p=i[g];m.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:Ss(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return m}function dE(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:a,allowCredentials:s}=n,i=Oo(n,["challenge","allowCredentials"]),o=Ss(a).buffer,u=Object.assign(Object.assign({},i),{challenge:o});if(s&&s.length>0){u.allowCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const m=s[d];u.allowCredentials[d]=Object.assign(Object.assign({},m),{id:Ss(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function fE(n){var a;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:jr(new Uint8Array(n.response.attestationObject)),clientDataJSON:jr(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(a=s.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function hE(n){var a;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,i=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:jr(new Uint8Array(o.authenticatorData)),clientDataJSON:jr(new Uint8Array(o.clientDataJSON)),signature:jr(new Uint8Array(o.signature)),userHandle:o.userHandle?jr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(a=s.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function $y(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function $p(){var n,a;return!!(Mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function mE(n){try{const a=await navigator.credentials.create(n);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new xo("Browser returned unexpected credential type",a)}:{data:null,error:new xo("Empty credential response",a)}}catch(a){return{data:null,error:lE({error:a,options:n})}}}async function gE(n){try{const a=await navigator.credentials.get(n);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new xo("Browser returned unexpected credential type",a)}:{data:null,error:new xo("Empty credential response",a)}}catch(a){return{data:null,error:iE({error:a,options:n})}}}const pE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},yE={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _o(...n){const a=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),s=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of n)if(o)for(const u in o){const d=o[u];if(d!==void 0)if(Array.isArray(d))i[u]=d;else if(s(d))i[u]=d;else if(a(d)){const m=i[u];a(m)?i[u]=_o(m,d):i[u]=_o(d)}else i[u]=d}return i}function vE(n,a){return _o(pE,n,a||{})}function bE(n,a){return _o(yE,n,a||{})}class wE{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:s,friendlyName:i,signal:o},u){try{const{data:d,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:s});if(!d)return{data:null,error:m};const g=o??uE.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:p}=d.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${i}`),p.displayName||(p.displayName=p.name)}switch(d.webauthn.type){case"create":{const p=vE(d.webauthn.credential_options.publicKey,u?.create),{data:b,error:v}=await mE({publicKey:p,signal:g});return b?{data:{factorId:a,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:b}},error:null}:{data:null,error:v}}case"request":{const p=bE(d.webauthn.credential_options.publicKey,u?.request),{data:b,error:v}=await gE(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:p,signal:g}));return b?{data:{factorId:a,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:b}},error:null}:{data:null,error:v}}}}catch(d){return pe(d)?{data:null,error:d}:{data:null,error:new Sr("Unexpected error in challenge",d)}}}async _verify({challengeId:a,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:a,webauthn:i})}async _authenticate({factorId:a,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!s)return{data:null,error:new Ml("rpId is required for WebAuthn authentication")};try{if(!$p())return{data:null,error:new Sr("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this.challenge({factorId:a,webauthn:{rpId:s,rpOrigins:i},signal:o},{request:u});if(!d)return{data:null,error:m};const{webauthn:g}=d;return this._verify({factorId:a,challengeId:d.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:i,credential_response:g.credential_response}})}catch(d){return pe(d)?{data:null,error:d}:{data:null,error:new Sr("Unexpected error in authenticate",d)}}}async _register({friendlyName:a,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!s)return{data:null,error:new Ml("rpId is required for WebAuthn registration")};try{if(!$p())return{data:null,error:new Sr("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this._enroll({friendlyName:a});if(!d)return await this.client.mfa.listFactors().then(b=>{var v;return(v=b.data)===null||v===void 0?void 0:v.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===a&&S.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:m};const{data:g,error:p}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:o},{create:u});return g?this._verify({factorId:d.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:i,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(d){return pe(d)?{data:null,error:d}:{data:null,error:new Sr("Unexpected error in register",d)}}}}aE();const xE={url:pS,storageKey:yS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Hp(n,a,s){return await s()}const gs={};class Ll{get jwks(){var a,s;return(s=(a=gs[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(a){gs[this.storageKey]=Object.assign(Object.assign({},gs[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,s;return(s=(a=gs[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){gs[this.storageKey]=Object.assign(Object.assign({},gs[this.storageKey]),{cachedAt:a})}constructor(a){var s,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},xE),a);if(this.storageKey=u.storageKey,this.instanceID=(s=Ll.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Ll.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Mt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new WS({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Ly(u.fetch),this.lock=u.lock||Hp,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&Mt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=tE:this.lock=Hp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wE(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:My()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bp(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Bp(this.memoryStorage)),Mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Uy}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let s={},i="none";if(Mt()&&(s=US(window.location.href),this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce")),Mt()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:u}=await this._getSessionFromURL(s,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),ES(u)){const g=(a=u.details)===null||a===void 0?void 0:a.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:d,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",m),await this._saveSession(d),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return pe(s)?this._returnResult({error:s}):this._returnResult({error:new Sr("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var s,i,o;try{const u=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=a?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=a?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Oa}),{data:d,error:m}=u;if(m||!d)return this._returnResult({data:{user:null,session:null},error:m});const g=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(u){if(pe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(a){var s,i,o;try{let u;if("email"in a){const{email:b,password:v,options:S}=a;let x=null,j=null;this.flowType==="pkce"&&([x,j]=await fs(this.storage,this.storageKey)),u=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:b,password:v,data:(s=S?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:x,code_challenge_method:j},xform:Oa})}else if("phone"in a){const{phone:b,password:v,options:S}=a;u=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:v,data:(i=S?.data)!==null&&i!==void 0?i:{},channel:(o=S?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:Oa})}else throw new fo("You must provide either an email or phone number and a password");const{data:d,error:m}=u;if(m||!d)return await zt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const g=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(u){if(await zt(this.storage,`${this.storageKey}-code-verifier`),pe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(a){try{let s;if("email"in a){const{email:u,password:d,options:m}=a;s=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Lp})}else if("phone"in a){const{phone:u,password:d,options:m}=a;s=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Lp})}else throw new fo("You must provide either an email or phone number and a password");const{data:i,error:o}=s;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const u=new ds;return this._returnResult({data:{user:null,session:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(s){if(pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(a){var s,i,o,u;return await this._handleProviderSignIn(a.provider,{redirectTo:(s=a.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=a.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=a.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=a.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:s}=a;switch(s){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(a){var s,i,o,u,d,m,g,p,b,v,S;let x,j;if("message"in a)x=a.message,j=a.signature;else{const{chain:O,wallet:E,statement:C,options:D}=a;let T;if(Mt())if(typeof E=="object")T=E;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")T=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=E}const V=new URL((s=D?.url)!==null&&s!==void 0?s:window.location.href),Z=await T.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Z||Z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=By(Z[0]);let N=(i=D?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!N){const F=await T.request({method:"eth_chainId"});N=nE(F)}const B={domain:V.host,address:Y,statement:C,uri:V.href,version:"1",chainId:N,nonce:(o=D?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(d=(u=D?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(m=D?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=D?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=D?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(b=D?.signInWithEthereum)===null||b===void 0?void 0:b.resources};x=sE(B),j=await T.request({method:"personal_sign",params:[rE(x),Y]})}try{const{data:O,error:E}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:j},!((v=a.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(S=a.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Oa});if(E)throw E;if(!O||!O.session||!O.user){const C=new ds;return this._returnResult({data:{user:null,session:null},error:C})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:E})}catch(O){if(pe(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async signInWithSolana(a){var s,i,o,u,d,m,g,p,b,v,S,x;let j,O;if("message"in a)j=a.message,O=a.signature;else{const{chain:E,wallet:C,statement:D,options:T}=a;let V;if(Mt())if(typeof C=="object")V=C;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))V=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=C}const Z=new URL((s=T?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in V&&V.signIn){const Y=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:Z.host,uri:Z.href}),D?{statement:D}:null));let N;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")N=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)N=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)j=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),O=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${Z.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${Z.href}`,`Issued At: ${(o=(i=T?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=T?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((d=T?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((m=T?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((g=T?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((p=T?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((v=(b=T?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||v===void 0)&&v.length?["Resources",...T.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const Y=await V.signMessage(new TextEncoder().encode(j),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=Y}}try{const{data:E,error:C}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:jr(O)},!((S=a.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(x=a.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Oa});if(C)throw C;if(!E||!E.session||!E.user){const D=new ds;return this._returnResult({data:{user:null,session:null},error:D})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:C})}catch(E){if(pe(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(a){const s=await br(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(s??"").split("/");try{if(!i&&this.flowType==="pkce")throw new jS;const{data:u,error:d}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:i},xform:Oa});if(await zt(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const m=new ds;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:d})}catch(u){if(await zt(this.storage,`${this.storageKey}-code-verifier`),pe(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(a){try{const{options:s,provider:i,token:o,access_token:u,nonce:d}=a,m=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Oa}),{data:g,error:p}=m;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const b=new ds;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(s){if(pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(a){var s,i,o,u,d;try{if("email"in a){const{email:m,options:g}=a;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await fs(this.storage,this.storageKey));const{error:v}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(i=g?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:p,code_challenge_method:b},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in a){const{phone:m,options:g}=a,{data:p,error:b}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=g?.data)!==null&&o!==void 0?o:{},create_user:(u=g?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(d=g?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:b})}throw new fo("You must provide either an email or phone number.")}catch(m){if(await zt(this.storage,`${this.storageKey}-code-verifier`),pe(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var s,i;try{let o,u;"options"in a&&(o=(s=a.options)===null||s===void 0?void 0:s.redirectTo,u=(i=a.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:m}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:Oa});if(m)throw m;if(!d)throw new Error("An error occurred on token verification.");const g=d.session,p=d.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(o){if(pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(a){var s,i,o,u,d;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await fs(this.storage,this.storageKey));const p=await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(i=(s=a.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=a?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:XS});return!((u=p.data)===null||u===void 0)&&u.url&&Mt()&&!(!((d=a.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(m){if(await zt(this.storage,`${this.storageKey}-code-verifier`),pe(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)throw i;if(!s)throw new ra;const{error:o}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(a){if(pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const s=`${this.url}/resend`;if("email"in a){const{email:i,type:o,options:u}=a,{error:d}=await je(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in a){const{phone:i,type:o,options:u}=a,{data:d,error:m}=await je(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:m})}throw new fo("You must provide either an email or phone number and a type")}catch(s){if(pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(a,s){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await a(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const s=await br(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?a=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const i=a.expires_at?a.expires_at*1e3-Date.now()<od:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",a.expires_at),!i){if(this.userStorage){const d=await br(this.userStorage,this.storageKey+"-user");d?.user?a.user=d.user:a.user=dd()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};a.user=YS(a.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:o,error:u}=await this._callRefreshToken(a.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(a){try{return a?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Pn}):await this._useSession(async s=>{var i,o,u;const{data:d,error:m}=s;if(m)throw m;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ra}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:Pn})})}catch(s){if(pe(s))return SS(s)&&(await this._removeSession(),await zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(a,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,s))}async _updateUser(a,s={}){try{return await this._useSession(async i=>{const{data:o,error:u}=i;if(u)throw u;if(!o.session)throw new ra;const d=o.session;let m=null,g=null;this.flowType==="pkce"&&a.email!=null&&([m,g]=await fs(this.storage,this.storageKey));const{data:p,error:b}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:g}),jwt:d.access_token,xform:Pn});if(b)throw b;return d.user=p.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(i){if(await zt(this.storage,`${this.storageKey}-code-verifier`),pe(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new ra;const s=Date.now()/1e3;let i=s,o=!0,u=null;const{payload:d}=cd(a.access_token);if(d.exp&&(i=d.exp,o=i<=s),o){const{data:m,error:g}=await this._callRefreshToken(a.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:g}=await this._getUser(a.access_token);if(g)throw g;u={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(s){if(pe(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async s=>{var i;if(!a){const{data:d,error:m}=s;if(m)throw m;a=(i=d.session)!==null&&i!==void 0?i:void 0}if(!a?.refresh_token)throw new ra;const{data:o,error:u}=await this._callRefreshToken(a.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(a,s){try{if(!Mt())throw new ho("No browser detected.");if(a.error||a.error_description||a.error_code)throw new ho(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Op("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ho("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Op("No code detected.");const{data:D,error:T}=await this._exchangeCodeForSession(a.code);if(T)throw T;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:u,refresh_token:d,expires_in:m,expires_at:g,token_type:p}=a;if(!u||!m||!d||!p)throw new ho("No session defined in URL");const b=Math.round(Date.now()/1e3),v=parseInt(m);let S=b+v;g&&(S=parseInt(g));const x=S-b;x*1e3<=vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${v}s`);const j=S-v;b-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,S,b):b-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,S,b);const{data:O,error:E}=await this._getUser(u);if(E)throw E;const C={provider_token:i,provider_refresh_token:o,access_token:u,expires_in:v,expires_at:S,refresh_token:d,token_type:p,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:a.type},error:null})}catch(i){if(pe(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const s=await br(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&s)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:o,error:u}=s;if(u)return this._returnResult({error:u});const d=(i=o.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:m}=await this.admin.signOut(d,a);if(m&&!(_S(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const s=DS(),i={id:s,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(a){return await this._useSession(async s=>{var i,o;try{const{data:{session:u},error:d}=s;if(d)throw d;await((i=this.stateChangeEmitters.get(a))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",a,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(a))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",u),console.error(u)}})}async resetPasswordForEmail(a,s={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await fs(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(await zt(this.storage,`${this.storageKey}-code-verifier`),pe(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var a;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(a=s.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var s;try{const{data:i,error:o}=await this._useSession(async u=>{var d,m,g,p,b;const{data:v,error:S}=u;if(S)throw S;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(d=a.options)===null||d===void 0?void 0:d.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=a.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",x,{headers:this.headers,jwt:(b=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&b!==void 0?b:void 0})});if(o)throw o;return Mt()&&!(!((s=a.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:a.provider,url:i?.url},error:null})}catch(i){if(pe(i))return this._returnResult({data:{provider:a.provider,url:null},error:i});throw i}}async linkIdentityIdToken(a){return await this._useSession(async s=>{var i;try{const{error:o,data:{session:u}}=s;if(o)throw o;const{options:d,provider:m,token:g,access_token:p,nonce:b}=a,v=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=u?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:m,id_token:g,access_token:p,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Oa}),{data:S,error:x}=v;return x?this._returnResult({data:{user:null,session:null},error:x}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new ds}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:x}))}catch(o){if(await zt(this.storage,`${this.storageKey}-code-verifier`),pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(a){try{return await this._useSession(async s=>{var i,o;const{data:u,error:d}=s;if(d)throw d;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(o=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(a){const s=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await MS(async o=>(o>0&&await zS(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Oa})),(o,u)=>{const d=200*Math.pow(2,o);return u&&ud(u)&&Date.now()+d-i<vs})}catch(i){if(this._debug(s,"error",i),pe(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(s,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",s,"url",i),Mt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:a,url:i},error:null}}async _recoverAndRefresh(){var a,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await br(this.storage,this.storageKey);if(o&&this.userStorage){let d=await br(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await bs(this.userStorage,this.storageKey+"-user",d)),o.user=(a=d?.user)!==null&&a!==void 0?a:dd()}else if(o&&!o.user&&!o.user){const d=await br(this.storage,this.storageKey+"-user");d&&d?.user?(o.user=d.user,await zt(this.storage,this.storageKey+"-user"),await bs(this.storage,this.storageKey,o)):o.user=dd()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const u=((s=o.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<od;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${od}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),ud(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:m}=await this._getUser(o.access_token);!m&&d?.user?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(i,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(a){var s,i;if(!a)throw new ra;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Do;const{data:u,error:d}=await this._refreshAccessToken(a);if(d)throw d;if(!u.session)throw new ra;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={data:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(o,"error",u),pe(u)){const d={data:null,error:u};return ud(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(a,s,i=!0){const o=`#_notifyAllSubscribers(${a})`;this._debug(o,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:a,session:s});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,s)}catch(g){u.push(g)}});if(await Promise.all(d),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await zt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},a),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await bs(this.userStorage,this.storageKey+"-user",{user:s.user});const o=Object.assign({},s);delete o.user;const u=zp(o);await bs(this.storage,this.storageKey,u)}else{const o=zp(s);await bs(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await zt(this.storage,this.storageKey),await zt(this.storage,this.storageKey+"-code-verifier"),await zt(this.storage,this.storageKey+"-user"),this.userStorage&&await zt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&Mt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),vs);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-a)/vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${vs}ms, refresh threshold is ${Ad} ticks`),o<=Ad&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof qy)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const s=`#_onVisibilityChanged(${a})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,s,i){const o=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,d]=await fs(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(m.toString())}if(i?.queryParams){const u=new URLSearchParams(i.queryParams);o.push(u.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${a}?${o.join("&")}`}async _unenroll(a){try{return await this._useSession(async s=>{var i;const{data:o,error:u}=s;return u?this._returnResult({data:null,error:u}):await je(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(a){try{return await this._useSession(async s=>{var i,o;const{data:u,error:d}=s;if(d)return this._returnResult({data:null,error:d});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:g,error:p}=await je(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(a.factorType==="totp"&&g.type==="totp"&&(!((o=g?.totp)===null||o===void 0)&&o.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var i;const{data:o,error:u}=s;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?fE(a.webauthn.credential_response):hE(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:g}=await je(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:d,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var i;const{data:o,error:u}=s;if(u)return this._returnResult({data:null,error:u});const d=await je(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(d.error)return d;const{data:m}=d;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:cE(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:dE(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(a){const{data:s,error:i}=await this._challenge({factorId:a.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:a.factorId,challengeId:s.id,code:a.code})}async _listFactors(){var a;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(a=s?.factors)!==null&&a!==void 0?a:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var a,s;const{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=cd(i.access_token);let d=null;u.aal&&(d=u.aal);let m=d;((s=(a=i.user.factors)===null||a===void 0?void 0:a.filter(b=>b.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(m="aal2");const p=u.amr||[];return{data:{currentLevel:d,nextLevel:m,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async s=>{const{data:{session:i},error:o}=s;return o?this._returnResult({data:null,error:o}):i?await je(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new ra})})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(a,s){try{return await this._useSession(async i=>{const{data:{session:o},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new ra});const d=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&Mt()&&!s?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(a,s){try{return await this._useSession(async i=>{const{data:{session:o},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new ra});const d=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&Mt()&&!s?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;return i?this._returnResult({data:null,error:i}):s?await je(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ra})})}catch(a){if(pe(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async s=>{const{data:{session:i},error:o}=s;return o?this._returnResult({data:null,error:o}):i?(await je(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ra})})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(a,s={keys:[]}){let i=s.keys.find(m=>m.kid===a);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(m=>m.kid===a),i&&this.jwks_cached_at+wS>o)return i;const{data:u,error:d}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,i=u.keys.find(m=>m.kid===a),!i)?null:i}async getClaims(a,s={}){try{let i=a;if(!i){const{data:x,error:j}=await this.getSession();if(j||!x.session)return this._returnResult({data:null,error:j});i=x.session.access_token}const{header:o,payload:u,signature:d,raw:{header:m,payload:g}}=cd(i);s?.allowExpired||VS(u.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!p){const{error:x}=await this.getUser(i);if(x)throw x;return{data:{claims:u,header:o,signature:d},error:null}}const b=GS(o.alg),v=await crypto.subtle.importKey("jwk",p,b,!0,["verify"]);if(!await crypto.subtle.verify(b,v,d,OS(`${m}.${g}`)))throw new Dd("Invalid JWT signature");return{data:{claims:u,header:o,signature:d},error:null}}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}}Ll.nextInstanceID={};const _E=Ll,SE="2.90.1";let Nl="";typeof Deno<"u"?Nl="deno":typeof document<"u"?Nl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nl="react-native":Nl="node";const EE={"X-Client-Info":`supabase-js-${Nl}/${SE}`},jE={headers:EE},NE={schema:"public"},TE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},RE={};function ql(n){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ql(n)}function AE(n,a){if(ql(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,a);if(ql(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}function OE(n){var a=AE(n,"string");return ql(a)=="symbol"?a:a+""}function CE(n,a,s){return(a=OE(a))in n?Object.defineProperty(n,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[a]=s,n}function Pp(n,a){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);a&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),s.push.apply(s,i)}return s}function ft(n){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Pp(Object(s),!0).forEach(function(i){CE(n,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Pp(Object(s)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(s,i))})}return n}const DE=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),UE=()=>Headers,kE=(n,a,s)=>{const i=DE(s),o=UE();return async(u,d)=>{var m;const g=(m=await a())!==null&&m!==void 0?m:n;let p=new o(d?.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),i(u,ft(ft({},d),{},{headers:p}))}};function zE(n){return n.endsWith("/")?n:n+"/"}function ME(n,a){var s,i;const{db:o,auth:u,realtime:d,global:m}=n,{db:g,auth:p,realtime:b,global:v}=a,S={db:ft(ft({},g),o),auth:ft(ft({},p),u),realtime:ft(ft({},b),d),storage:{},global:ft(ft(ft({},v),m),{},{headers:ft(ft({},(s=v?.headers)!==null&&s!==void 0?s:{}),(i=m?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return n.accessToken?S.accessToken=n.accessToken:delete S.accessToken,S}function LE(n){const a=n?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(zE(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var qE=class extends _E{constructor(n){super(n)}},BE=class{constructor(n,a,s){var i,o;this.supabaseUrl=n,this.supabaseKey=a;const u=LE(n);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,m={db:NE,realtime:RE,auth:ft(ft({},TE),{},{storageKey:d}),global:jE},g=ME(s??{},m);if(this.storageKey=(i=g.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=g.global.headers)!==null&&o!==void 0?o:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(b,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=g.auth)!==null&&p!==void 0?p:{},this.headers,g.global.fetch)}this.fetch=kE(a,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(ft({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new v_(new URL("rest/v1",u).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new gS(this.storageUrl.href,this.headers,this.fetch,s?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new h_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,a={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,a,s)}channel(n,a={config:{}}){return this.realtime.channel(n,a)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,a,s;if(n.accessToken)return await n.accessToken();const{data:i}=await n.auth.getSession();return(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:a,detectSessionInUrl:s,storage:i,userStorage:o,storageKey:u,flowType:d,lock:m,debug:g,throwOnError:p},b,v){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qE({url:this.authUrl.href,headers:ft(ft({},S),b),storageKey:u,autoRefreshToken:n,persistSession:a,detectSessionInUrl:s,storage:i,userStorage:o,flowType:d,lock:m,debug:g,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new z_(this.realtimeUrl.href,ft(ft({},n),{},{params:ft(ft({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a?.access_token)})}_handleTokenChanged(n,a,s){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const $E=(n,a,s)=>new BE(n,a,s);function HE(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const a=n.version;if(a==null)return!1;const s=a.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}HE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const PE="https://uatoxkofrxxbvipkcwve.supabase.co",VE="sb_publishable_ROQGNPaXzIAYx7ww3BaGrQ_PJhbTxJq",W=$E(PE,VE);window.supabase=W;const So=()=>{const[n,a]=_.useState([]),[s,i]=_.useState(!0),[o,u]=_.useState(!1),d=async()=>{i(!0);const{data:m,error:g}=await W.from("admin_messages").select("*").order("created_at",{ascending:!1});g?(console.error("Fetch messages error:",g.message),a([])):a(m||[]),i(!1)};return _.useEffect(()=>{d()},[]),h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>u(!o),className:"relative p-2 hover:bg-gray-100 rounded-full transition",title:"Admin Messages",children:[h.jsx(Bx,{className:"w-5 h-5 text-gray-700"}),n.length>0&&h.jsx("span",{className:"absolute top-0 right-0 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:n.length>9?"9+":n.length})]}),o&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-96 overflow-y-auto",children:[h.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-green-600 to-green-700 text-white p-4 flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-bold",children:" Admin Messages"}),h.jsx("button",{onClick:()=>u(!1),className:"hover:bg-green-800 p-1 rounded transition",children:h.jsx(Ao,{className:"w-6 h-6"})})]}),h.jsx("div",{className:"p-4",children:s?h.jsx("div",{className:"text-center text-gray-500 py-8",children:"Loading messages..."}):n.length===0?h.jsx("div",{className:"text-center text-gray-500 py-8",children:"No admin messages"}):h.jsx("div",{className:"space-y-4",children:n.map(m=>h.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-blue-50 border-l-4 border-green-600 rounded-lg hover:shadow-md transition",children:[h.jsx("h3",{className:"font-bold text-lg text-green-800 mb-2",children:m.title}),h.jsx("p",{className:"text-gray-700 text-sm mb-3",children:m.content}),h.jsxs("p",{className:"text-xs text-gray-500",children:[" ",new Date(m.created_at).toLocaleDateString()," at"," ",new Date(m.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]},m.id))})}),h.jsx("div",{className:"sticky bottom-0 bg-gray-100 p-4 flex justify-end",children:h.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition font-medium",children:"Close"})})]})})]})},Hy=_.createContext(),GE=({children:n})=>{const[a,s]=_.useState([]),i=m=>{s(g=>g.find(b=>b.id===m.id)?g.map(b=>b.id===m.id?{...b,qty:b.qty+1}:b):[...g,{...m,qty:1}])},o=m=>{s(g=>g.map(p=>p.id===m?{...p,qty:p.qty-1}:p).filter(p=>p.qty>0))},u=m=>{s(g=>g.filter(p=>p.id!==m))},d=a.reduce((m,g)=>m+g.price*g.qty,0);return h.jsx(Hy.Provider,{value:{cartItems:a,addToCart:i,removeFromCart:o,deleteItem:u,totalAmount:d},children:n})},Tr=()=>_.useContext(Hy),KE=()=>{const n=Ha(),{cartItems:a}=Tr(),s=a.reduce((Y,N)=>Y+N.qty,0),[i,o]=_.useState(!1),[u,d]=_.useState(!1),[m,g]=_.useState(!1),[p,b]=_.useState(!1),[v,S]=_.useState(!1),[x,j]=_.useState(!0),[O,E]=_.useState(null),[C,D]=_.useState(null),T=_.useRef(null),V=_.useRef(null);_.useEffect(()=>{const Y=()=>o(window.scrollY>50);return window.addEventListener("scroll",Y),()=>window.removeEventListener("scroll",Y)},[]),_.useEffect(()=>{(async()=>{j(!0);try{const{data:{session:B}}=await W.auth.getSession(),F=B?.user??null;if(console.log(" Current User:",F),E(F),F){const{data:ce,error:ae}=await W.from("profiles").select("*").eq("id",F.id).maybeSingle();console.log(" Profile Data:",ce),ae&&console.error(" Profile fetch error:",ae),D(ce||null)}else D(null)}catch(B){console.error(" Fetch user error:",B)}finally{j(!1)}})();const{data:N}=W.auth.onAuthStateChange(async(B,F)=>{console.log(" Auth state changed:",B);const ce=F?.user??null;if(E(ce),ce){const{data:ae,error:z}=await W.from("profiles").select("*").eq("id",ce.id).maybeSingle();console.log(" Updated Profile:",ae),z&&console.error(" Profile update error:",z),D(ae||null)}else D(null)});return()=>{N.subscription.unsubscribe()}},[]),_.useEffect(()=>{const Y=N=>{T.current&&!T.current.contains(N.target)&&g(!1),V.current&&!V.current.contains(N.target)&&b(!1)};return document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[]);const Z=async()=>{S(!0);try{localStorage.removeItem("isAdmin");const{error:Y}=await W.auth.signOut();Y&&console.error("Logout error:",Y)}catch(Y){console.error("Unexpected logout error:",Y)}finally{E(null),D(null),n("/userlogin",{replace:!0}),setTimeout(()=>{window.location.pathname!=="/userlogin"&&window.location.assign("/userlogin")},150),S(!1)}};return h.jsxs(h.Fragment,{children:[h.jsx("header",{className:`fixed top-0 left-0 w-full z-40 transition ${i?"bg-white shadow-md":"bg-transparent"}`,children:h.jsxs("div",{className:`mx-auto flex items-center justify-between px-6 py-4 transition ${i?"max-w-full":"max-w-6xl bg-white rounded-full shadow-lg mt-4"}`,children:[h.jsx("img",{src:"https://ik.imagekit.io/hhqmo4nv4/MERN/logo.svg",alt:"Logo",className:"h-10 cursor-pointer",onClick:()=>n("/")}),h.jsxs("nav",{className:"hidden md:flex gap-6 font-medium items-center",children:[h.jsx(Lt,{to:"/",children:"Home"}),h.jsxs("div",{className:"relative",ref:T,children:[h.jsx("button",{onClick:()=>g(!m),children:"Sales "}),m&&h.jsxs("div",{className:"absolute top-full mt-2 w-44 bg-white shadow rounded-lg",children:[h.jsx(Lt,{to:"/seeds",className:"block px-4 py-2 hover:text-green-600",children:"Seeds"}),h.jsx(Lt,{to:"/vegetable",className:"block px-4 py-2 hover:text-green-600",children:"Vegetable"}),h.jsx(Lt,{to:"/products",className:"block px-4 py-2 hover:text-green-600",children:"Sampling"}),h.jsx(Lt,{to:"/sampling",className:"block px-4 py-2 hover:text-green-600",children:"Tools"})]})]}),h.jsx(Lt,{to:"/post",className:"hover:text-green-600",children:"Post"}),h.jsx(Lt,{to:"/video",className:"hover:text-green-600",children:"Video"}),h.jsx(Lt,{to:"/fertilizer",className:"hover:text-green-600",children:"Fertilizer"}),O&&!x&&h.jsx(So,{}),h.jsxs("button",{onClick:()=>n("/cart"),className:"flex items-center gap-1 bg-green-700 px-3 py-1 rounded text-white",children:[h.jsx(bo,{size:20}),s]}),O&&!x?h.jsxs("div",{className:"relative",ref:V,children:[h.jsxs("button",{onClick:()=>b(!p),className:"flex items-center gap-2 bg-gray-100 hover:bg-gray-200 px-3 py-2 rounded cursor-pointer transition",children:[C?.avatar_url?h.jsx("img",{src:C.avatar_url,alt:"Avatar",className:"w-6 h-6 rounded-full object-cover"}):h.jsx("div",{className:"w-6 h-6 rounded-full bg-green-600 flex items-center justify-center text-white text-xs font-bold",children:(C?.full_name||O.email||"U").charAt(0).toUpperCase()}),h.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:C?.full_name||O.email?.split("@")[0]||"User"}),h.jsx(Kx,{size:16})]}),p&&h.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white shadow-lg rounded-lg z-50",children:[h.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[h.jsx("p",{className:"text-sm font-semibold text-gray-900",children:C?.full_name||O.email||"User"}),h.jsx("p",{className:"text-xs text-gray-500",children:O.email})]}),h.jsx(Lt,{to:"/profile",onClick:()=>b(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:" My Profile"}),h.jsxs("button",{onClick:()=>{Z(),b(!1)},disabled:v,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 disabled:text-gray-400",children:[" ",v?"Logging out...":"Logout"]})]})]}):x?h.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 px-3 py-2 rounded",children:[h.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded-full animate-pulse"}),h.jsx("span",{className:"text-sm text-gray-600",children:"Loading..."})]}):h.jsx(Lt,{to:"/userlogin",className:"bg-green-600 px-3 py-1 rounded text-white",children:"Login"})]}),h.jsx("button",{className:"md:hidden",onClick:()=>d(!0),children:h.jsx(Sy,{size:28})})]})}),u&&h.jsxs("div",{className:"fixed inset-0 bg-white z-50 md:hidden",children:[h.jsxs("div",{className:"flex justify-between px-6 py-4 border-b",children:[h.jsx("img",{src:"https://ik.imagekit.io/hhqmo4nv4/MERN/logo.svg",className:"h-10",alt:"Logo"}),h.jsx("button",{onClick:()=>d(!1),children:h.jsx(Ao,{size:28})})]}),h.jsxs("div",{className:"px-8 py-6 space-y-4",children:[h.jsx(Lt,{to:"/",onClick:()=>d(!1),children:"Home"}),h.jsxs("button",{onClick:()=>{n("/cart"),d(!1)},className:"bg-green-700 text-white w-full py-2 rounded",children:["Cart (",s,")"]}),O?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"text-center py-3 border-b",children:[C?.avatar_url?h.jsx("img",{src:C.avatar_url,alt:"Avatar",className:"w-12 h-12 rounded-full object-cover mx-auto mb-2"}):h.jsx("div",{className:"w-12 h-12 rounded-full bg-green-600 flex items-center justify-center text-white text-lg font-bold mx-auto mb-2",children:(C?.full_name||O.email||"U").charAt(0).toUpperCase()}),h.jsx("p",{className:"text-sm font-semibold text-gray-900",children:C?.full_name||O.email?.split("@")[0]||"User"}),h.jsx("p",{className:"text-xs text-gray-500",children:O.email})]}),h.jsx(Lt,{to:"/profile",onClick:()=>d(!1),className:"block text-center bg-blue-600 text-white py-2 rounded mb-2",children:" My Profile"}),h.jsxs("button",{type:"button",onClick:()=>{Z(),d(!1)},disabled:v,className:"bg-red-600 text-white w-full py-2 rounded hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[" ",v?"Logging out...":"Logout"]})]}):h.jsx(Lt,{to:"/userlogin",onClick:()=>d(!1),className:"block text-center bg-green-600 text-white py-2 rounded",children:"Login"})]})]}),h.jsx("div",{className:"h-16"})]})},YE=()=>h.jsxs("footer",{className:"bg-[#212121] text-gray-300 text-sm mt-20",children:[h.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 grid grid-cols-1 md:grid-cols-4 lg:grid-cols-6 gap-8 border-b border-gray-600",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-gray-400 mb-4 uppercase text-xs",children:"About"}),h.jsxs("ul",{className:"space-y-2",children:[h.jsx("li",{className:"hover:underline cursor-pointer",children:"Contact Us"}),h.jsx("li",{className:"hover:underline cursor-pointer",children:"About Us"}),h.jsx("li",{className:"hover:underline cursor-pointer",children:"Careers"}),h.jsx("li",{className:"hover:underline cursor-pointer",children:"Landscop Landscaping & Garden"}),h.jsx("li",{className:"hover:underline cursor-pointer",children:"Press"}),h.jsx("li",{className:"hover:underline cursor-pointer",children:"Corporate Information"})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-gray-400 mb-4 uppercase text-xs",children:"Help"}),h.jsxs("ul",{className:"space-y-2",children:[h.jsx("li",{className:"hover:underline cursor-pointer",children:"Payments"}),h.jsx("li",{className:"hover:underline cursor-pointer",children:"Shipping"}),h.jsx("li",{className:"hover:underline cursor-pointer",children:"Cancellation & Returns"}),h.jsx("li",{className:"hover:underline cursor-pointer",children:"FAQ"})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-gray-400 mb-4 uppercase text-xs",children:"Consumer Policy"}),h.jsxs("ul",{className:"space-y-2",children:[h.jsx("li",{className:"hover:underline cursor-pointer",children:"Cancellation & Returns"}),h.jsx("li",{className:"hover:underline cursor-pointer",children:"Terms Of Use"}),h.jsx("li",{className:"hover:underline cursor-pointer",children:"Security"}),h.jsx("li",{className:"hover:underline cursor-pointer",children:"Privacy"}),h.jsx("li",{className:"hover:underline cursor-pointer",children:"Sitemap"}),h.jsx("li",{className:"hover:underline cursor-pointer",children:"Grievance Redressal"})]})]}),h.jsxs("div",{className:"lg:col-span-1 border-l border-gray-600 pl-6",children:[h.jsx("h4",{className:"text-gray-400 mb-4 uppercase text-xs",children:"Mail Us"}),h.jsxs("p",{className:"leading-6",children:["Landscop Landscaping & Garden Pvt Ltd",h.jsx("br",{}),"Green Tech Park,",h.jsx("br",{}),"Outer Ring Road,",h.jsx("br",{}),"Bengaluru  560103",h.jsx("br",{}),"Karnataka, India"]}),h.jsxs("div",{className:"flex gap-4 mt-4",children:[h.jsx("span",{className:"cursor-pointer hover:text-white",children:""}),h.jsx("span",{className:"cursor-pointer hover:text-white",children:""}),h.jsx("span",{className:"cursor-pointer hover:text-white",children:""}),h.jsx("span",{className:"cursor-pointer hover:text-white",children:""})]})]}),h.jsxs("div",{className:"lg:col-span-1",children:[h.jsx("h4",{className:"text-gray-400 mb-4 uppercase text-xs",children:"Registered Office Address"}),h.jsxs("p",{className:"leading-6",children:["Landscop Landscaping & Garden Pvt Ltd",h.jsx("br",{}),"Green Tech Park,",h.jsx("br",{}),"Outer Ring Road,",h.jsx("br",{}),"Bengaluru  560103",h.jsx("br",{}),"Karnataka, India",h.jsx("br",{}),"CIN: U12345KA2025PTC000001",h.jsx("br",{}),"Telephone: ",h.jsx("span",{className:"text-blue-400",children:"044-45614700"})]})]})]}),h.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6 flex flex-col md:flex-row justify-between items-center gap-6 text-gray-300",children:[h.jsxs("div",{className:"flex flex-wrap gap-6",children:[h.jsx("span",{className:"hover:underline cursor-pointer",children:"Become a Seller"}),h.jsx("span",{className:"hover:underline cursor-pointer",children:"Advertise"}),h.jsx("span",{className:"hover:underline cursor-pointer",children:"Gift Cards"}),h.jsx("span",{className:"hover:underline cursor-pointer",children:"Help Center"})]}),h.jsx("p",{className:"text-xs",children:" 2026 Landscop Landscaping & Garden. All rights reserved."})]})]}),IE=()=>h.jsxs(h.Fragment,{children:[h.jsx(KE,{}),h.jsx(Hd,{}),h.jsx(YE,{})]}),JE=()=>h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:h.jsx(Hd,{})}),QE=()=>{const[n,a]=_.useState(!1),[s,i]=_.useState(!1),o=Ha(),u=({isActive:m})=>`flex items-center gap-3 px-4 py-3 rounded-md transition ${m?"text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,d=async()=>{i(!0);try{const{error:m}=await W.auth.signOut();m&&console.error("Logout error:",m),localStorage.removeItem("isAdmin")}catch(m){console.error("Unexpected logout error:",m)}finally{o("/login",{replace:!0}),setTimeout(()=>{window.location.pathname!=="/login"&&window.location.assign("/login")},150),i(!1)}};return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"md:hidden fixed top-0 left-0 w-full bg-gray-900 text-white px-4 py-3 flex justify-between items-center z-50",children:[h.jsx("h1",{className:"text-lg font-semibold",children:"Admin Panel"}),h.jsx("button",{onClick:()=>a(!0),children:h.jsx(Sy,{size:26})})]}),h.jsxs("aside",{className:`fixed top-0 left-0 h-full w-64 bg-gray-900 text-white z-50 transform transition-transform duration-300
        ${n?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:[h.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[h.jsx("h2",{className:"text-lg font-semibold",children:"Admin Panel"}),h.jsx("button",{className:"md:hidden",onClick:()=>a(!1),children:h.jsx(Ao,{size:24})})]}),h.jsxs("nav",{className:"flex flex-col gap-2 p-4",children:[h.jsxs(wr,{to:"/admin",className:u,children:[h.jsx(Zx,{size:18})," Dashboard"]}),h.jsxs(wr,{to:"/admin/users",className:u,children:[h.jsx(wd,{size:18})," Users"]}),h.jsxs(wr,{to:"/admin/sales",className:u,children:[h.jsx(bo,{size:18})," Product Management"]}),h.jsxs(wr,{to:"/admin/posts",className:u,children:[h.jsx(yo,{size:18})," Posts"]}),h.jsxs(wr,{to:"/admin/videos",className:u,children:[h.jsx(xd,{size:18})," Videos"]}),h.jsxs(wr,{to:"/admin/messages",className:u,children:[h.jsx(Hx,{size:18})," Methods"]}),h.jsx("button",{onClick:d,disabled:s,className:"flex items-center gap-3 px-4 py-3 mt-6 text-red-400 hover:bg-red-600 hover:text-white rounded-md transition disabled:opacity-50",children:s?"Logging out...":"Logout"})]})]}),n&&h.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>a(!1)}),h.jsx("div",{className:"md:ml-64 pt-14 md:pt-0"})]})},XE=()=>{const[n,a]=_.useState(!0),[s,i]=_.useState(null),[o,u]=_.useState(!1),d=Ha();return _.useEffect(()=>{let m=!0;const g=async()=>{const{data:{session:b}}=await W.auth.getSession(),v=b?.user??null;if(!v){m&&(i(null),u(!1),a(!1),d("/login"));return}const{data:S}=await W.from("profiles").select("is_admin").eq("id",v.id).maybeSingle();if(!S?.is_admin){m&&(i(null),u(!1),a(!1),d("/"));return}m&&(i(v),u(!0),a(!1))};g();const{data:{subscription:p}}=W.auth.onAuthStateChange((b,v)=>{if(b==="SIGNED_OUT"||b==="USER_DELETED"){i(null),u(!1),d("/login");return}v&&g()});return()=>{m=!1,p.unsubscribe()}},[d]),n?h.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}):!s||!o?null:h.jsxs("div",{className:"min-h-screen bg-gray-100",children:[h.jsx(QE,{}),h.jsx("div",{className:"ml-20 md:ml-64 flex flex-col min-h-screen",children:h.jsx("main",{className:"flex-1 p-6",children:h.jsx(Hd,{})})})]})},FE=({children:n})=>{const[a,s]=_.useState(null),[i,o]=_.useState(!0);return _.useEffect(()=>{(async()=>{try{const{data:{session:m}}=await W.auth.getSession();s(m?.user||null)}catch(m){console.error("Auth check error:",m),s(null)}finally{o(!1)}})();const{data:d}=W.auth.onAuthStateChange((m,g)=>{s(g?.user||null)});return()=>{d?.subscription.unsubscribe()}},[]),i?h.jsx("div",{className:"flex items-center justify-center min-h-screen",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):a?n:h.jsx(yd,{to:"/userlogin",replace:!0})},ZE=()=>{const n=_.useRef(null),a=_.useRef(null),[s,i]=_.useState(!1),[o,u]=_.useState(!1);return _.useEffect(()=>{const d=new IntersectionObserver(([m])=>{i(m.isIntersecting)},{threshold:.2});return n.current&&d.observe(n.current),()=>d.disconnect()},[]),_.useEffect(()=>{const d=new IntersectionObserver(([m])=>{u(m.isIntersecting)},{threshold:.2});return a.current&&d.observe(a.current),()=>d.disconnect()},[]),h.jsxs(h.Fragment,{children:[h.jsxs("section",{className:"relative w-full min-h-screen bg-cover bg-center",style:{backgroundImage:"url('https://ik.imagekit.io/hhqmo4nv4/MERN/99c7e8f8-2997-46fc-8df3-cb0ac5c25d11.__CR0,0,1464,600_PT0_SX1464_V1___.png')"},children:[h.jsx("div",{className:"absolute inset-0 bg-black/50"}),h.jsx("div",{className:"relative max-w-screen-xl mx-auto px-4 pt-32 pb-16 min-h-screen grid lg:grid-cols-12",children:h.jsxs("div",{className:"lg:col-span-7 flex flex-col justify-center text-white",children:[h.jsx("h1",{className:"mb-4 text-[24px]",style:{fontFamily:"Dancing Script"},children:"Bring Your Garden to Life "}),h.jsx("p",{className:"mb-6 font-bold text-[36px] md:text-[56px] leading-tight",children:"Create a thriving garden with eco-friendly plants and sustainable solutions."}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("a",{href:"/home/products",className:"px-5 py-3 bg-green-800 rounded-lg hover:bg-green-900 transition",children:"Shop Now"}),h.jsx("a",{href:"#learn",className:"px-5 py-3 border border-white rounded-lg hover:bg-white/10 transition",children:"Learn More"})]})]})})]}),h.jsx("section",{ref:n,className:"bg-[#f8fbff] py-16",children:h.jsxs("div",{className:`w-[80%] mx-auto transition-all duration-700 ease-out
          ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-12"}`,children:[h.jsx("h2",{className:"text-[28px] font-bold mb-2",children:"About plant"}),h.jsx("p",{className:"text-gray-600 mb-8",children:"We provide sustainable, eco-friendly gardening solutions designed to help your plants grow healthier."}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{className:`bg-white p-6 rounded-xl shadow-sm border transition-all duration-700 delay-100
              ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-12"}`,children:[h.jsx("img",{src:"https://ik.imagekit.io/hhqmo4nv4/MERN/images_q=tbn:ANd9GcTGzGgZqCudv4CWd_DcCEzMr1CMPipETF_wlqoVEhZoLOgzCJEW",className:"mx-auto h-24 mb-4",alt:"Expert Care"}),h.jsx("h3",{className:"text-lg font-semibold mb-2 cursor-pointer",children:"Plant Care"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Plants nurtured by horticulture experts for long-lasting growth."})]}),h.jsxs("div",{className:`bg-white p-6 rounded-xl shadow-sm border transition-all duration-700 delay-200
              ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-12"}`,children:[h.jsx("img",{src:"https://ik.imagekit.io/hhqmo4nv4/MERN/Team-of-Professionals.png",className:"mx-auto h-24 mb-4",alt:"Fresh Plants"}),h.jsx("h3",{className:"text-lg font-semibold mb-2 cursor-pointer",children:" Fresh & Natural Plants"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Fresh, pesticide-free plants from trusted nurseries."})]}),h.jsxs("div",{className:`bg-white p-6 rounded-xl shadow-sm border transition-all duration-700 delay-300
              ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-12"}`,children:[h.jsx("img",{src:"https://ik.imagekit.io/hhqmo4nv4/MERN/Screenshot%202026-01-04%20164201.png",className:"mx-auto h-24 mb-4",alt:"Offers"}),h.jsx("h3",{className:"text-lg font-semibold mb-2 cursor-pointer",children:"Best Offers"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Seasonal discounts on plants, pots & eco tools."})]})]})]})}),h.jsx("section",{ref:a,className:"bg-[#2f3417] py-12 text-white",children:h.jsxs("div",{className:`max-w-7xl mx-auto grid md:grid-cols-2 items-center gap-10 px-6
          transition-all duration-700 ease-out
          ${o?"opacity-100 translate-y-0":"opacity-0 translate-y-14"}`,children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-3xl text-yellow-400 font-semibold mb-3 tracking-wide",children:"WELCOME TO GARDENER PRESS"}),h.jsx("p",{className:"text-lg text-gray-200 leading-relaxed mb-6",children:"Welcome to Gardener Press, your trusted partner in landscaping, gardening, and outdoor design. We create beautiful, eco-friendly green spaces tailored to your lifestyle."}),h.jsx("h3",{className:"text-2xl font-semibold mb-6",children:"24/7 Gardening & Landscaping Support"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 text-yellow-400 font-medium",children:[h.jsx("p",{children:" Expert Landscape Design"}),h.jsx("p",{children:" Professional Plant Installation"}),h.jsx("p",{children:" Premium Quality Materials"}),h.jsx("p",{children:" Personalized Garden Care"})]})]}),h.jsx("div",{className:"relative",children:h.jsx("img",{src:"https://m.media-amazon.com/images/I/71k8Djd+LHL._AC_UY1100_.jpg",alt:"Gardener",className:"w-full h-[520px] rounded-lg shadow-lg object-cover"})})]})})]})},WE=()=>(_.useEffect(()=>{console.log("useEffect Executed")},[]),h.jsxs(h.Fragment,{children:[h.jsx(ZE,{}),h.jsx("div",{className:"container mx-auto px-4 py-8",children:h.jsx(So,{})})]})),ej=()=>h.jsxs(h.Fragment,{children:[h.jsx("p",{children:"About HTML"}),h.jsx("a",{href:"/",children:h.jsx("button",{children:"Go To Home Page"})}),h.jsx(Lt,{to:"/",children:h.jsx("button",{children:"Go To Home Page "})})]}),Vp=()=>h.jsx("section",{className:"bg-white dark:bg-gray-900",children:h.jsx("div",{className:"py-8 px-4 mx-auto max-w-screen-xl lg:py-16 lg:px-6",children:h.jsxs("div",{className:"mx-auto max-w-screen-sm text-center",children:[h.jsx("h1",{className:"mb-4 text-7xl tracking-tight font-extrabold lg:text-9xl text-primary-600 dark:text-primary-500",children:"404"}),h.jsx("p",{className:"mb-4 text-3xl tracking-tight font-bold text-gray-900 md:text-4xl dark:text-white",children:"Something's missing."}),h.jsx("p",{className:"mb-4 text-lg font-light text-gray-500 dark:text-gray-400",children:"Sorry, we can't find that page. You'll find lots to explore on the home page."}),h.jsx(Lt,{to:"/",className:"inline-flex text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:focus:ring-primary-900 my-4",children:"Back to Homepage"})]})})}),tj=()=>{const{cartItems:n,addToCart:a,removeFromCart:s,deleteItem:i,totalAmount:o}=Tr();return n.length===0?h.jsx("h2",{className:"text-center mt-32",children:"Cart is Empty "}):h.jsxs("div",{className:"max-w-4xl mx-auto pt-32 px-6",children:[h.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Your Cart"}),n.map(u=>h.jsxs("div",{className:"flex justify-between items-center bg-white p-4 mb-4 rounded shadow",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold",children:u.name}),h.jsxs("p",{children:[" ",u.price,"  ",u.qty]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>s(u.id),className:"px-3 py-1 bg-gray-200 rounded",children:""}),h.jsx("button",{onClick:()=>a(u),className:"px-3 py-1 bg-gray-200 rounded",children:"+"}),h.jsx("button",{onClick:()=>i(u.id),className:"px-3 py-1 bg-red-500 text-white rounded",children:"Remove"})]})]},u.id)),h.jsxs("h3",{className:"text-xl font-bold text-right mt-6",children:["Total:  ",o]})]})},aj=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,nj=()=>{const[n,a]=_.useState(""),[s,i]=_.useState(""),[o,u]=_.useState(""),[d,m]=_.useState(!1),g=Ha(),p=()=>{const v=n.trim().toLowerCase();return aj.test(v)?s.length<6?(u("Password must be at least 6 characters"),!1):!0:(u("Please enter a valid email address"),!1)},b=async v=>{if(v.preventDefault(),u(""),!!p()){m(!0);try{const S=n.trim().toLowerCase(),{data:x,error:j}=await W.auth.signInWithPassword({email:S,password:s});if(j){const D=j.message.toLowerCase();D.includes("invalid login credentials")?u("Invalid email or password"):D.includes("email not confirmed")?u("Please confirm your email before logging in"):u(j.message);return}const O=x.user.id,{data:E,error:C}=await W.from("profiles").select("is_admin").eq("id",O).single();if(C||!E?.is_admin){u("Access denied  Admin only"),await W.auth.signOut();return}localStorage.setItem("isAdmin","true"),g("/admin",{replace:!0})}catch{u("Something went wrong. Please try again.")}finally{m(!1)}}};return h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:h.jsxs("form",{onSubmit:b,className:"bg-white p-8 rounded-lg shadow-md w-96",children:[h.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-green-700",children:"Admin Login"}),h.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:v=>a(v.target.value),className:"w-full mb-4 px-4 py-2 border rounded",autoComplete:"email",required:!0}),h.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:v=>i(v.target.value),className:"w-full mb-4 px-4 py-2 border rounded",autoComplete:"current-password",required:!0}),h.jsx("button",{disabled:d,className:"w-full bg-green-700 text-white py-2 rounded disabled:opacity-60",children:d?"Logging in...":"Login"}),o&&h.jsx("p",{className:"mt-4 text-center text-red-600 text-sm",children:o})]})})},rj=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,sj=()=>{const[n,a]=_.useState(""),[s,i]=_.useState(""),[o,u]=_.useState(!1),[d,m]=_.useState(""),[g,p]=_.useState(!1),b=Ha(),v=async S=>{S.preventDefault(),m("");const x=n.trim().toLowerCase();if(!rj.test(x)){m("Please enter a valid email address");return}if(s.length<6){m("Password must be at least 6 characters");return}p(!0);try{const{error:j}=await W.auth.signInWithPassword({email:x,password:s});if(j){console.error("User login error:",j);const O=j.message.toLowerCase();O.includes("invalid login credentials")?m("Invalid email or password"):O.includes("email not confirmed")?m("Please confirm your email before logging in"):m(j.message)}else b("/home")}catch{m("Something went wrong. Please try again.")}finally{p(!1)}};return h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:h.jsxs("form",{onSubmit:v,className:"bg-white p-8 rounded-xl shadow-lg w-96",children:[h.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"User Login"}),h.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:S=>a(S.target.value),className:"w-full mb-4 px-4 py-2 border rounded focus:ring-2 focus:ring-green-600",autoComplete:"email",required:!0}),h.jsxs("div",{className:"relative mb-4",children:[h.jsx("input",{type:o?"text":"password",placeholder:"Password",value:s,onChange:S=>i(S.target.value),className:"w-full px-4 py-2 border rounded focus:ring-2 focus:ring-green-600",autoComplete:"current-password",required:!0}),h.jsx("button",{type:"button",onClick:()=>u(!o),className:"absolute right-3 top-2 text-gray-500",children:o?h.jsx(vd,{}):h.jsx(bd,{})})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{type:"submit",disabled:g,className:"w-1/2 bg-green-700 text-white py-2 rounded disabled:opacity-60",children:g?"Logging in...":"Login"}),h.jsx("button",{type:"button",onClick:()=>b("/register"),className:"w-1/2 border border-green-700 text-green-700 py-2 rounded",children:"Register"})]}),d&&h.jsx("p",{className:"mt-4 text-center text-sm text-red-600",children:d})]})})},lj=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,ij=/^[0-9]{10}$/,oj=()=>{const n=Ha(),[a,s]=_.useState(""),[i,o]=_.useState(""),[u,d]=_.useState(""),[m,g]=_.useState(""),[p,b]=_.useState(""),[v,S]=_.useState(""),[x,j]=_.useState(!1),[O,E]=_.useState(!1),[C,D]=_.useState(!1),[T,V]=_.useState(!1),Z=()=>a.trim().length<2?(j(!0),S("Name must be at least 2 characters"),!1):ij.test(i.trim())?lj.test(u.trim().toLowerCase())?m.length<6?(j(!0),S("Password must be at least 6 characters"),!1):m!==p?(j(!0),S("Passwords do not match "),!1):!0:(j(!0),S("Please enter a valid email"),!1):(j(!0),S("Phone must be 10 digits"),!1),Y=async N=>{if(N.preventDefault(),S(""),j(!1),!!Z()){E(!0);try{const{data:B,error:F}=await W.auth.signUp({email:u.trim().toLowerCase(),password:m});if(F){j(!0),S(F.message);return}const ce=B.user;if(!ce){j(!0),S("Registration failed. Please try again.");return}const{error:ae}=await W.from("profiles").insert([{id:ce.id,name:a.trim(),phone:i.trim(),email:u.trim().toLowerCase()}]);if(ae){j(!0),S("Profile save failed ");return}j(!1),S("Registration successful  Redirecting..."),setTimeout(()=>n("/userlogin"),1500)}catch{j(!0),S("Something went wrong  Please try again.")}finally{E(!1)}}};return h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:h.jsxs("form",{onSubmit:Y,className:"bg-white p-8 rounded-xl shadow-lg w-96",children:[h.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"User Register"}),h.jsx("input",{type:"text",placeholder:"Full Name",value:a,onChange:N=>s(N.target.value),className:"w-full mb-3 px-4 py-2 border rounded focus:ring-2 focus:ring-green-600",autoComplete:"name",required:!0}),h.jsx("input",{type:"tel",placeholder:"Phone Number",value:i,onChange:N=>o(N.target.value),className:"w-full mb-3 px-4 py-2 border rounded focus:ring-2 focus:ring-green-600",autoComplete:"tel",required:!0}),h.jsx("input",{type:"email",placeholder:"Email",value:u,onChange:N=>d(N.target.value),className:"w-full mb-3 px-4 py-2 border rounded focus:ring-2 focus:ring-green-600",autoComplete:"email",required:!0}),h.jsxs("div",{className:"relative mb-3",children:[h.jsx("input",{type:C?"text":"password",placeholder:"Password",value:m,onChange:N=>g(N.target.value),className:"w-full px-4 py-2 border rounded focus:ring-2 focus:ring-green-600",autoComplete:"new-password",required:!0}),h.jsx("button",{type:"button",onClick:()=>D(!C),className:"absolute right-3 top-2 text-gray-500",children:C?h.jsx(vd,{}):h.jsx(bd,{})})]}),h.jsxs("div",{className:"relative mb-4",children:[h.jsx("input",{type:T?"text":"password",placeholder:"Confirm Password",value:p,onChange:N=>b(N.target.value),className:"w-full px-4 py-2 border rounded focus:ring-2 focus:ring-green-600",autoComplete:"new-password",required:!0}),h.jsx("button",{type:"button",onClick:()=>V(!T),className:"absolute right-3 top-2 text-gray-500",children:T?h.jsx(vd,{}):h.jsx(bd,{})})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{type:"submit",disabled:O,className:"w-1/2 bg-green-700 text-white py-2 rounded disabled:opacity-60",children:O?"Creating...":"Register"}),h.jsx("button",{type:"button",onClick:()=>n("/userlogin"),className:"w-1/2 border border-green-700 text-green-700 py-2 rounded",children:"Login"})]}),v&&h.jsx("p",{className:`mt-4 text-center text-sm ${x?"text-red-600":"text-green-600"}`,children:v})]})})},uj=()=>{const n=Ha(),[a,s]=_.useState(null),[i,o]=_.useState(null),[u,d]=_.useState(!0),[m,g]=_.useState(!1),[p,b]=_.useState(!1),[v,S]=_.useState(null),[x,j]=_.useState({name:"",phone:"",email:""});_.useEffect(()=>{(async()=>{const{data:{user:C},error:D}=await W.auth.getUser();if(D||!C){n("/userlogin");return}s(C);const{data:T}=await W.from("profiles").select("*").eq("id",C.id).maybeSingle();o(T||null),j({name:T?.name||T?.full_name||"",phone:T?.phone||"",email:T?.email||C.email}),d(!1)})()},[n]);const O=async E=>{if(E.preventDefault(),!x.name.trim()){S({type:"error",text:" Name is required"});return}b(!0);try{const{error:C}=await W.from("profiles").update({name:x.name.trim(),full_name:x.name.trim(),phone:x.phone.trim(),email:x.email,updated_at:new Date().toISOString()}).eq("id",a.id);if(C)S({type:"error",text:" Update failed: "+C.message});else{S({type:"success",text:" Profile updated successfully!"}),g(!1);const{data:D}=await W.from("profiles").select("*").eq("id",a.id).maybeSingle();o(D||null),setTimeout(()=>S(null),3e3)}}catch(C){S({type:"error",text:" Unexpected error: "+C.message})}finally{b(!1)}};return u?h.jsx("div",{className:"flex items-center justify-center h-screen",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):h.jsxs("div",{className:"max-w-2xl mx-auto p-6 pt-24",children:[h.jsx("h1",{className:"text-4xl font-bold mb-8 text-gray-900",children:" My Profile"}),v&&h.jsx("div",{className:`mb-6 p-4 rounded-lg border ${v.type==="success"?"bg-green-50 text-green-800 border-green-300":"bg-red-50 text-red-800 border-red-300"}`,children:v.text}),m?h.jsxs("form",{onSubmit:O,className:"bg-white shadow-lg rounded-lg p-8 space-y-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Name ",h.jsx("span",{className:"text-red-600",children:"*"})]}),h.jsx("input",{type:"text",value:x.name,onChange:E=>j({...x,name:E.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Phone Number"}),h.jsx("input",{type:"tel",value:x.phone,onChange:E=>j({...x,phone:E.target.value}),placeholder:"Enter your phone number",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Email Address"}),h.jsx("input",{type:"email",value:x.email,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-600 cursor-not-allowed",disabled:!0}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{type:"submit",disabled:p,className:"flex-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-6 py-3 rounded-lg font-semibold transition",children:p?" Saving...":" Save Changes"}),h.jsx("button",{type:"button",onClick:()=>{g(!1),S(null)},className:"flex-1 bg-gray-400 hover:bg-gray-500 text-white px-6 py-3 rounded-lg font-semibold transition",children:"Cancel"})]})]}):h.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-8 space-y-6",children:[h.jsxs("div",{className:"border-b pb-4",children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Full Name"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:i?.name||i?.full_name||"Not set"})]}),h.jsxs("div",{className:"border-b pb-4",children:[h.jsx("p",{className:"text-sm text-gray-600",children:" Phone Number"}),h.jsx("p",{className:"text-lg text-gray-900 mt-2",children:i?.phone||"Not set"})]}),h.jsxs("div",{className:"border-b pb-4",children:[h.jsx("p",{className:"text-sm text-gray-600",children:" Email Address"}),h.jsx("p",{className:"text-lg text-gray-900 mt-2",children:i?.email||a?.email})]}),h.jsx("button",{onClick:()=>g(!0),className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition mt-6",children:" Edit Profile"})]})]})},Py=()=>{const[n,a]=_.useState([]),[s,i]=_.useState(""),[o,u]=_.useState(""),[d,m]=_.useState(!1),g=async()=>{const{data:v,error:S}=await W.from("admin_messages").select("*").order("created_at",{ascending:!1});if(S){console.error("Fetch messages error:",S.message),a([]);return}a(v||[])};_.useEffect(()=>{g()},[]);const p=async()=>{if(!s||!o){alert("Fill all fields");return}m(!0);const{data:v}=await W.auth.getUser();if(!v?.user){alert("You must be logged in"),m(!1);return}const{error:S}=await W.from("admin_messages").insert([{title:s,content:o,admin_id:v.user.id}]);if(S){console.error(S.message),alert("Failed to create message"),m(!1);return}i(""),u(""),g(),m(!1)},b=async v=>{const{error:S}=await W.from("admin_messages").delete().eq("id",v);if(S){console.error(S.message),alert("Failed to delete message");return}a(n.filter(x=>x.id!==v))};return h.jsxs("div",{className:"p-6 text-black",children:[h.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Admin Messages"}),h.jsxs("div",{className:"mb-8 p-4 bg-blue-100 rounded-lg",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Post New Message"}),h.jsx("input",{type:"text",placeholder:"Message Title",value:s,onChange:v=>i(v.target.value),className:"w-full p-2 mb-3 border border-gray-300 rounded"}),h.jsx("textarea",{placeholder:"Message Content",value:o,onChange:v=>u(v.target.value),rows:"4",className:"w-full p-2 mb-3 border border-gray-300 rounded"}),h.jsx("button",{onClick:p,disabled:d,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:bg-gray-400",children:d?"Posting...":"Post Message"})]}),h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"All Messages"}),n.length===0&&h.jsx("p",{className:"text-gray-400",children:"No messages yet"}),n.map(v=>h.jsxs("div",{className:"mb-4 p-4 bg-gray-200 rounded-lg",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-lg",children:v.title}),h.jsx("p",{className:"text-xs text-gray-500",children:new Date(v.created_at).toLocaleString()})]}),h.jsx("button",{onClick:()=>b(v.id),className:"text-red-500 hover:text-red-700 text-sm font-semibold",children:"Delete"})]}),h.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:v.content})]},v.id))]})},cj=()=>{const n=Ha(),[a,s]=_.useState("overview"),[i,o]=_.useState(null),[u,d]=_.useState([]),[m,g]=_.useState({totalSales:0,pendingApprovals:0,activeUsers:0,totalVideos:0,totalPosts:0}),[p,b]=_.useState([]),[v,S]=_.useState([]),[x,j]=_.useState(!0);_.useEffect(()=>{O()},[]);const O=async()=>{j(!0);try{const T=["seeds","vegetables","plants","fertilizers","sampling"];let V=[],Z=0;for(const ae of T){const{data:z}=await W.from(ae).select("*");z&&(V=[...V,...z.map(de=>({...de,table:ae}))],Z+=z.filter(de=>!de.approved).length)}const{data:Y}=await W.from("profiles").select("id",{count:"exact"}),{data:N}=await W.from("posts").select("id",{count:"exact"}),{data:B}=await W.from("videos").select("id",{count:"exact"}),F=V.sort((ae,z)=>new Date(z.created_at)-new Date(ae.created_at)).slice(0,5),ce=V.filter(ae=>!ae.approved).slice(0,5);g({totalSales:V.length,pendingApprovals:Z,activeUsers:Y?.length||0,totalVideos:B?.length||0,totalPosts:N?.length||0}),b(F),S(ce)}catch(T){console.error("Error fetching dashboard data:",T)}finally{j(!1)}},E=async T=>{try{const{error:V}=await W.from(T.table).update({approved:!0}).eq("id",T.id);V||(S(Z=>Z.filter(Y=>Y.id!==T.id)),g(Z=>({...Z,pendingApprovals:Z.pendingApprovals-1})))}catch(V){console.error("Error approving product:",V)}},C=async T=>{try{const{error:V}=await W.from(T.table).delete().eq("id",T.id);V||(S(Z=>Z.filter(Y=>Y.id!==T.id)),g(Z=>({...Z,pendingApprovals:Z.pendingApprovals-1})))}catch(V){console.error("Error rejecting product:",V)}},D=async T=>{const Z={Seeds:"seeds",Vegetables:"vegetables",Plants:"plants",Fertilizers:"fertilizers",Sampling:"sampling"}[T];if(Z)try{const{data:Y}=await W.from(Z).select("*");d(Y?Y.map(N=>({...N,table:Z})):[])}catch(Y){console.error(`Error fetching ${T}:`,Y),d([])}};return x?h.jsx("div",{className:"flex items-center justify-center min-h-screen",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 lg:px-8 py-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Manage products, approve sales, and monitor user activity"})]}),h.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:h.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:h.jsx("nav",{className:"flex flex-wrap gap-2 sm:gap-4 overflow-x-auto",children:[{id:"overview",label:"Overview",icon:Vx},{id:"approvals",label:"Approvals",icon:nd},{id:"products",label:"Products",icon:bo},{id:"users",label:"Users",icon:wd},{id:"content",label:"Content",icon:yo},{id:"messages",label:"Messages",icon:e_}].map(({id:T,label:V})=>h.jsx("button",{onClick:()=>s(T),className:`flex items-center gap-2 px-4 py-4 border-b-2 font-medium transition ${a===T?"border-green-600 text-green-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:h.jsx("span",{className:"hidden sm:inline",children:V})},T))})})}),h.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:[a==="overview"&&h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[h.jsx("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-blue-500",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Products"}),h.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:m.totalSales})]}),h.jsx(bo,{className:"text-blue-500 opacity-20",size:40})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-orange-500",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Pending Approval"}),h.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:m.pendingApprovals})]}),h.jsx(bp,{className:"text-orange-500 opacity-20",size:40})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-green-500",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Active Users"}),h.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:m.activeUsers})]}),h.jsx(wd,{className:"text-green-500 opacity-20",size:40})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-purple-500",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Videos"}),h.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:m.totalVideos})]}),h.jsx(xd,{className:"text-purple-500 opacity-20",size:40})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-pink-500",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Posts"}),h.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:m.totalPosts})]}),h.jsx(yo,{className:"text-pink-500 opacity-20",size:40})]})})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[h.jsx(l_,{className:"text-green-600"}),"Recent Products"]})}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Product"}),h.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Type"}),h.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Price"}),h.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Status"}),h.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Date"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200",children:p.map(T=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("img",{src:T.image_url,alt:T.name,className:"h-10 w-11 rounded object-cover"}),h.jsx("span",{className:"font-medium text-gray-900 truncate",children:T.name})]})}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 capitalize",children:T.table.slice(0,-1)}),h.jsxs("td",{className:"px-6 py-4 font-semibold text-gray-900",children:["",T.price]}),h.jsx("td",{className:"px-6 py-4",children:h.jsx("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${T.approved?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:T.approved?h.jsxs(h.Fragment,{children:[h.jsx(nd,{size:14})," Approved"]}):h.jsxs(h.Fragment,{children:[h.jsx(bp,{size:14})," Pending"]})})}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(T.created_at).toLocaleDateString()})]},`${T.table}-${T.id}`))})]})})]})]}),a==="approvals"&&h.jsxs("div",{className:"space-y-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Pending Approvals"}),v.length===0?h.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[h.jsx(nd,{className:"mx-auto h-12 w-12 text-green-600 mb-4"}),h.jsx("p",{className:"text-gray-600",children:"No pending approvals!"})]}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(T=>h.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden hover:shadow-lg transition",children:[h.jsx("div",{className:"h-70 w-full overflow-hidden bg-gray-100",children:h.jsx("img",{src:T.image_url,alt:T.name,className:"h-full w-full object-cover"})}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsx("h3",{className:"font-bold text-gray-900 flex-1",children:T.name}),h.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs font-semibold px-2 py-1 rounded capitalize",children:T.table.slice(0,-1)})]}),h.jsxs("p",{className:"text-2xl font-bold text-gray-900 mb-4",children:["",T.price]}),h.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[new Date(T.created_at).toLocaleDateString()," "," ",new Date(T.created_at).toLocaleTimeString()]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>E(T),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 rounded font-medium transition",children:" Approve"}),h.jsx("button",{onClick:()=>C(T),className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded font-medium transition",children:" Reject"})]})]})]},`${T.table}-${T.id}`))})]}),a==="products"&&h.jsx("div",{className:"space-y-6",children:i?h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:items-center sm:justify-between",children:[h.jsxs("div",{children:[h.jsx("button",{onClick:()=>{o(null),d([])},className:"text-green-600 hover:text-green-700 font-medium mb-2 flex items-center gap-2",children:" Back to Categories"}),h.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[i," Products"]})]}),h.jsxs("p",{className:"text-gray-600 font-medium",children:["Total: ",u.length]})]}),u.length===0?h.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:h.jsx("p",{className:"text-gray-600",children:"No products found"})}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(T=>h.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden hover:shadow-lg transition",children:[h.jsx("div",{className:"h-70 w-full overflow-hidden bg-gray-100",children:h.jsx("img",{src:T.image_url,alt:T.name,className:"max-h-72 w-full object-cover"})}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsx("h3",{className:"font-bold text-gray-900 flex-1",children:T.name}),h.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded capitalize ${T.approved?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:T.approved?" Approved":" Pending"})]}),h.jsxs("p",{className:"text-2xl font-bold text-gray-900 mb-2",children:["",T.price]}),h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:new Date(T.created_at).toLocaleDateString()}),h.jsxs("div",{className:"flex gap-2",children:[!T.approved&&h.jsx("button",{onClick:()=>E(T),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 rounded font-medium transition",children:" Approve"}),h.jsx("button",{onClick:()=>C(T),className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded font-medium transition",children:"Delete"})]})]})]},T.id))})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:items-center sm:justify-between",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Manage Products"}),h.jsx("button",{onClick:()=>n("/admin/sales"),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition",children:"View Full Management"})]}),h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:[{name:"Seeds",icon:""},{name:"Vegetables",icon:""},{name:"Sampling",icon:""},{name:"Fertilizers",icon:""},{name:"Tools",icon:""}].map(T=>h.jsxs("button",{onClick:()=>{o(T.name),D(T.name)},className:"bg-white rounded-lg shadow p-4 text-center hover:shadow-lg transition",children:[h.jsx("p",{className:"text-4xl mb-2",children:T.icon}),h.jsx("p",{className:"font-semibold text-gray-900",children:T.name})]},T.name))})]})}),a==="users"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:items-center sm:justify-between",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Activity"}),h.jsx("button",{onClick:()=>n("/admin/users"),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition",children:"View All Users"})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200",children:[h.jsx("h3",{className:"font-bold text-gray-900",children:"Active Users"}),h.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:[m.activeUsers," users"]})]}),h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"flex items-center justify-center h-48",children:h.jsx("p",{className:"text-gray-600 text-center",children:"User analytics and activity monitoring"})})})]})]}),a==="content"&&h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[h.jsx(xd,{className:"text-purple-600"}),"Videos"]}),h.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:m.totalVideos})]}),h.jsx("button",{onClick:()=>n("/admin/videos"),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded font-medium transition",children:"Manage"})]}),h.jsx("div",{className:"p-6",children:h.jsx("p",{className:"text-gray-600 text-center py-8",children:"Upload and manage educational videos"})})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[h.jsx(yo,{className:"text-pink-600"}),"Posts"]}),h.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:m.totalPosts})]}),h.jsx("button",{onClick:()=>n("/admin/posts"),className:"bg-pink-600 hover:bg-pink-700 text-white px-4 py-2 rounded font-medium transition",children:"Manage"})]}),h.jsx("div",{className:"p-6",children:h.jsx("p",{className:"text-gray-600 text-center py-8",children:"Create and manage blog posts"})})]})]}),a==="messages"&&h.jsx(Py,{})]})]})},dj=()=>{const[n,a]=_.useState(""),[s,i]=_.useState(""),[o,u]=_.useState("device"),[d,m]=_.useState(null),[g,p]=_.useState(""),[b,v]=_.useState([]),[S,x]=_.useState(""),[j,O]=_.useState(!1),[E,C]=_.useState(Date.now()),[D,T]=_.useState(null),V=async()=>{const{data:z,error:de}=await W.from("videos").select("*").order("created_at",{ascending:!1});de?console.error(de):v(z)};_.useEffect(()=>{V()},[]);const Z=z=>z.includes("youtube.com")||z.includes("youtu.be"),Y=z=>z.includes("instagram.com/reel")||z.includes("instagram.com/p"),N=z=>{let de="";return z.includes("shorts/")?de=z.split("shorts/")[1].split("?")[0]:z.includes("v=")?de=z.split("v=")[1].split("&")[0]:z.includes("youtu.be/")&&(de=z.split("youtu.be/")[1].split("?")[0]),`https://www.youtube.com/embed/${de}`},B=z=>`${z}embed`,F=async z=>{if(z.preventDefault(),o==="device"&&!d){x("Please select a video ");return}if(o==="link"&&!g){x("Please provide a video URL ");return}O(!0),x("");let de=g;try{if(o==="device"){const we=`${Date.now()}-${d.name}`,{error:xe}=await W.storage.from("videos").upload(we,d);if(xe)throw xe;const{data:P}=W.storage.from("videos").getPublicUrl(we);de=P.publicUrl}if(D){const{error:we}=await W.from("videos").update({title:n.trim(),description:s.trim(),video_url:de}).eq("id",D.id);if(we)throw we;x("Video updated successfully "),T(null)}else{const{error:we}=await W.from("videos").insert([{title:n.trim(),description:s.trim(),video_url:de}]);if(we)throw we;x("Video uploaded successfully ")}a(""),i(""),m(null),p(""),C(Date.now()),V()}catch(we){console.error(we),x("Operation failed  Check console")}O(!1)},ce=z=>{T(z),a(z.title),i(z.description),p(z.video_url),u("link")},ae=async z=>{if(!confirm("Delete this video?"))return;const{error:de}=await W.from("videos").delete().eq("id",z.id);if(de){console.error(de);return}if(z.video_url.includes("supabase")){const we=z.video_url.split("/storage/v1/object/public/videos/")[1];we&&await W.storage.from("videos").remove([we])}V()};return h.jsxs("div",{className:"p-6 w-full",children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:D?"Edit Reel":"Upload Reel"}),h.jsxs("div",{className:"flex gap-4 mb-4",children:[h.jsx("button",{type:"button",onClick:()=>u("device"),className:`px-4 py-2 rounded ${o==="device"?"bg-green-700 text-white":"bg-gray-200"}`,children:"My Device"}),h.jsx("button",{type:"button",onClick:()=>u("link"),className:`px-4 py-2 rounded ${o==="link"?"bg-green-700 text-white":"bg-gray-200"}`,children:"Link"})]}),h.jsxs("form",{onSubmit:F,className:"space-y-4",children:[h.jsx("input",{type:"text",placeholder:"Video Title",value:n,onChange:z=>a(z.target.value),className:"w-full p-2 border rounded",required:!0}),h.jsx("textarea",{placeholder:"Description",value:s,onChange:z=>i(z.target.value),className:"w-full p-2 border rounded"}),o==="device"?h.jsx("input",{type:"file",accept:"video/*",onChange:z=>m(z.target.files[0]),required:!D},E):h.jsx("input",{type:"url",placeholder:"YouTube / Instagram Reel URL",value:g,onChange:z=>p(z.target.value),className:"w-full p-2 border rounded",required:!0}),h.jsx("button",{type:"submit",disabled:j,className:"px-4 py-2 bg-green-700 text-white rounded",children:j?"Processing...":D?"Update":"Upload"}),S&&h.jsx("p",{className:"text-sm",children:S})]}),h.jsx("h3",{className:"mt-10 mb-4 text-xl font-bold",children:"Uploaded Reels"}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:b.map(z=>h.jsxs("div",{className:"bg-black rounded-2xl overflow-hidden shadow-lg",children:[h.jsx("div",{className:"aspect-[9/16] w-full",children:Z(z.video_url)?h.jsx("iframe",{src:N(z.video_url),className:"w-full h-full",allowFullScreen:!0}):Y(z.video_url)?h.jsx("iframe",{src:B(z.video_url),className:"w-full h-full",scrolling:"no"}):h.jsx("video",{src:z.video_url,controls:!0,playsInline:!0,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"p-2 text-white",children:[h.jsx("p",{className:"font-bold text-sm line-clamp-1",children:z.title}),h.jsx("p",{className:"text-xs text-gray-300 line-clamp-2",children:z.description}),h.jsxs("div",{className:"flex gap-2 mt-2",children:[h.jsx("button",{onClick:()=>ce(z),className:"px-2 py-1 bg-yellow-500 rounded text-xs",children:"Edit"}),h.jsx("button",{onClick:()=>ae(z),className:"px-2 py-1 bg-red-600 rounded text-xs",children:"Delete"})]})]})]},z.id))})]})},fj=()=>{const[n,a]=_.useState([]),[s,i]=_.useState(!0),[o,u]=_.useState(null),[d,m]=_.useState(null);_.useEffect(()=>{g()},[]),_.useEffect(()=>{d&&p()},[d]);const g=async()=>{const{data:{user:x}}=await W.auth.getUser();m(x)},p=async()=>{try{i(!0),u(null);const{data:x,error:j}=await W.from("profiles").select("*").order("created_at",{ascending:!1});if(j){console.error("Error fetching all users:",j);const{data:O,error:E}=await W.from("profiles").select("*").eq("id",d.id).single();if(E)throw new Error(`Cannot access user data. Please run this SQL in Supabase dashboard:

CREATE POLICY "Admin read all profiles" ON profiles FOR SELECT USING (auth.role() = 'authenticated');`);a([O]),u(` RLS Policy Limitation: Only showing your profile. To see all users, run this SQL in Supabase SQL Editor:

CREATE POLICY "Admin read all profiles" ON profiles FOR SELECT USING (auth.role() = 'authenticated');`),i(!1);return}if(d){const O=x.sort((E,C)=>E.id===d.id?-1:C.id===d.id?1:0);a(O)}else a(x)}catch(x){console.error("Failed to fetch users:",x.message),u(`Failed to load users: ${x.message}`)}finally{i(!1)}},b=x=>{if(!x.updated_at)return!1;const j=new Date(x.updated_at),O=new Date;return O.setDate(O.getDate()-30),j>O},v=x=>x?new Date(x).toLocaleDateString():"Never",S=async x=>{if(window.confirm("Are you sure you want to delete this user?"))try{const{error:O}=await W.from("profiles").delete().eq("id",x);if(O)throw O;a(n.filter(E=>E.id!==x))}catch(O){console.error("Failed to delete user:",O.message),alert("Failed to delete user. Make sure your API key allows this action.")}};return s?h.jsx("p",{className:"text-white",children:"Loading..."}):o?h.jsxs("div",{className:"p-6 text-black",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h1",{className:"text-2xl font-semibold",children:"User Management (Admin View)"}),h.jsx("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",disabled:s,children:s?"Refreshing...":"Refresh"})]}),h.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[h.jsx("h3",{className:"font-bold",children:"Database Policy Issue"}),h.jsx("p",{className:"text-sm mt-2",children:o}),h.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded text-xs font-mono",children:[h.jsx("p",{className:"font-bold mb-2",children:"Run this SQL in Supabase Dashboard  SQL Editor:"}),h.jsxs("code",{children:['CREATE POLICY "Admin read all profiles"',h.jsx("br",{}),"ON profiles",h.jsx("br",{}),"FOR SELECT",h.jsx("br",{}),"USING (auth.role() = 'authenticated');"]})]})]})]}):h.jsxs("div",{className:"p-6 text-black",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h1",{className:"text-2xl font-semibold",children:"User Management (Admin View)"}),h.jsx("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",disabled:s,children:s?"Refreshing...":"Refresh"})]}),h.jsxs("table",{className:"w-full border border-gray-700",children:[h.jsx("thead",{className:"bg-gray-400",children:h.jsxs("tr",{children:[h.jsx("th",{className:"p-3",children:"Name"}),h.jsx("th",{className:"p-3",children:"Email"}),h.jsx("th",{className:"p-3",children:"Role"}),h.jsx("th",{className:"p-3",children:"Status"}),h.jsx("th",{className:"p-3",children:"Last Active"}),h.jsx("th",{className:"p-3",children:"Registered"}),h.jsx("th",{className:"p-3",children:"Action"})]})}),h.jsx("tbody",{children:n.map(x=>h.jsxs("tr",{className:`border-t border-gray-700 ${d&&d.id===x.id?"bg-blue-100":""}`,children:[h.jsx("td",{className:"p-3",children:x.full_name||"N/A"}),h.jsx("td",{className:"p-3",children:x.email}),h.jsx("td",{className:"p-3",children:d&&d.id===x.id?h.jsx("span",{className:"bg-blue-600 text-white px-2 py-1 rounded text-sm",children:"Admin"}):h.jsx("span",{className:"bg-gray-600 text-white px-2 py-1 rounded text-sm",children:"User"})}),h.jsx("td",{className:"p-3",children:h.jsx("span",{className:`px-2 py-1 rounded text-sm ${b(x)?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:b(x)?"Active":"Inactive"})}),h.jsx("td",{className:"p-3 text-sm",children:v(x.updated_at)}),h.jsx("td",{className:"p-3 text-sm",children:v(x.created_at)}),h.jsx("td",{className:"p-3",children:d&&d.id===x.id?h.jsx("span",{className:"text-gray-500 text-sm",children:"Current Admin"}):h.jsx("button",{onClick:()=>S(x.id),className:"bg-red-600 px-3 py-1 rounded hover:bg-red-700 text-sm",children:"Delete"})})]},x.id))})]})]})},hj=()=>{const[n,a]=_.useState([]),s=async()=>{const{data:o,error:u}=await W.from("posts").select("*").order("created_at",{ascending:!1});if(u){console.error("Fetch posts error:",u.message),a([]);return}a(o||[])};_.useEffect(()=>{s()},[]);const i=async o=>{const{error:u}=await W.from("posts").delete().eq("id",o);if(u){console.error(u.message),alert("Failed to delete post");return}a(n.filter(d=>d.id!==o))};return h.jsxs("div",{className:"p-6 text-black",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin Posts"}),n.length===0&&h.jsx("p",{className:"text-gray-400",children:"No posts found"}),n.map(o=>h.jsxs("div",{className:"mb-4 p-4 bg-gray-200 rounded",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("h2",{className:"font-semibold",children:o.title}),h.jsx("button",{onClick:()=>i(o.id),className:"text-red-500 hover:text-red-700 text-sm",children:"Delete Post"})]}),h.jsx("p",{className:"text-gray-700",children:o.content}),h.jsxs("p",{className:"text-xs text-gray-500",children:["Posted: ",new Date(o.created_at).toLocaleString()]})]},o.id))]})},mj=()=>{const[n,a]=_.useState([]),[s,i]=_.useState(!1),[o,u]=_.useState(null),[d,m]=_.useState(""),[g,p]=_.useState(""),b=E=>E===!0||E==="true"||E==="t"||E===1||E==="1"?!0:E===!1||E==="false"||E==="f"||E===0||E==="0"?!1:E===null||typeof E>"u",v=async()=>{i(!0);const E=["seeds","vegetables","plants","fertilizers","sampling"],C=[];for(const D of E){const{data:T,error:V}=await W.from(D).select("*").order("created_at",{ascending:!1});if(V){console.error(`Error fetching ${D}:`,V);continue}const Z=(T||[]).map(Y=>({...Y,approved:b(Y.approved)}));C.push(...Z.map(Y=>({...Y,table:D})))}C.sort((D,T)=>new Date(T.created_at)-new Date(D.created_at)),a(C),i(!1)};_.useEffect(()=>{v()},[]);const S=async E=>{if(confirm(`Delete this ${E.table.slice(0,-1)}?`))try{if(E.image_url&&E.image_url.includes("supabase"))try{const T=E.image_url.split("/storage/v1/object/public/product-images/")[1];T&&await W.storage.from("product-images").remove([T])}catch(T){console.error("Storage deletion error (continuing):",T)}const{data:C,error:D}=await W.from(E.table).delete().eq("id",E.id).select("*");if(D){console.error("Delete error:",D),alert(`Failed to delete: ${D.message}`);return}if(!C||C.length===0){console.error("Delete no-op: likely blocked by RLS or row not found",{product:E}),alert("Delete failed: no rows were removed. This may be caused by database row-level-security (RLS) policies blocking the action.");return}alert(`${E.name} deleted successfully `),v()}catch(C){console.error("Delete error:",C),alert("Failed to delete  Check console")}},x=async E=>{if(confirm(`Approve this ${E.table.slice(0,-1)}?`))try{const{data:C,error:D}=await W.from(E.table).update({approved:!0}).eq("id",E.id).select("*");if(D){console.error("Approve error:",D),alert(`Failed to approve: ${D.message}`);return}if(!C||C.length===0){console.error("Approve no-op: likely blocked by RLS or row not found",{product:E}),alert("Approve failed: no rows were updated. This may be caused by database row-level-security (RLS) policies blocking the action.");return}alert(`${E.name} approved successfully `),v()}catch(C){console.error("Approve error:",C),alert("Failed to approve  Check console")}},j=E=>{u(E),m(E.name),p(E.price)},O=async()=>{if(o){if(!d.trim()){alert("Product name cannot be empty");return}if(!g||g<=0){alert("Price must be greater than 0");return}try{const{data:E,error:C}=await W.from(o.table).update({name:d.trim(),price:parseFloat(g)}).eq("id",o.id).select("*");if(C){console.error("Edit error:",C),alert(`Failed to save: ${C.message}`);return}if(!E||E.length===0){console.error("Edit no-op: likely blocked by RLS or row not found",{editingProduct:o}),alert("Save failed: no rows were updated. This may be caused by database row-level-security (RLS) policies blocking the action.");return}alert(`${d} updated successfully `),u(null),m(""),p(""),v()}catch(E){console.error("Save error:",E),alert("Failed to save  Check console")}}};return h.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold",children:"Admin Product Management"}),h.jsx("button",{onClick:v,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400 transition",children:s?"Loading...":"Refresh"})]}),s&&h.jsx("p",{className:"text-center text-gray-600",children:"Loading products..."}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(E=>h.jsxs("div",{className:"bg-white p-4 rounded-xl shadow hover:shadow-lg transition",children:[h.jsxs("div",{className:"relative mb-3",children:[h.jsx("img",{src:E.image_url,alt:E.name,className:"h-44 w-full object-contain rounded"}),h.jsx("span",{className:`absolute top-2 right-2 px-2 py-1 text-xs font-semibold rounded ${E.approved?"bg-green-500 text-white":"bg-orange-500 text-white"}`,children:E.approved?" Approved":" Pending"})]}),h.jsx("h3",{className:"mt-3 font-medium text-gray-800 line-clamp-2",children:E.name}),h.jsxs("p",{className:"font-bold text-lg text-gray-900 mt-2",children:[" ",E.price]}),h.jsx("div",{className:"flex gap-1 items-center mt-2 text-xs text-gray-600",children:h.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded capitalize",children:E.table.slice(0,-1)})}),h.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["User: ",E.user_id?.substring(0,8),"..."]}),h.jsxs("div",{className:"flex gap-2 mt-4 flex-wrap",children:[!E.approved&&h.jsx("button",{onClick:()=>x(E),className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-1 rounded text-sm font-medium transition",title:"Approve this product",children:"Approve"}),h.jsxs("button",{onClick:()=>j(E),className:"flex-1 bg-yellow-500 hover:bg-yellow-600 text-white py-1 rounded flex items-center justify-center gap-1 text-sm font-medium transition",title:"Edit product details",children:[h.jsx(n_,{size:14})," Edit"]}),h.jsx("button",{onClick:()=>S(E),className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-1 rounded text-sm font-medium transition",title:"Delete this product",children:"Delete"})]})]},`${E.table}-${E.id}`))}),o&&h.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex justify-center items-center",children:h.jsxs("div",{className:"bg-white p-6 rounded shadow w-96",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h3",{className:"text-xl font-bold",children:["Edit ",o.table.slice(0,-1)]}),h.jsx("button",{onClick:()=>u(null),className:"text-gray-500 hover:text-gray-700",children:h.jsx(Ao,{})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Product Name"}),h.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:d,onChange:E=>m(E.target.value),placeholder:"Enter product name"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Price ()"}),h.jsx("input",{type:"number",step:"0.01",className:"w-full p-2 border rounded",value:g,onChange:E=>p(E.target.value),placeholder:"Enter price"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{className:"flex-1 bg-green-700 text-white py-2 rounded hover:bg-green-800",onClick:O,children:"Save Changes"}),h.jsx("button",{className:"flex-1 bg-gray-400 text-white py-2 rounded hover:bg-gray-500",onClick:()=>u(null),children:"Cancel"})]})]})]})})]})},gj=()=>{const[n,a]=_.useState(""),[s,i]=_.useState(""),[o,u]=_.useState("device"),[d,m]=_.useState(null),[g,p]=_.useState(""),[b,v]=_.useState([]),[S,x]=_.useState(null),[j,O]=_.useState(""),[E,C]=_.useState(!1),[D,T]=_.useState(()=>Date.now()),V=async()=>{const{data:z}=await W.auth.getUser();x(z?.user||null)},Z=async()=>{const{data:z}=await W.from("videos").select("*").order("created_at",{ascending:!1});v(z||[])};_.useEffect(()=>{V(),Z()},[]);const Y=z=>z.includes("youtube.com")||z.includes("youtu.be"),N=z=>z.includes("instagram.com/reel")||z.includes("instagram.com/p"),B=z=>{let de="";return z.includes("shorts/")?de=z.split("shorts/")[1]?.split("?")[0]:z.includes("v=")?de=z.split("v=")[1]?.split("&")[0]:z.includes("youtu.be/")&&(de=z.split("youtu.be/")[1]?.split("?")[0]),`https://www.youtube.com/embed/${de}`},F=z=>`${z}embed`,ce=async z=>{if(z.preventDefault(),!S)return O("Please login ");C(!0);let de=g;try{if(o==="device"){const we=`${Date.now()}-${d.name}`;await W.storage.from("videos").upload(we,d),de=W.storage.from("videos").getPublicUrl(we).data.publicUrl}await W.from("videos").insert([{title:n,description:s,video_url:de,user_id:S.id,is_admin:!1}]),O("Uploaded successfully "),a(""),i(""),p(""),m(null),T(Date.now()),Z()}catch(we){console.error(we),O("Upload failed ")}C(!1)},ae=async z=>{if(confirm("Delete this video?")){if(await W.from("videos").delete().eq("id",z.id),z.video_url.includes("supabase")){const de=z.video_url.split("/storage/v1/object/public/videos/")[1];de&&await W.storage.from("videos").remove([de])}Z()}};return h.jsxs("div",{className:"p-6",children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Upload Reel"}),h.jsxs("div",{className:"flex gap-4 mb-4",children:[h.jsx("button",{type:"button",onClick:()=>u("device"),className:`px-4 py-2 rounded ${o==="device"?"bg-green-700 text-white":"bg-gray-200"}`,children:"My Device"}),h.jsx("button",{type:"button",onClick:()=>u("link"),className:`px-4 py-2 rounded ${o==="link"?"bg-green-700 text-white":"bg-gray-200"}`,children:"Link"})]}),h.jsxs("form",{onSubmit:ce,className:"space-y-4 max-w-xl",children:[h.jsx("input",{placeholder:"Title",value:n,onChange:z=>a(z.target.value),className:"w-full p-2 border rounded",required:!0}),h.jsx("textarea",{placeholder:"Description",value:s,onChange:z=>i(z.target.value),className:"w-full p-2 border rounded"}),o==="device"?h.jsx("input",{type:"file",accept:"video/*",onChange:z=>m(z.target.files[0]),required:!0},D):h.jsx("input",{type:"url",placeholder:"YouTube / Instagram URL",value:g,onChange:z=>p(z.target.value),className:"w-full p-2 border rounded"}),h.jsx("button",{className:"bg-green-700 text-white px-4 py-2 rounded",disabled:E,children:E?"Uploading...":"Upload"}),j&&h.jsx("p",{children:j})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 mt-10",children:b.map(z=>{const de=S?.id===z.user_id&&z.is_admin===!1;return h.jsxs("div",{className:"bg-black rounded-xl overflow-hidden",children:[h.jsx("div",{className:"aspect-[9/16]",children:Y(z.video_url)?h.jsx("iframe",{src:B(z.video_url),className:"w-full h-full"}):N(z.video_url)?h.jsx("iframe",{src:F(z.video_url),className:"w-full h-full"}):h.jsx("video",{src:z.video_url,controls:!0,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"p-2 text-white",children:[h.jsx("p",{className:"font-bold text-sm",children:z.title}),de&&h.jsx("button",{onClick:()=>ae(z),className:"mt-2 text-xs bg-red-600 px-2 py-1 rounded",children:"Delete"})]})]},z.id)})})]})},pj=()=>{const[n,a]=_.useState(""),[s,i]=_.useState(1),[o,u]=_.useState(""),[d,m]=_.useState(null),[g,p]=_.useState(null),[b,v]=_.useState(!1),[S]=_.useState(Date.now()),[x,j]=_.useState([]),[O,E]=_.useState(!1),C="product-images";_.useEffect(()=>{D()},[]),_.useEffect(()=>{T();const Y=setInterval(T,1e4);return()=>clearInterval(Y)},[g]);const D=async()=>{const{data:Y}=await W.auth.getUser();p(Y?.user||null)},T=async()=>{E(!0);try{if(!g){const{data:B,error:F}=await W.from("vegetables").select("*").eq("approved",!0).order("created_at",{ascending:!1});F?console.error("Fetch vegetables error:",F):j(B||[]);return}const{data:Y,error:N}=await W.from("vegetables").select("*").or(`approved.eq.true,user_id.eq.${g.id}`).order("created_at",{ascending:!1});N?console.error("Fetch vegetables error:",N):j(Y||[])}finally{E(!1)}},V=async Y=>{if(Y.preventDefault(),!d)return alert("Select image");const{data:N}=await W.auth.getUser();if(!N?.user)return alert("Login required");v(!0);try{const B=`${Date.now()}-${d.name}`;await W.storage.from(C).upload(B,d);const{data:F}=W.storage.from(C).getPublicUrl(B),ce=Math.round(o/s),{error:ae}=await W.from("vegetables").insert([{name:n,image_url:F.publicUrl,price:ce,user_id:N.user.id}]);if(ae)throw ae;alert("Vegetable added "),window.location.reload()}catch(B){console.error(B),alert("Upload failed ")}v(!1)},Z=async Y=>{if(window.confirm("Are you sure you want to delete this vegetable?"))try{const{error:N}=await W.from("vegetables").delete().eq("id",Y).eq("user_id",g.id);if(N)throw N;alert(" Vegetable deleted successfully"),T()}catch(N){console.error("Delete error:",N),alert(" Failed to delete vegetable")}};return h.jsxs("section",{className:"max-w-7xl mx-auto px-6 pt-32 pb-10",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsx("h2",{className:"text-2xl font-bold",children:"VEGETABLE"}),h.jsx("button",{onClick:T,disabled:O,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-60",children:O?"Refreshing...":"Refresh"})]}),g&&h.jsxs("div",{className:"max-w-md mx-auto mb-10 p-6 bg-white rounded-lg shadow",children:[h.jsx("h3",{className:"font-semibold mb-4",children:"Add Vegetable"}),h.jsxs("form",{onSubmit:V,className:"space-y-4",children:[h.jsx("input",{placeholder:"Vegetable Name",value:n,onChange:Y=>a(Y.target.value),className:"w-full p-2 border rounded",required:!0}),h.jsxs("select",{value:s,onChange:Y=>i(Number(Y.target.value)),className:"w-full p-2 border rounded",children:[h.jsx("option",{value:1,children:"1 Kg"}),h.jsx("option",{value:2,children:"2 Kg"}),h.jsx("option",{value:3,children:"3 Kg"})]}),h.jsx("input",{type:"number",placeholder:`Price for ${s} Kg`,value:o,onChange:Y=>u(Y.target.value),className:"w-full p-2 border rounded",required:!0}),h.jsx("input",{type:"file",accept:"image/*",onChange:Y=>m(Y.target.files[0]),className:"w-full p-2 border rounded",required:!0},S),h.jsx("button",{disabled:b,className:"w-full bg-green-700 text-white py-2 rounded",children:b?"Uploading...":"Add Vegetable"})]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:x.map(Y=>h.jsx(yj,{item:Y,user:g,onDelete:Z},Y.id))})]})},yj=({item:n,user:a,onDelete:s})=>{const{addToCart:i}=Tr(),[o,u]=_.useState(1),d=a&&n.user_id===a.id,m=n.price*o;return h.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow hover:shadow-lg",children:[h.jsx("div",{className:"h-40 mx-auto flex items-center justify-center bg-gray-100 rounded overflow-hidden",children:h.jsx("img",{src:n.image_url,alt:n.name,className:"h-40 w-full object-contain",onError:g=>{g.target.src="https://via.placeholder.com/160?text=No+Image"}})}),h.jsx("h3",{className:"mt-3 font-medium",children:n.name}),h.jsxs("p",{className:"text-sm text-gray-600",children:[" ",n.price," / kg"]}),!n.approved&&h.jsx("p",{className:"text-orange-600 text-sm font-medium mt-1",children:" Pending Approval"}),h.jsx("select",{value:o,onChange:g=>u(Number(g.target.value)),className:"w-full mt-2 border p-2 rounded",children:[1,2,3].map(g=>h.jsxs("option",{value:g,children:[g," Kg"]},g))}),h.jsxs("p",{className:"mt-2 font-bold text-lg",children:[" ",m]}),h.jsx("button",{onClick:()=>i({...n,kg:o,price:m}),className:"mt-3 w-full bg-[#87b446] text-white py-2 rounded-full disabled:opacity-60",disabled:!n.approved,children:"Add to Cart"}),d&&h.jsx("button",{onClick:()=>s(n.id),className:"mt-2 w-full bg-red-600 hover:bg-red-700 text-white py-2 rounded-full text-sm font-semibold",children:" Delete This Product"})]})},vj=()=>{const[n,a]=_.useState(""),[s,i]=_.useState(""),[o,u]=_.useState(null),[d,m]=_.useState(null),[g,p]=_.useState(!1),[b,v]=_.useState(Date.now()),S="product-images",[x,j]=_.useState([]),[O,E]=_.useState(!0),[C,D]=_.useState(!1);_.useEffect(()=>{T()},[]),_.useEffect(()=>{V();const B=setInterval(V,1e4);return()=>clearInterval(B)},[d]);const T=async()=>{const{data:{user:B}}=await W.auth.getUser();B&&m(B)},V=async()=>{D(!0);try{const B=z=>z===!0||z==="true"||z==="t"||z===1||z==="1"?!0:z===!1||z==="false"||z==="f"||z===0||z==="0"?!1:z===null||typeof z>"u",{data:F,error:ce}=await W.from("fertilizers").select("*").order("created_at",{ascending:!1});if(ce){console.error("Fetch fertilizers error:",ce);return}const ae=(F||[]).map(z=>({...z,approved:B(z.approved)}));if(!d){j(ae.filter(z=>z.approved));return}j(ae.filter(z=>z.approved||z.user_id===d.id))}finally{D(!1),E(!1)}},Z=async B=>{if(B.preventDefault(),!n.trim()){alert("Please enter a fertilizer name");return}if(!s||s<=0){alert("Please enter a valid price");return}if(!o){alert("Please select an image");return}if(!d){alert("Please login first");return}p(!0);try{const F=d,ce=`${Date.now()}-${o.name}`,{error:ae}=await W.storage.from(S).upload(ce,o);if(ae)throw console.error("Upload error details:",ae),ae;const{data:z}=W.storage.from(S).getPublicUrl(ce),de=z?.publicUrl||null,{data:we,error:xe}=await W.from("fertilizers").insert([{name:n.trim(),price:parseFloat(s),image_url:de,user_id:F.id}]);if(xe)throw console.error("Insert error details:",xe),xe;console.log("Fertilizer inserted successfully:",we),alert(`Fertilizer added successfully 
Waiting for admin approval...`),a(""),i(""),u(null),v(Date.now()),V()}catch(F){console.error("Add fertilizer error:",F),alert("Failed to add fertilizer  Check console for details")}p(!1)},Y=async B=>{if(window.confirm("Are you sure you want to delete this fertilizer?"))try{const{error:F}=await W.from("fertilizers").delete().eq("id",B).eq("user_id",d.id);if(F)throw F;alert(" Fertilizer deleted successfully"),V()}catch(F){console.error("Delete error:",F),alert(" Failed to delete fertilizer")}},N=[...x];return h.jsxs("section",{className:"max-w-7xl mx-auto px-6 pt-32 pb-10",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsx("h2",{className:"text-2xl font-bold text-black",children:"FERTILIZER"}),h.jsx("button",{onClick:V,disabled:C,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-60",children:C?"Refreshing...":"Refresh"})]}),d&&h.jsxs("div",{className:"max-w-md mx-auto mb-8 p-6 bg-white rounded-lg shadow",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add Your Fertilizer"}),h.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[h.jsx("input",{placeholder:"Fertilizer Name (required)",value:n,onChange:B=>a(B.target.value),className:"w-full p-2 border rounded",required:!0}),h.jsx("input",{type:"number",step:"0.01",placeholder:"Price in  (required)",value:s,onChange:B=>i(B.target.value),className:"w-full p-2 border rounded",required:!0}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Select Image (required)"}),h.jsx("input",{type:"file",accept:"image/*",onChange:B=>u(B.target.files[0]),className:"w-full p-2 border rounded",required:!0},b),o&&h.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[" ",o.name]})]}),h.jsx("button",{type:"submit",className:"w-full bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800 disabled:bg-gray-400 disabled:cursor-not-allowed transition",disabled:g,children:g?"Uploading...":"Add Fertilizer"})]})]}),O&&h.jsx("p",{className:"text-center",children:"Loading fertilizers..."}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:N.map(B=>h.jsx(bj,{item:B,user:d,onDelete:Y},B.id||B.name))})]})},bj=({item:n,user:a,onDelete:s})=>{const{addToCart:i}=Tr(),o=n.rating||0,u=n.reviews||0,d=n.oldPrice||null,m=n.discount||null,g=a&&n.user_id===a.id;return h.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm hover:shadow-lg transition",children:[h.jsx("div",{className:"rounded-xl aspect-square flex items-center justify-center overflow-hidden bg-gray-100",children:h.jsx("img",{src:n.image||n.image_url,alt:n.name,className:"max-h-full max-w-full object-contain"})}),h.jsx("h3",{className:"mt-4 text-sm font-medium text-gray-800 line-clamp-2",children:n.name}),g&&n.approved===!1&&h.jsx("p",{className:"text-xs text-orange-600 font-medium mt-1",children:" Pending Approval"}),h.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm",children:[h.jsx("div",{className:"text-green-700",children:o>0?"".repeat(o)+"".repeat(5-o):"No Rating"}),h.jsxs("span",{className:"text-gray-500",children:[u," ",u===1?"Rating":"Ratings"]})]}),h.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[h.jsxs("span",{className:"text-lg font-bold text-black",children:[" ",n.price]}),d&&h.jsxs("span",{className:"line-through text-sm text-gray-400",children:[" ",d]}),m&&h.jsx("span",{className:"text-green-700 text-sm font-semibold",children:m})]}),h.jsx("div",{className:"mt-4 flex gap-2",children:h.jsx("button",{onClick:()=>i(n),className:"flex-1 bg-[#87b446] hover:bg-[#588b21] text-white py-2 rounded-full text-sm font-medium transition disabled:opacity-60",disabled:!n.approved,children:"Add to Cart"})}),g&&s&&h.jsx("button",{onClick:()=>s(n.id),className:"mt-2 w-full bg-red-600 hover:bg-red-700 text-white py-2 rounded-full text-sm font-semibold",children:" Delete This Product"})]})},wj=()=>{const[n,a]=_.useState(""),[s,i]=_.useState(""),[o,u]=_.useState(null),[d,m]=_.useState([]),[g,p]=_.useState(null),[b,v]=_.useState(!1),[S,x]=_.useState(Date.now()),j="product-images",{addToCart:O}=Tr();_.useEffect(()=>{E()},[]),_.useEffect(()=>{C()},[g]);const E=async()=>{const{data:V}=await W.auth.getUser();p(V?.user||null)},C=async()=>{if(!g){const{data:Y,error:N}=await W.from("seeds").select("*").eq("approved",!0).order("created_at",{ascending:!1});N?console.error("Fetch seeds error:",N):m(Y||[]);return}const{data:V,error:Z}=await W.from("seeds").select("*").or(`approved.eq.true,user_id.eq.${g.id}`).order("created_at",{ascending:!1});Z?console.error("Fetch seeds error:",Z):m(V||[])},D=async V=>{if(V.preventDefault(),!o)return alert("Please select an image");const{data:Z}=await W.auth.getUser(),Y=Z?.user;if(!Y)return alert("Please login first");v(!0);try{const N=`${Date.now()}-${o.name}`,{error:B}=await W.storage.from(j).upload(N,o,{upsert:!0});if(B){const de=B?.message||"Storage upload error";if(console.error("Upload error details:",B),de.includes("Bucket not found")||B?.status===404){alert(`Upload failed: storage bucket "${j}" not found. Create it in Supabase dashboard  Storage  Create bucket (name: ${j}).`),v(!1);return}throw B}const{data:F}=W.storage.from(j).getPublicUrl(N),ce=F?.publicUrl||null,{data:ae,error:z}=await W.from("seeds").insert([{name:n,price:parseInt(s),image_url:ce,user_id:Y.id}]);if(z)throw console.error("Insert error details:",z),z;console.log("Seed inserted successfully:",ae),alert("Seed added successfully "),a(""),i(""),u(null),x(Date.now()),C()}catch(N){console.error("Add seed error:",N),alert("Failed to add seed  Check console")}v(!1)},T=async V=>{if(window.confirm("Are you sure you want to delete this seed?"))try{const{error:Z}=await W.from("seeds").delete().eq("id",V).eq("user_id",g.id);if(Z)throw Z;alert(" Seed deleted successfully"),C()}catch(Z){console.error("Delete error:",Z),alert(" Failed to delete seed")}};return h.jsxs("div",{className:"max-w-7xl mx-auto px-6 pt-32 pb-10",children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Add Seed"}),h.jsxs("form",{onSubmit:D,className:"space-y-4 max-w-md",children:[h.jsx("input",{placeholder:"Seed Name",value:n,onChange:V=>a(V.target.value),className:"w-full p-2 border rounded",required:!0}),h.jsx("input",{type:"number",placeholder:"Price",value:s,onChange:V=>i(V.target.value),className:"w-full p-2 border rounded",required:!0}),h.jsx("input",{type:"file",accept:"image/*",onChange:V=>u(V.target.files[0]),required:!0},S),h.jsx("button",{type:"submit",className:"bg-green-700 text-white px-4 py-2 rounded",disabled:b,children:b?"Uploading...":"Add Seed"})]}),h.jsx("h2",{className:"text-2xl font-bold my-6",children:"All Seeds"}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:d.map(V=>h.jsxs("div",{className:"bg-white rounded shadow p-4",children:[h.jsx("img",{src:V.image_url,className:"w-full aspect-square object-contain bg-gray-100 rounded"}),h.jsx("h3",{className:"font-bold mt-2",children:V.name}),h.jsxs("p",{children:["",V.price]}),!V.approved&&h.jsx("p",{className:"text-orange-600 text-sm font-medium mt-1",children:" Pending Approval"}),h.jsx("button",{onClick:()=>O(V),className:"mt-3 w-full bg-[#87b446] text-white py-2 rounded-full disabled:opacity-60",disabled:!V.approved,children:"Add to Cart"}),g&&g.id===V.user_id&&h.jsx("button",{onClick:()=>T(V.id),className:"mt-2 w-full bg-red-600 hover:bg-red-700 text-white py-2 rounded-full text-sm font-semibold",children:" Delete This Product"})]},V.id))})]})},xj=()=>{const[n,a]=_.useState(""),[s,i]=_.useState(""),[o,u]=_.useState(null),[d,m]=_.useState(null),[g,p]=_.useState(!1),[b,v]=_.useState(Date.now()),[S,x]=_.useState([]),[j,O]=_.useState(!0),[E,C]=_.useState(!1),D="product-images";_.useEffect(()=>{T()},[]),_.useEffect(()=>{V();const B=setInterval(V,1e4);return()=>clearInterval(B)},[d]);const T=async()=>{const{data:B}=await W.auth.getUser();m(B?.user||null)},V=async()=>{C(!0);try{const B=z=>z===!0||z==="true"||z==="t"||z===1||z==="1"?!0:z===!1||z==="false"||z==="f"||z===0||z==="0"?!1:z===null||typeof z>"u",{data:F,error:ce}=await W.from("plants").select("*").order("created_at",{ascending:!1});if(ce){console.error("Fetch plants error:",ce);return}const ae=(F||[]).map(z=>({...z,approved:B(z.approved)}));if(!d){x(ae.filter(z=>z.approved));return}x(ae.filter(z=>z.approved||z.user_id===d.id))}finally{C(!1),O(!1)}},Z=async B=>{if(B.preventDefault(),!n.trim()){alert("Please enter a plant name");return}if(!s||s<=0){alert("Please enter a valid price");return}if(!o){alert("Please select an image");return}const{data:F}=await W.auth.getUser();if(!F?.user){alert("Please login first");return}p(!0);try{const ce=F?.user,{error:ae}=await W.storage.from(D).list("",{limit:1});if(ae)if(console.error("Bucket check error:",ae),ae.message?.includes("Bucket not found")||ae.status===404)try{const se="https://uatoxkofrxxbvipkcwve.supabase.co",Ee="sb_publishable_ROQGNPaXzIAYx7ww3BaGrQ_PJhbTxJq",Te=await fetch(`${se}/storage/v1/bucket`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ee}`,apikey:Ee},body:JSON.stringify({name:D,public:!0})});if(!Te.ok)throw new Error(`Failed to create bucket: ${Te.statusText}`);console.log(`Bucket "${D}" created successfully.`)}catch(se){console.error("Failed to create bucket:",se),alert(`Storage bucket "${D}" not found and could not be created. Please create it manually in Supabase dashboard  Storage  Create bucket (name: ${D}).`),p(!1);return}else{alert(`Storage error: ${ae.message}`),p(!1);return}const z=`${Date.now()}-${o.name}`,{error:de}=await W.storage.from(D).upload(z,o,{upsert:!0});if(de){const se=de?.message||"Storage upload error";if(console.error("Upload error details:",de),se.includes("Bucket not found")||de?.status===404){alert(`Upload failed: storage bucket "${D}" not found. Create it in Supabase dashboard  Storage  Create bucket (name: ${D}).`),p(!1);return}throw de}const{data:we}=W.storage.from(D).getPublicUrl(z),xe=we?.publicUrl||null,{data:P,error:te}=await W.from("plants").insert([{name:n.trim(),price:parseFloat(s),image_url:xe,user_id:ce.id}]);if(te)throw console.error("Insert error details:",te),te;console.log("Plant inserted successfully:",P),alert("Plant added successfully "),a(""),i(""),u(null),v(Date.now()),V()}catch(ce){console.error("Add plant error:",ce),alert("Failed to add plant  Check console for details")}p(!1)},Y=async B=>{if(window.confirm("Are you sure you want to delete this plant?"))try{const{error:F}=await W.from("plants").delete().eq("id",B).eq("user_id",d.id);if(F)throw F;alert(" Plant deleted successfully"),V()}catch(F){console.error("Delete error:",F),alert(" Failed to delete plant")}},N=[...S];return h.jsxs("section",{className:"max-w-7xl mx-auto px-6 pt-32 pb-10",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsx("h2",{className:"text-2xl font-bold text-[#000000]",children:"PLANTS"}),h.jsx("button",{onClick:V,disabled:E,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-60",children:E?"Refreshing...":"Refresh"})]}),d&&h.jsxs("div",{className:"max-w-md mx-auto mb-8 p-6 bg-white rounded-lg shadow",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add Your Plant"}),h.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[h.jsx("input",{placeholder:"Plant Name (required)",value:n,onChange:B=>a(B.target.value),className:"w-full p-2 border rounded",required:!0}),h.jsx("input",{type:"number",step:"0.01",placeholder:"Price in  (required)",value:s,onChange:B=>i(B.target.value),className:"w-full p-2 border rounded",required:!0}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Select Image (required)"}),h.jsx("input",{type:"file",accept:"image/*",onChange:B=>u(B.target.files[0]),className:"w-full p-2 border rounded",required:!0},b),o&&h.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[" ",o.name]})]}),h.jsx("button",{type:"submit",className:"w-full bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800 disabled:bg-gray-400 disabled:cursor-not-allowed transition",disabled:g,children:g?"Uploading...":"Add Plant"})]})]}),j&&h.jsx("p",{className:"text-center",children:"Loading plants..."}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:N.map(B=>h.jsx(_j,{item:B,user:d,onDelete:Y},B.id||B.name))})]})},_j=({item:n,user:a,onDelete:s})=>{const{addToCart:i}=Tr(),o=n.rating||0,u=n.reviews||0,d=n.oldPrice||null,m=n.discount||null,g=a&&n.user_id===a.id;return h.jsxs("div",{className:"bg-[#ffffff] rounded-2xl p-4 shadow-sm hover:shadow-lg transition",children:[h.jsx("div",{className:"bg-[rgb(255,255,255)] rounded-xl aspect-square flex items-center justify-center overflow-hidden",children:h.jsx("img",{src:n.image||n.image_url,alt:n.name,className:"max-h-full max-w-full object-contain"})}),h.jsx("h3",{className:"mt-4 text-sm font-medium text-gray-800 line-clamp-2",children:n.name}),g&&n.approved===!1&&h.jsx("p",{className:"text-xs text-orange-600 font-medium mt-1",children:" Pending Approval"}),u>0&&h.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm",children:[h.jsxs("div",{className:"text-green-700",children:["".repeat(o),"".repeat(5-o)]}),h.jsxs("span",{className:"text-gray-500",children:[u," Rating"]})]}),h.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[h.jsxs("span",{className:"text-lg font-bold text-black",children:[" ",n.price]}),d&&h.jsxs(h.Fragment,{children:[h.jsxs("span",{className:"line-through text-sm text-gray-400",children:[" ",d]}),h.jsx("span",{className:"text-green-700 text-sm font-semibold",children:m})]})]}),h.jsx("div",{className:"flex items-center justify-between mt-4",children:h.jsx("button",{onClick:()=>i(n),className:"bg-[#87b446] hover:bg-[#588b21] mt-3 w-full text-white py-2 rounded-full disabled:opacity-60",disabled:!n.approved,children:"Add to Cart"})}),g&&s&&h.jsx("button",{onClick:()=>s(n.id),className:"mt-2 w-full bg-red-600 hover:bg-red-700 text-white py-2 rounded-full text-sm font-semibold",children:" Delete This Product"})]})},Sj=()=>{const[n,a]=_.useState(""),[s,i]=_.useState(""),[o,u]=_.useState(null),[d,m]=_.useState(null),[g,p]=_.useState(!1),[b,v]=_.useState(Date.now()),S="product-images",[x,j]=_.useState([]),[O,E]=_.useState(!0),[C,D]=_.useState(!1);_.useEffect(()=>{T()},[]),_.useEffect(()=>{V();const B=setInterval(V,1e4);return()=>clearInterval(B)},[d]);const T=async()=>{const{data:{user:B}}=await W.auth.getUser();B&&m(B)},V=async()=>{D(!0);try{const B=ae=>ae===!0||ae==="true"||ae==="t"||ae===1;if(!d){const{data:ae,error:z}=await W.from("sampling").select("*").eq("approved",!0).order("created_at",{ascending:!1});z?console.error("Fetch sampling error:",z):j((ae||[]).map(de=>({...de,approved:B(de.approved)})));return}const{data:F,error:ce}=await W.from("sampling").select("*").or(`approved.eq.true,user_id.eq.${d.id}`).order("created_at",{ascending:!1});ce?console.error("Fetch sampling error:",ce):j((F||[]).map(ae=>({...ae,approved:B(ae.approved)})))}finally{D(!1),E(!1)}},Z=async B=>{if(B.preventDefault(),!n.trim()){alert("Please enter a sampling name");return}if(!s||s<=0){alert("Please enter a valid price");return}if(!o){alert("Please select an image");return}if(!d){alert("Please login first");return}p(!0);try{const F=d,ce=`${Date.now()}-${o.name}`,{error:ae}=await W.storage.from(S).upload(ce,o);if(ae)throw console.error("Upload error details:",ae),ae;const{data:z}=W.storage.from(S).getPublicUrl(ce),de=z?.publicUrl||null,{data:we,error:xe}=await W.from("sampling").insert([{name:n.trim(),price:parseFloat(s),image_url:de,user_id:F.id}]);if(xe)throw console.error("Insert error details:",xe),xe;console.log("Sampling inserted successfully:",we),alert(`Sampling added successfully 
Waiting for admin approval...`),a(""),i(""),u(null),v(Date.now()),V()}catch(F){console.error("Add sampling error:",F),alert("Failed to add sampling  Check console for details")}p(!1)},Y=async B=>{if(window.confirm("Are you sure you want to delete this sampling?"))try{const{error:F}=await W.from("sampling").delete().eq("id",B).eq("user_id",d.id);if(F)throw F;alert(" Sampling deleted successfully"),V()}catch(F){console.error("Delete error:",F),alert(" Failed to delete sampling")}},N=[...x];return h.jsxs("section",{className:"max-w-7xl mx-auto px-6 pt-32 pb-10",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsx("h2",{className:"text-2xl font-bold text-black",children:"SAMPLING"}),h.jsx("button",{onClick:V,disabled:C,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-60",children:C?"Refreshing...":"Refresh"})]}),d&&h.jsxs("div",{className:"max-w-md mx-auto mb-8 p-6 bg-white rounded-lg shadow",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add Your Sampling"}),h.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[h.jsx("input",{placeholder:"Sampling Name (required)",value:n,onChange:B=>a(B.target.value),className:"w-full p-2 border rounded",required:!0}),h.jsx("input",{type:"number",step:"0.01",placeholder:"Price in  (required)",value:s,onChange:B=>i(B.target.value),className:"w-full p-2 border rounded",required:!0}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Select Image (required)"}),h.jsx("input",{type:"file",accept:"image/*",onChange:B=>u(B.target.files[0]),className:"w-full p-2 border rounded",required:!0},b),o&&h.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[" ",o.name]})]}),h.jsx("button",{type:"submit",className:"w-full bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800 disabled:bg-gray-400 disabled:cursor-not-allowed transition",disabled:g,children:g?"Uploading...":"Add Sampling"})]})]}),O&&h.jsx("p",{className:"text-center",children:"Loading samplings..."}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:N.map(B=>h.jsx(Ej,{item:B,user:d,onDelete:Y},B.id||B.name))})]})},Ej=({item:n,user:a,onDelete:s})=>{const{addToCart:i}=Tr(),o=n.rating?Math.min(Math.max(n.rating,0),5):0,u=n.oldPrice||null,d=n.reviews||0,m=n.discount||null,g=a&&n.user_id===a.id;return h.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm hover:shadow-lg transition",children:[h.jsx("div",{className:"rounded-xl aspect-square flex items-center justify-center overflow-hidden bg-gray-100",children:h.jsx("img",{src:n.image||n.image_url,alt:n.name,className:"max-h-full max-w-full object-contain"})}),h.jsx("h3",{className:"mt-4 text-sm font-medium text-gray-800 line-clamp-2",children:n.name}),g&&n.approved===!1&&h.jsx("p",{className:"text-xs text-orange-600 font-medium mt-1",children:" Pending Approval"}),d>0&&h.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm",children:[h.jsxs("div",{className:"text-green-700",children:["".repeat(o),"".repeat(5-o)]}),h.jsxs("span",{className:"text-gray-500",children:[d," Rating"]})]}),h.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[h.jsxs("span",{className:"text-lg font-bold text-black",children:[" ",n.price]}),u&&h.jsxs("span",{className:"line-through text-sm text-gray-400",children:[" ",u]}),m&&h.jsx("span",{className:"text-green-700 text-sm font-semibold",children:m})]}),h.jsx("div",{className:"mt-4 flex gap-2",children:h.jsx("button",{onClick:()=>i(n),className:"flex-1 bg-[#87b446] hover:bg-[#588b21] text-white py-2 rounded-full text-sm font-medium transition disabled:opacity-60",disabled:!n.approved,children:"Add to Cart"})}),g&&s&&h.jsx("button",{onClick:()=>s(n.id),className:"mt-2 w-full bg-red-600 hover:bg-red-700 text-white py-2 rounded-full text-sm font-semibold",children:" Delete This Product"})]})},jj=()=>{const[n,a]=_.useState([]),[s,i]=_.useState({}),[o,u]=_.useState(null),[d,m]=_.useState(""),[g,p]=_.useState(""),b=async()=>{const{data:E,error:C}=await W.auth.getUser();!C&&E?.user&&u(E.user)},v=async()=>{const{data:E,error:C}=await W.from("posts").select(`
        id,
        title,
        content,
        admin_id,
        created_at,
        comments (
          id,
          comment,
          user_id,
          created_at
        )
      `).order("created_at",{ascending:!1});if(C){console.error("Fetch posts error:",C.message),a([]);return}a(E||[])};_.useEffect(()=>{v(),b()},[]);const S=async()=>{if(!d||!g){alert("Fill all fields");return}if(!o){alert("Login required");return}const{error:E}=await W.from("posts").insert([{title:d,content:g,admin_id:o.id}]);if(E){console.error(E.message),alert("Failed to create post");return}m(""),p(""),v()},x=async(E,C)=>{if(!o||o.id!==C){alert("You can delete only your own post");return}const{error:D}=await W.from("posts").delete().eq("id",E);if(D){console.error(D.message),alert("Failed to delete post");return}a(n.filter(T=>T.id!==E))},j=async E=>{const C=s[E]?.trim();if(!C)return;if(!o){alert("Please login to reply");return}const{error:D}=await W.from("comments").insert([{post_id:E,user_id:o.id,comment:C}]);if(D){console.error(D.message),alert("Failed to post comment");return}i({...s,[E]:""}),v()},O=async(E,C)=>{if(!o||o.id!==C){alert("You can delete only your own comment");return}const{error:D}=await W.from("comments").delete().eq("id",E);if(D){console.error(D.message),alert("Failed to delete comment");return}v()};return h.jsxs("div",{className:"p-6 text-white",children:[h.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Posts"}),o&&h.jsxs("div",{className:"mb-6 p-4 bg-gray-800 rounded",children:[h.jsx("input",{type:"text",placeholder:"Post title",className:"w-full p-2 mb-2 rounded text-black",value:d,onChange:E=>m(E.target.value)}),h.jsx("textarea",{placeholder:"Post content",className:"w-full p-2 mb-2 rounded text-black",value:g,onChange:E=>p(E.target.value)}),h.jsx("button",{onClick:S,className:"bg-green-600 px-4 py-2 rounded text-white",children:"Create Post"})]}),n.length===0&&h.jsx("p",{className:"text-gray-400",children:"No posts yet"}),n.map(E=>h.jsxs("div",{className:"bg-gray-800 p-5 mb-6 rounded-lg",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("h2",{className:"text-lg font-semibold",children:E.title}),o?.id===E.admin_id&&h.jsx("button",{onClick:()=>x(E.id,E.admin_id),className:"text-red-500 hover:text-red-700 text-sm",children:"Delete Post"})]}),h.jsx("p",{className:"text-gray-300 mb-4",children:E.content}),h.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Posted: ",new Date(E.created_at).toLocaleString()]}),h.jsx("div",{className:"space-y-1 mb-2",children:E.comments?.map(C=>h.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[h.jsxs("span",{children:[" ",C.comment]}),o?.id===C.user_id&&h.jsx("button",{onClick:()=>O(C.id,C.user_id),className:"text-red-400 text-xs",children:"Delete"})]},C.id))}),o&&h.jsxs("div",{className:"mt-3",children:[h.jsx("input",{type:"text",placeholder:"Write a reply...",className:"w-full p-2 rounded text-black placeholder-gray-500",value:s[E.id]||"",onChange:C=>i({...s,[E.id]:C.target.value})}),h.jsx("button",{onClick:()=>j(E.id),className:"mt-2 bg-blue-600 px-4 py-1 rounded hover:bg-blue-700",children:"Reply"})]})]},E.id))]})},Nj=wx([{path:"/a",element:h.jsx(yd,{to:"/admin",replace:!0})},{path:"/admin",element:h.jsx(XE,{}),children:[{index:!0,element:h.jsx(cj,{})},{path:"videos",element:h.jsx(dj,{})},{path:"users",element:h.jsx(fj,{})},{path:"posts",element:h.jsx(hj,{})},{path:"sales",element:h.jsx(mj,{})},{path:"messages",element:h.jsx(Py,{})},{path:"messages/view",element:h.jsx(So,{})}]},{path:"/",element:h.jsx(JE,{}),children:[{index:!0,element:h.jsx(yd,{to:"/userlogin",replace:!0})},{path:"login",element:h.jsx(nj,{})},{path:"userlogin",element:h.jsx(sj,{})},{path:"register",element:h.jsx(oj,{})}]},{path:"/",element:h.jsx(FE,{children:h.jsx(IE,{})}),errorElement:h.jsx(Vp,{}),children:[{path:"home",element:h.jsx(WE,{})},{path:"about",element:h.jsx(ej,{})},{path:"cart",element:h.jsx(tj,{})},{path:"video",element:h.jsx(gj,{})},{path:"products",element:h.jsx(xj,{})},{path:"vegetable",element:h.jsx(pj,{})},{path:"seeds",element:h.jsx(wj,{})},{path:"fertilizer",element:h.jsx(vj,{})},{path:"sampling",element:h.jsx(Sj,{})},{path:"post",element:h.jsx(jj,{})},{path:"profile",element:h.jsx(uj,{})},{path:"messages",element:h.jsx(So,{})}]},{path:"*",element:h.jsx(Vp,{})}]);ib.createRoot(document.getElementById("root")).render(h.jsx(GE,{children:h.jsx(Dx,{router:Nj})}));
